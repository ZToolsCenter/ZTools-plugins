const Wg=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}};Wg();function ge(){}const Wd=r=>r;function Hd(r,e){for(const t in e)r[t]=e[t];return r}function Yd(r){return r()}function Qc(){return Object.create(null)}function ct(r){r.forEach(Yd)}function Po(r){return typeof r=="function"}function Dt(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let Jn;function ot(r,e){return Jn||(Jn=document.createElement("a")),Jn.href=e,r===Jn.href}function Hg(r){return Object.keys(r).length===0}function Ah(r,...e){if(r==null)return ge;const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function za(r){let e;return Ah(r,t=>e=t)(),e}function Si(r,e,t){r.$$.on_destroy.push(Ah(e,t))}const Gd=typeof window!="undefined";let Yg=Gd?()=>window.performance.now():()=>Date.now(),Th=Gd?r=>requestAnimationFrame(r):ge;const kr=new Set;function Kd(r){kr.forEach(e=>{e.c(r)||(kr.delete(e),e.f())}),kr.size!==0&&Th(Kd)}function Gg(r){let e;return kr.size===0&&Th(Kd),{promise:new Promise(t=>{kr.add(e={c:r,f:t})}),abort(){kr.delete(e)}}}function d(r,e){r.appendChild(e)}function Jd(r){if(!r)return document;const e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function Kg(r){const e=O("style");return Jg(Jd(r),e),e}function Jg(r,e){d(r.head||r,e)}function M(r,e,t){r.insertBefore(e,t||null)}function E(r){r.parentNode.removeChild(r)}function qr(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function O(r){return document.createElement(r)}function V(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function U(r){return document.createTextNode(r)}function k(){return U(" ")}function Li(){return U("")}function B(r,e,t,i){return r.addEventListener(e,t,i),()=>r.removeEventListener(e,t,i)}function Ch(r){return function(e){return e.preventDefault(),r.call(this,e)}}function ir(r){return function(e){return e.stopPropagation(),r.call(this,e)}}function f(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Sl(r){return r===""?null:+r}function e1(r){return Array.from(r.childNodes)}function oe(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function at(r,e){r.value=e==null?"":e}function em(r,e,t,i){r.style.setProperty(e,t,i?"important":"")}function gr(r,e){for(let t=0;t<r.options.length;t+=1){const i=r.options[t];if(i.__value===e){i.selected=!0;return}}r.selectedIndex=-1}function Al(r){const e=r.querySelector(":checked")||r.options[0];return e&&e.__value}function Ae(r,e,t){r.classList[t?"add":"remove"](e)}function tm(r,e,t=!1){const i=document.createEvent("CustomEvent");return i.initCustomEvent(r,t,!1,e),i}const Tl=new Set;let Ua=0;function t1(r){let e=5381,t=r.length;for(;t--;)e=(e<<5)-e^r.charCodeAt(t);return e>>>0}function Ec(r,e,t,i,s,n,a,o=0){const l=16.666/i;let h=`{
`;for(let w=0;w<=1;w+=l){const y=e+(t-e)*n(w);h+=w*100+`%{${a(y,1-y)}}
`}const c=h+`100% {${a(t,1-t)}}
}`,u=`__svelte_${t1(c)}_${o}`,p=Jd(r);Tl.add(p);const m=p.__svelte_stylesheet||(p.__svelte_stylesheet=Kg(r).sheet),g=p.__svelte_rules||(p.__svelte_rules={});g[u]||(g[u]=!0,m.insertRule(`@keyframes ${u} ${c}`,m.cssRules.length));const b=r.style.animation||"";return r.style.animation=`${b?`${b}, `:""}${u} ${i}ms linear ${s}ms 1 both`,Ua+=1,u}function i1(r,e){const t=(r.style.animation||"").split(", "),i=t.filter(e?n=>n.indexOf(e)<0:n=>n.indexOf("__svelte")===-1),s=t.length-i.length;s&&(r.style.animation=i.join(", "),Ua-=s,Ua||s1())}function s1(){Th(()=>{Ua||(Tl.forEach(r=>{const e=r.__svelte_stylesheet;let t=e.cssRules.length;for(;t--;)e.deleteRule(t);r.__svelte_rules={}}),Tl.clear())})}let Va;function Fa(r){Va=r}function So(){if(!Va)throw new Error("Function called outside component initialization");return Va}function zr(r){So().$$.on_mount.push(r)}function Ao(r){So().$$.after_update.push(r)}function or(r){So().$$.on_destroy.push(r)}function Ss(){const r=So();return(e,t)=>{const i=r.$$.callbacks[e];if(i){const s=tm(e,t);i.slice().forEach(n=>{n.call(r,s)})}}}function Ic(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(i=>i.call(this,e))}const an=[],as=[],Sa=[],Cl=[],im=Promise.resolve();let _l=!1;function sm(){_l||(_l=!0,im.then(am))}function rm(){return sm(),im}function qi(r){Sa.push(r)}function nm(r){Cl.push(r)}let zo=!1;const Uo=new Set;function am(){if(!zo){zo=!0;do{for(let r=0;r<an.length;r+=1){const e=an[r];Fa(e),r1(e.$$)}for(Fa(null),an.length=0;as.length;)as.pop()();for(let r=0;r<Sa.length;r+=1){const e=Sa[r];Uo.has(e)||(Uo.add(e),e())}Sa.length=0}while(an.length);for(;Cl.length;)Cl.pop()();_l=!1,zo=!1,Uo.clear()}}function r1(r){if(r.fragment!==null){r.update(),ct(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(qi)}}let Wr;function n1(){return Wr||(Wr=Promise.resolve(),Wr.then(()=>{Wr=null})),Wr}function Vo(r,e,t){r.dispatchEvent(tm(`${e?"intro":"outro"}${t}`))}const Aa=new Set;let ms;function Nt(){ms={r:0,c:[],p:ms}}function Lt(){ms.r||ct(ms.c),ms=ms.p}function be(r,e){r&&r.i&&(Aa.delete(r),r.i(e))}function ke(r,e,t,i){if(r&&r.o){if(Aa.has(r))return;Aa.add(r),ms.c.push(()=>{Aa.delete(r),i&&(t&&r.d(1),i())}),r.o(e)}}const a1={duration:0};function Zs(r,e,t,i){let s=e(r,t),n=i?0:1,a=null,o=null,l=null;function h(){l&&i1(r,l)}function c(p,m){const g=p.b-n;return m*=Math.abs(g),{a:n,b:p.b,d:g,duration:m,start:p.start,end:p.start+m,group:p.group}}function u(p){const{delay:m=0,duration:g=300,easing:b=Wd,tick:w=ge,css:y}=s||a1,v={start:Yg()+m,b:p};p||(v.group=ms,ms.r+=1),a||o?o=v:(y&&(h(),l=Ec(r,n,p,g,m,b,y)),p&&w(0,1),a=c(v,g),qi(()=>Vo(r,p,"start")),Gg(T=>{if(o&&T>o.start&&(a=c(o,g),o=null,Vo(r,a.b,"start"),y&&(h(),l=Ec(r,n,a.b,a.duration,0,b,s.css))),a){if(T>=a.end)w(n=a.b,1-n),Vo(r,a.b,"end"),o||(a.b?h():--a.group.r||ct(a.group.c)),a=null;else if(T>=a.start){const x=T-a.start;n=a.a+a.d*b(x/a.duration),w(n,1-n)}}return!!(a||o)}))}return{run(p){Po(s)?n1().then(()=>{s=s(),u(p)}):u(p)},end(){h(),a=o=null}}}function Wa(r,e){r.d(1),e.delete(r.key)}function Ur(r,e){ke(r,1,1,()=>{e.delete(r.key)})}function os(r,e,t,i,s,n,a,o,l,h,c,u){let p=r.length,m=n.length,g=p;const b={};for(;g--;)b[r[g].key]=g;const w=[],y=new Map,v=new Map;for(g=m;g--;){const S=u(s,n,g),A=t(S);let Q=a.get(A);Q?i&&Q.p(S,e):(Q=h(A,S),Q.c()),y.set(A,w[g]=Q),A in b&&v.set(A,Math.abs(g-b[A]))}const T=new Set,x=new Set;function P(S){be(S,1),S.m(o,c),a.set(S.key,S),c=S.first,m--}for(;p&&m;){const S=w[m-1],A=r[p-1],Q=S.key,I=A.key;S===A?(c=S.first,p--,m--):y.has(I)?!a.has(Q)||T.has(Q)?P(S):x.has(I)?p--:v.get(Q)>v.get(I)?(x.add(Q),P(S)):(T.add(I),p--):(l(A,a),p--)}for(;p--;){const S=r[p];y.has(S.key)||l(S,a)}for(;m;)P(w[m-1]);return w}function om(r,e){const t={},i={},s={$$scope:1};let n=r.length;for(;n--;){const a=r[n],o=e[n];if(o){for(const l in a)l in o||(i[l]=1);for(const l in o)s[l]||(t[l]=o[l],s[l]=1);r[n]=o}else for(const l in a)s[l]=1}for(const a in i)a in t||(t[a]=void 0);return t}function lm(r){return typeof r=="object"&&r!==null?r:{}}function hm(r,e,t){const i=r.$$.props[e];i!==void 0&&(r.$$.bound[i]=t,t(r.$$.ctx[i]))}function Qt(r){r&&r.c()}function Tt(r,e,t,i){const{fragment:s,on_mount:n,on_destroy:a,after_update:o}=r.$$;s&&s.m(e,t),i||qi(()=>{const l=n.map(Yd).filter(Po);a?a.push(...l):ct(l),r.$$.on_mount=[]}),o.forEach(qi)}function Ct(r,e){const t=r.$$;t.fragment!==null&&(ct(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function o1(r,e){r.$$.dirty[0]===-1&&(an.push(r),sm(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function qt(r,e,t,i,s,n,a,o=[-1]){const l=Va;Fa(r);const h=r.$$={fragment:null,ctx:null,props:n,update:ge,not_equal:s,bound:Qc(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Qc(),dirty:o,skip_bound:!1,root:e.target||l.$$.root};a&&a(h.root);let c=!1;if(h.ctx=t?t(r,e.props||{},(u,p,...m)=>{const g=m.length?m[0]:p;return h.ctx&&s(h.ctx[u],h.ctx[u]=g)&&(!h.skip_bound&&h.bound[u]&&h.bound[u](g),c&&o1(r,u)),p}):[],h.update(),c=!0,ct(h.before_update),h.fragment=i?i(h.ctx):!1,e.target){if(e.hydrate){const u=e1(e.target);h.fragment&&h.fragment.l(u),u.forEach(E)}else h.fragment&&h.fragment.c();e.intro&&be(r.$$.fragment),Tt(r,e.target,e.anchor,e.customElement),am()}Fa(l)}class zt{$destroy(){Ct(this,1),this.$destroy=ge}$on(e,t){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!Hg(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ur=[];function cm(r,e){return{subscribe:Vi(r,e).subscribe}}function Vi(r,e=ge){let t;const i=new Set;function s(o){if(Dt(r,o)&&(r=o,t)){const l=!ur.length;for(const h of i)h[1](),ur.push(h,r);if(l){for(let h=0;h<ur.length;h+=2)ur[h][0](ur[h+1]);ur.length=0}}}function n(o){s(o(r))}function a(o,l=ge){const h=[o,l];return i.add(h),i.size===1&&(t=e(s)||ge),o(r),()=>{i.delete(h),i.size===0&&(t(),t=null)}}return{set:s,update:n,subscribe:a}}function um(r,e,t){const i=!Array.isArray(r),s=i?[r]:r,n=e.length<2;return cm(t,a=>{let o=!1;const l=[];let h=0,c=ge;const u=()=>{if(h)return;c();const m=e(i?l[0]:l,a);n?a(m):c=Po(m)?m:ge},p=s.map((m,g)=>Ah(m,b=>{l[g]=b,h&=~(1<<g),o&&u()},()=>{h|=1<<g}));return o=!0,u(),function(){ct(p),c()}})}function l1(r,e){if(r instanceof RegExp)return{keys:!1,pattern:r};var t,i,s,n,a=[],o="",l=r.split("/");for(l[0]||l.shift();s=l.shift();)t=s[0],t==="*"?(a.push("wild"),o+="/(.*)"):t===":"?(i=s.indexOf("?",1),n=s.indexOf(".",1),a.push(s.substring(1,~i?i:~n?n:s.length)),o+=!!~i&&!~n?"(?:/([^/]+?))?":"/([^/]+?)",~n&&(o+=(~i?"?":"")+"\\"+s.substring(n))):o+="/"+s;return{keys:a,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}function h1(r){let e,t,i;const s=[r[2]];var n=r[0];function a(o){let l={};for(let h=0;h<s.length;h+=1)l=Hd(l,s[h]);return{props:l}}return n&&(e=new n(a()),e.$on("routeEvent",r[7])),{c(){e&&Qt(e.$$.fragment),t=Li()},m(o,l){e&&Tt(e,o,l),M(o,t,l),i=!0},p(o,l){const h=l&4?om(s,[lm(o[2])]):{};if(n!==(n=o[0])){if(e){Nt();const c=e;ke(c.$$.fragment,1,0,()=>{Ct(c,1)}),Lt()}n?(e=new n(a()),e.$on("routeEvent",o[7]),Qt(e.$$.fragment),be(e.$$.fragment,1),Tt(e,t.parentNode,t)):e=null}else n&&e.$set(h)},i(o){i||(e&&be(e.$$.fragment,o),i=!0)},o(o){e&&ke(e.$$.fragment,o),i=!1},d(o){o&&E(t),e&&Ct(e,o)}}}function c1(r){let e,t,i;const s=[{params:r[1]},r[2]];var n=r[0];function a(o){let l={};for(let h=0;h<s.length;h+=1)l=Hd(l,s[h]);return{props:l}}return n&&(e=new n(a()),e.$on("routeEvent",r[6])),{c(){e&&Qt(e.$$.fragment),t=Li()},m(o,l){e&&Tt(e,o,l),M(o,t,l),i=!0},p(o,l){const h=l&6?om(s,[l&2&&{params:o[1]},l&4&&lm(o[2])]):{};if(n!==(n=o[0])){if(e){Nt();const c=e;ke(c.$$.fragment,1,0,()=>{Ct(c,1)}),Lt()}n?(e=new n(a()),e.$on("routeEvent",o[6]),Qt(e.$$.fragment),be(e.$$.fragment,1),Tt(e,t.parentNode,t)):e=null}else n&&e.$set(h)},i(o){i||(e&&be(e.$$.fragment,o),i=!0)},o(o){e&&ke(e.$$.fragment,o),i=!1},d(o){o&&E(t),e&&Ct(e,o)}}}function u1(r){let e,t,i,s;const n=[c1,h1],a=[];function o(l,h){return l[1]?0:1}return e=o(r),t=a[e]=n[e](r),{c(){t.c(),i=Li()},m(l,h){a[e].m(l,h),M(l,i,h),s=!0},p(l,[h]){let c=e;e=o(l),e===c?a[e].p(l,h):(Nt(),ke(a[c],1,1,()=>{a[c]=null}),Lt(),t=a[e],t?t.p(l,h):(t=a[e]=n[e](l),t.c()),be(t,1),t.m(i.parentNode,i))},i(l){s||(be(t),s=!0)},o(l){ke(t),s=!1},d(l){a[e].d(l),l&&E(i)}}}function Mc(){const r=window.location.href.indexOf("#/");let e=r>-1?window.location.href.substr(r+1):"/";const t=e.indexOf("?");let i="";return t>-1&&(i=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:i}}const _h=cm(null,function(e){e(Mc());const t=()=>{e(Mc())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}});um(_h,r=>r.location);um(_h,r=>r.querystring);const $c=Vi(void 0);async function fm(r){if(!r||r.length<1||r.charAt(0)!="/"&&r.indexOf("#/")!==0)throw Error("Invalid parameter location");await rm(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0,void 0),window.location.hash=(r.charAt(0)=="#"?"":"#")+r}function f1(r,e,t){let{routes:i={}}=e,{prefix:s=""}=e,{restoreScrollState:n=!1}=e;class a{constructor(P,S){if(!S||typeof S!="function"&&(typeof S!="object"||S._sveltesparouter!==!0))throw Error("Invalid component object");if(!P||typeof P=="string"&&(P.length<1||P.charAt(0)!="/"&&P.charAt(0)!="*")||typeof P=="object"&&!(P instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:A,keys:Q}=l1(P);this.path=P,typeof S=="object"&&S._sveltesparouter===!0?(this.component=S.component,this.conditions=S.conditions||[],this.userData=S.userData,this.props=S.props||{}):(this.component=()=>Promise.resolve(S),this.conditions=[],this.props={}),this._pattern=A,this._keys=Q}match(P){if(s){if(typeof s=="string")if(P.startsWith(s))P=P.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const I=P.match(s);if(I&&I[0])P=P.substr(I[0].length)||"/";else return null}}const S=this._pattern.exec(P);if(S===null)return null;if(this._keys===!1)return S;const A={};let Q=0;for(;Q<this._keys.length;){try{A[this._keys[Q]]=decodeURIComponent(S[Q+1]||"")||null}catch{A[this._keys[Q]]=null}Q++}return A}async checkConditions(P){for(let S=0;S<this.conditions.length;S++)if(!await this.conditions[S](P))return!1;return!0}}const o=[];i instanceof Map?i.forEach((x,P)=>{o.push(new a(P,x))}):Object.keys(i).forEach(x=>{o.push(new a(x,i[x]))});let l=null,h=null,c={};const u=Ss();async function p(x,P){await rm(),u(x,P)}let m=null,g=null;n&&(g=x=>{x.state&&x.state.__svelte_spa_router_scrollY?m=x.state:m=null},window.addEventListener("popstate",g),Ao(()=>{m?window.scrollTo(m.__svelte_spa_router_scrollX,m.__svelte_spa_router_scrollY):window.scrollTo(0,0)}));let b=null,w=null;const y=_h.subscribe(async x=>{b=x;let P=0;for(;P<o.length;){const S=o[P].match(x.location);if(!S){P++;continue}const A={route:o[P].path,location:x.location,querystring:x.querystring,userData:o[P].userData,params:S&&typeof S=="object"&&Object.keys(S).length?S:null};if(!await o[P].checkConditions(A)){t(0,l=null),w=null,p("conditionsFailed",A);return}p("routeLoading",Object.assign({},A));const Q=o[P].component;if(w!=Q){Q.loading?(t(0,l=Q.loading),w=Q,t(1,h=Q.loadingParams),t(2,c={}),p("routeLoaded",Object.assign({},A,{component:l,name:l.name,params:h}))):(t(0,l=null),w=null);const I=await Q();if(x!=b)return;t(0,l=I&&I.default||I),w=Q}S&&typeof S=="object"&&Object.keys(S).length?t(1,h=S):t(1,h=null),t(2,c=o[P].props),p("routeLoaded",Object.assign({},A,{component:l,name:l.name,params:h})).then(()=>{$c.set(h)});return}t(0,l=null),w=null,$c.set(void 0)});or(()=>{y(),g&&window.removeEventListener("popstate",g)});function v(x){Ic.call(this,r,x)}function T(x){Ic.call(this,r,x)}return r.$$set=x=>{"routes"in x&&t(3,i=x.routes),"prefix"in x&&t(4,s=x.prefix),"restoreScrollState"in x&&t(5,n=x.restoreScrollState)},r.$$.update=()=>{r.$$.dirty&32&&(history.scrollRestoration=n?"manual":"auto")},[l,h,c,i,s,n,v,T]}class p1 extends zt{constructor(e){super(),qt(this,e,f1,u1,Dt,{routes:3,prefix:4,restoreScrollState:5})}}class d1{constructor(e){this.prefix=e,this.rev={}}getDBKey(e){return this.prefix+e}getRev(e){var t;return(t=this.rev[e])!=null?t:void 0}async bulkPut(e){for(const t of e)await this.put(t)}async put(e){let t={_id:this.getDBKey(e.id),data:e,_rev:this.getRev(e.id)};const i=await ztools.db.promises.put(t);return i.ok?this.rev[e.id]=i.rev:console.log("db put error:",i,t),i}async remove(e){const t=await ztools.db.promises.remove(this.getDBKey(e));return t.ok?delete this.rev[e]:console.log("db remove error:",t,e),t}async all(){const e=await ztools.db.promises.allDocs(this.prefix);let t={};for(const i of e)this.rev[i.data.id]=i._rev,t[i.data.id]=i.data;return t}}class m1{constructor(){this.store=Vi({}),this.deviceId=ztools.getNativeId(),this.dbKey=`enables/${this.deviceId}`,this.initData()}async initData(){const e=await ztools.db.promises.get(this.dbKey);e?(console.log("init enable data:",e.data),this.store.set(e.data)):["7a9c0b14-7c7a-4885-9ab8-cb039469c6d4","f9cf76a8-df5a-4e46-aea1-b221f55a424d","512c34f3-33b8-4cc3-af12-7e12571abea9","746421e5-abd3-44c5-82da-86d3c9c6c04a","507b858d-b850-45d0-b18a-c8bbb48aff85"].forEach(i=>{this.enable(i)})}switch(e){this.store.update(t=>(t[e]?delete t[e]:t[e]=!0,t)),this.updateDB()}enable(e){this.store.update(t=>(t[e]=!0,t)),this.updateDB()}remove(e){this.store.update(t=>(delete t[e],t)),this.updateDB()}enableAll(){this.store.update(e=>{const t={...e};return Object.keys(za(li)).forEach(i=>{t[i]=!0}),t}),this.updateDB()}disableAll(){this.store.update(e=>{const t={...e};return Object.keys(za(li)).forEach(i=>{t[i]=!1}),t}),this.updateDB()}removeAll(){this.store.set({}),this.updateDB()}async updateDB(){let e;this.store.subscribe(t=>{e=t})();try{const t=await ztools.db.promises.get(this.dbKey);await ztools.db.promises.put({_id:this.dbKey,data:e,_rev:t==null?void 0:t._rev}),console.log("Enable data saved:",e)}catch(t){console.error("Failed to save enable data:",t)}}subscribe(e){return this.store.subscribe(e)}}const Ai=new m1;class g1{constructor(){var e;this.store=Vi((e=ztools.dbStorage.getItem("display_mode"))!=null?e:{})}async set(e,t){this.store.update(i=>(i[e]=t,ztools.dbStorage.setItem("display_mode",i),i))}async get(e){let t;return this.store.subscribe(i=>{t=i})(),t[e]}async getOrSet(e,t="masonry"){console.log("getOrSet",e,t);let i=await this.get(e);return i||(await this.set(e,t),t)}async remove(e){this.store.update(t=>(delete t[e],ztools.dbStorage.setItem("display_mode",t),t))}async clear(){this.store.set({}),ztools.dbStorage.setItem("display_mode",{})}subscribe(e){return this.store.subscribe(e)}}var Ha=new g1;class O1{constructor(){this.db=new d1("script/"),this.store=Vi({}),this.initData()}async initData(){let e=await this.db.all();this.store.update(()=>e),console.log("store init done.")}async upsert(e){return e.updated_at=+new Date,this.store.update(t=>(t[e.id]=e,t)),await this.db.put(e)}async all(){return await this.db.all()}async remove(e){return this.store.update(t=>(delete t[e],t)),Ai.remove(e),Ha.remove(e),await this.db.remove(e)}async removeAll(){const e=await this.db.all();await Promise.all(Object.keys(e).map(t=>this.db.remove(t))),this.store.set({}),Ai.removeAll(),Ha.clear()}subscribe(e){return this.store.subscribe(e)}}var li=new O1;const b1="modulepreload",Nc={},y1="./",w1=function(e,t){return!t||t.length===0?e():Promise.all(t.map(i=>{if(i=`${y1}${i}`,i in Nc)return;Nc[i]=!0;const s=i.endsWith(".css"),n=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${n}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":b1,s||(a.as="script",a.crossOrigin=""),a.href=i,document.head.appendChild(a),s)return new Promise((o,l)=>{a.addEventListener("load",o),a.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};var v1="./assets/icon.1d538a14.jpg";class x1{constructor(){this.store=Vi({}),this.timeoutHandler=null}set(e){clearTimeout(this.timeoutHandler),this.store.update(()=>e);let t=2e3;e.type=="error"&&(t=4e3),this.timeoutHandler=setTimeout(()=>{this.store.update(()=>({}))},t)}info(e){this.set({type:"info",text:e})}success(e){this.set({type:"success",text:e})}warning(e){this.set({type:"warning",text:e})}error(e){this.set({type:"error",text:e})}subscribe(e){return this.store.subscribe(e)}}var xe=new x1,kt={isDevelopment(){return window.location.hostname==="localhost"},getIcon(r){return r||v1},formatTime(r){return r?new Date(r).toLocaleDateString("zh-CN",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):""},loadPluginAsModule(r){return new Promise((e,t)=>{try{const i=new Blob([r],{type:"application/javascript"}),s=URL.createObjectURL(i);w1(()=>import(s),[]).then(n=>{if(typeof n.default!="object")throw new Error("\u63D2\u4EF6\u5FC5\u987B\u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61");if(typeof n.default.getData!="function")throw new Error("\u63D2\u4EF6\u5FC5\u987B\u5305\u542B getData \u65B9\u6CD5");e(n.default)}).catch(n=>{t(new Error("\u63D2\u4EF6\u52A0\u8F7D\u5931\u8D25: "+n.message))}).finally(()=>{URL.revokeObjectURL(s)})}catch(i){t(new Error("\u63D2\u4EF6\u52A0\u8F7D\u5931\u8D25: "+i.message))}})},async executeScript(r,e,t){if(!r[e])return console.warn("\u811A\u672C\u65B9\u6CD5\u4E0D\u5B58\u5728:",e),null;const[i={},...s]=t,n={toast:xe,cheerio:window.Preload.cheerio,ky:window.Preload.ky,licia:window.Preload.licia,loadPage:window.Preload.loadPage,...i};return await r[e](n,...s)}};const Lc={websiteId:"5a87fe91-7cd2-48df-8f26-ecf2e12d1631",hostUrl:"https://t.1team.top",enabled:!0,events:{ROUTE_CHANGE:"route_change",HOME_CATEGORY_CHANGE:"home_category_change",SCRIPT_CATEGORY_CHANGE:"script_category_change"}},Qh=window.Preload.umami,k1=()=>{try{Qh.init({websiteId:Lc.websiteId,hostUrl:Lc.hostUrl}),console.info("Umami initialized successfully")}catch(r){console.error("Failed to initialize Umami:",r)}},P1=async(r,e={})=>{try{const t=await Qh.track({name:r,data:e,url:window.location.pathname,title:document.title,referrer:document.referrer,screen:`${window.screen.width}x${window.screen.height}`,language:navigator.language});console.info("Umami API response:",t),console.info("Event tracked successfully:",{name:r,data:e})}catch(t){console.error("Failed to track event:",t)}},S1=async(r,e={})=>{try{const t=await Qh.track({url:r,data:e,title:document.title,referrer:document.referrer,screen:`${window.screen.width}x${window.screen.height}`,language:navigator.language});console.info("Umami API response:",t),console.info("Page tracked successfully:",{url:r,data:e})}catch(t){console.error("Failed to track page:",t)}},As={init:k1,trackEvent:P1,trackPage:S1};class gn{constructor(){if(gn.instance)return gn.instance;gn.instance=this,this.init()}init(){As.init()}trackRouteChange(e){e===""&&(e="#/"),As.trackPage(e)}trackHomeCategoryChange(e){let t="/home/"+e;As.trackPage(t)}trackScriptCategoryChange(e){let t="/settings/scripts/"+e;As.trackPage(t)}trackImageAction(e,t,i=null){const s={action:e};i&&(s.script_id=i.id,s.script_title=i.title),As.trackEvent("image_action",s)}trackScriptInstall(e){const t={script_id:e.id,script_title:e.title,script_author:e.author};As.trackEvent("script_install",t)}trackScriptEdit(e){const t={script_id:e.id,script_title:e.title};As.trackEvent("script_edit",t)}trackAutoWallpaperEnable(e){const t={enabled:e};As.trackEvent("auto_wallpaper_toggle",t)}}var Fi=new gn;class A1{constructor(){var e;this.store=Vi((e=ztools.dbStorage.getItem("favorites"))!=null?e:[])}async add(e,t){e.script={id:t.id,icon:t.icon,title:t.title};let i=await this.all();const s=i.findIndex(n=>n.url===e.url);s!==-1&&i.splice(s,1),i.unshift(e),i.length>500&&(i=i.slice(0,500)),this.store.set(i),ztools.dbStorage.setItem("favorites",i)}async remove(e){let t=await this.all();t=t.filter(i=>i.url!==e),this.store.set(t),ztools.dbStorage.setItem("favorites",t)}async all(){let e;return this.store.subscribe(t=>{e=t}),e}async clear(){this.store.set([]),ztools.dbStorage.setItem("favorites",[])}subscribe(e){return this.store.subscribe(e)}}var Ls=new A1;class T1{constructor(){var e;this.store=Vi((e=ztools.dbStorage.getItem("history"))!=null?e:[])}async add(e,t){e.script={id:t.id,icon:t.icon,title:t.title};let i=await this.all();console.log("===>data:",i);const s=i.findIndex(n=>n.url===e.url);s!==-1&&i.splice(s,1),i.unshift(e),i.length>100&&(i=i.slice(0,100)),this.store.set(i),ztools.dbStorage.setItem("history",i)}async remove(e){let t=await this.all();t=t.filter(i=>i.url!==e),this.store.set(t),ztools.dbStorage.setItem("history",t)}async all(){let e;return this.store.subscribe(t=>{e=t}),e}async clear(){this.store.set([]),ztools.dbStorage.setItem("history",[])}subscribe(e){return this.store.subscribe(e)}}var Ya=new T1;const Dc={development:"http://localhost:8895",production:"https://ibox.1team.top"},C1="FsCcABaKwpa0hnMLIqeoICjXfUwg60rERqGQ3IxlkS0=";function pm(r){const e=atob(r),t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}function _1(r){const e=String.fromCharCode.apply(null,r);return btoa(e)}async function dm(){const r=pm(C1);return await crypto.subtle.importKey("raw",r,{name:"AES-GCM"},!1,["encrypt","decrypt"])}async function Q1(r){if(!r)return"";const e=JSON.stringify(r),t=new TextEncoder().encode(e),i=crypto.getRandomValues(new Uint8Array(12)),s=await dm(),n=await crypto.subtle.encrypt({name:"AES-GCM",iv:i},s,t),a=new Uint8Array(i.length+new Uint8Array(n).length);return a.set(i),a.set(new Uint8Array(n),i.length),_1(a)}async function E1(r){if(!r)return null;const e=pm(r),t=e.slice(0,12),i=e.slice(12),s=await dm(),n=await crypto.subtle.decrypt({name:"AES-GCM",iv:t},s,i),a=new TextDecoder().decode(n);return JSON.parse(a)}var Rc={encrypt:Q1,decrypt:E1};const I1={token:null,expireTime:0,loadFromStorage(){try{const r=localStorage.getItem("ztools_token");if(r){const e=JSON.parse(r);if(e.expireTime&&Date.now()<e.expireTime-5*60*1e3)return this.token=e.token,this.expireTime=e.expireTime,!0}}catch(r){console.warn("\u4ECElocalStorage\u8BFB\u53D6token\u5931\u8D25:",r)}return!1},saveToStorage(){try{localStorage.setItem("ztools_token",JSON.stringify({token:this.token,expireTime:this.expireTime}))}catch(r){console.warn("\u4FDD\u5B58token\u5230localStorage\u5931\u8D25:",r)}},async getToken(){if(this.token&&Date.now()<this.expireTime-5*60*1e3)return this.token;if(this.loadFromStorage())return this.token;try{const r=await ztools.fetchUserServerTemporaryToken();return console.log("\u83B7\u53D6\u65B0ztools token:",r),this.token=r.token,this.expireTime=r.expired_at*1e3,this.saveToStorage(),this.token}catch(r){throw console.error("\u83B7\u53D6token\u5931\u8D25:",r),r}}},M1=`${kt.isDevelopment()?Dc.development:Dc.production}/api/v1`,_i=window.Preload.ky.create({prefixUrl:M1,timeout:1e4,hooks:{beforeRequest:[async r=>{try{const e=await I1.getToken();if(e&&r.headers.set("Authorization",`Bearer ${e}`),!kt.isDevelopment()&&r.method==="POST"){const t=await r.json(),i={data:await Rc.encrypt(t)};return new Request(r,{body:JSON.stringify(i)})}if(kt.isDevelopment()){r._startTime=Date.now(),console.group(` API Request: ${r.method} ${r.url}`);const t={};r.headers.forEach((s,n)=>{t[n]=s}),console.log("Headers:",t);const i=new URL(r.url).searchParams;i.toString()&&console.log("Query Params:",Object.fromEntries(i));try{const n=await r.clone().text();n&&console.log("Body:",JSON.parse(n))}catch{console.log("Body: [\u65E0\u6CD5\u89E3\u6790\u7684\u8BF7\u6C42\u6570\u636E]")}console.groupEnd()}}catch(e){console.error("\u8BF7\u6C42\u5904\u7406\u5931\u8D25:",e)}}],afterResponse:[async(r,e,t)=>{const i=await t.json();if(kt.isDevelopment()){const a=Date.now()-r._startTime;console.group(`\u{1F4E8} API Response: ${r.method} ${r.url}`),console.log("Duration:",a+"ms"),console.log("Status:",t.status);const o={};t.headers.forEach((l,h)=>{o[h]=l}),console.log("Headers:",o),console.log("Data:",i),console.groupEnd()}if(!("code"in i)||!("msg"in i))throw new Error("Invalid response format");if(i.code!==0){const n=new Error(i.msg||"Unknown error");throw n.code=i.code,n.data=i.data,n}let s=i.data;if(!kt.isDevelopment()&&typeof s=="string")try{s=await Rc.decrypt(s)}catch(n){throw console.error(`\u54CD\u5E94\u6570\u636E\u89E3\u5BC6\u5931\u8D25, err: ${n}, data: ${s}`),new Error("Invalid data format")}return new Response(JSON.stringify(s),{status:t.status,statusText:t.statusText,headers:t.headers})}]}});var bi={getScripts(r={}){return _i.get("scripts",{searchParams:r}).json()},createScript(r){return _i.post("scripts",{json:r}).json()},getScript(r){return _i.get(`scripts/${r}`).json()},deleteScript(r){return _i.delete(`scripts/${r}`).json()},getMyScripts(r={}){return _i.get("scripts/my",{searchParams:r}).json()},addScriptDownload(r){return _i.post(`scripts/${r}/downloads`).json()},voteScript(r,e){return _i.post(`scripts/${r}/vote`,{searchParams:{type:e}}).json()},getScriptComments(r,e=1){return _i.get(`scripts/${r}/comments?page=${e}`).json()},createComment(r,e){return _i.post(`scripts/${r}/comments`,{json:{content:e}}).json()},deleteComment(r,e){return _i.delete(`scripts/${r}/comments/${e}`).json()},getWallpapers(r={}){return _i.get("wallpapers",{searchParams:r}).json()},statsWallpaper(r){return _i.post("wallpapers/stats",{json:r}).json()}};const{downloader:$1,wallpaper:N1}=window.Preload;function mm(r,e,t){const i=ztools.showOpenDialog({properties:["openDirectory"]});if(!i){console.log("\u7528\u6237\u53D6\u6D88\u4E86\u4E0B\u8F7D");return}Fi.trackImageAction("download",r,t),gm(r,i[0],()=>{e&&e(100),xe.success("\u4E0B\u8F7D\u5B8C\u6210!")},()=>{xe.error("\u4E0B\u8F7D\u5931\u8D25!")},e,t)}function gm(r,e,t,i,s,n,a=!1){var h;let o=(h=r.origin_url)!=null?h:r.url;console.log("download url: "+o);const l=new $1(o,e,{httpsRequestOptions:{rejectUnauthorized:!1}});s&&s(0),l.on("progress",c=>{console.log("Download progress:",c.progress),s&&s(Math.floor(c.progress))}),l.on("end",c=>{console.log("Download Completed"),s&&s(100),t&&t(c.filePath)}),l.on("error",c=>{console.log("Download Failed:",c),i&&i()}),l.start().catch(c=>{console.error("Download Error:",c),i&&i()}),a||(Ya.add(r,n),bi.statsWallpaper({type:"set",wallpaper:r,script:{id:n.id,title:n.title,icon:n.icon}}).catch(c=>{console.error("\u4E0A\u62A5\u58C1\u7EB8\u8BBE\u7F6E\u6570\u636E\u5931\u8D25:",c)}))}function To(r,e,t,i=!1){Fi.trackImageAction("set_wallpaper",r,t);const s=ztools.getPath("appData");gm(r,s,async n=>{e&&e(100);try{await N1(n,{screen:"all"}),console.log("\u8BBE\u7F6E\u58C1\u7EB8\u6210\u529F"),xe.success("\u8BBE\u7F6E\u58C1\u7EB8\u6210\u529F!")}catch(a){console.log("\u8BBE\u7F6E\u58C1\u7EB8\u51FA\u9519:",a),xe.error("\u8BBE\u7F6E\u58C1\u7EB8\u5931\u8D25!")}},()=>{xe.error("\u4E0B\u8F7D\u5931\u8D25!")},e,t)}function Om(r){var t,i;Fi.trackImageAction("open_browser",r);let e=(i=(t=r.link)!=null?t:r.origin_url)!=null?i:r.url;ztools.shellOpenExternal(e)}async function bm(r,e){const t=(await Ls.all()).some(i=>i.url===r.url);Fi.trackImageAction(t?"unlike":"like",r,e),t?await Ls.remove(r.url):(await Ls.add(r,e),bi.statsWallpaper({type:"collect",wallpaper:r,script:e?{id:e.id,title:e.title,icon:e.icon}:null}).catch(i=>{console.error("\u4E0A\u62A5\u58C1\u7EB8\u6536\u85CF\u6570\u636E\u5931\u8D25:",i)}))}function Zc(r){var fe,Me;let e,t,i,s,n,a,o,l,h,c,u,p,m,g,b=((fe=r[0].title)!=null?fe:"")+"",w,y,v,T=((Me=r[0].description)!=null?Me:"")+"",x,P,S,A,Q,I,L,$,N,R,F,Z,K,ee,W,Y,H,z,G,te,q=r[0].script&&jc(r),X=r[3]&&Xc(),J=r[1]&&qc(r),ae=r[2]<100&&zc(r);return{c(){var le,ce,Ze;e=O("div"),t=O("figure"),q&&q.c(),i=k(),X&&X.c(),s=k(),J&&J.c(),n=k(),a=O("img"),p=k(),m=O("div"),g=O("h2"),w=U(b),y=k(),v=O("p"),x=U(T),P=k(),S=O("div"),A=O("div"),Q=O("button"),Q.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>',I=k(),L=O("div"),$=O("button"),$.innerHTML='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>',N=k(),R=O("div"),F=O("button"),Z=V("svg"),K=V("path"),W=k(),Y=O("div"),H=O("button"),H.innerHTML='<svg class="w-6 h-6" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M1024 512A512 512 0 0 0 670.293333 25.173333a512 512 0 0 0-314.026666 0 512 512 0 0 0 3.413333 974.933334h2.133333a509.013333 509.013333 0 0 0 305.493334 0h2.133333A512 512 0 0 0 1024 512z m-298.666667 369.92a1310.72 1310.72 0 0 0 33.706667-199.253333h143.786667A430.08 430.08 0 0 1 725.333333 881.92zM85.333333 512a435.2 435.2 0 0 1 8.533334-85.333333h164.693333C256 454.826667 256 483.413333 256 512s0 57.173333 2.56 85.333333H93.866667a435.2 435.2 0 0 1-8.533334-85.333333z m256 0c0-29.013333 0-57.173333 2.56-85.333333h336.213334c0 28.16 2.56 56.32 2.56 85.333333s0 57.173333-2.56 85.333333H343.893333C341.333333 569.173333 341.333333 541.013333 341.333333 512z m424.106667-85.333333h164.693333a430.933333 430.933333 0 0 1 0 170.666666h-164.693333c0-28.16 2.56-56.746667 2.56-85.333333s0-57.173333-2.56-85.333333z m137.386667-85.333334h-143.786667A1310.72 1310.72 0 0 0 725.333333 142.08 430.08 430.08 0 0 1 902.826667 341.333333z m-282.026667-241.493333A1035.093333 1035.093333 0 0 1 673.28 341.333333H350.72a1035.093333 1035.093333 0 0 1 52.48-241.493333A437.333333 437.333333 0 0 1 512 85.333333a437.333333 437.333333 0 0 1 108.8 14.506667zM298.666667 142.08A1310.72 1310.72 0 0 0 264.96 341.333333H121.173333A430.08 430.08 0 0 1 298.666667 142.08zM121.173333 682.666667h143.786667A1310.72 1310.72 0 0 0 298.666667 881.92 430.08 430.08 0 0 1 121.173333 682.666667z m282.026667 241.493333A1035.093333 1035.093333 0 0 1 350.72 682.666667h322.56a1035.093333 1035.093333 0 0 1-52.48 241.493333A437.333333 437.333333 0 0 1 512 938.666667a437.333333 437.333333 0 0 1-108.8-14.506667z" fill="currentColor"></path></svg>',z=k(),ae&&ae.c(),f(a,"class",o="w-full cursor-zoom-in transition-all duration-500 hover:scale-110 "+(r[3]||r[1]?"opacity-0":"opacity-100")),ot(a.src,l=(le=r[0].url)!=null?le:"")||f(a,"src",l),f(a,"data-origin-url",h=r[0].origin_url||r[0].url),f(a,"alt",c=(Ze=(ce=r[0].title)!=null?ce:r[0].description)!=null?Ze:""),f(a,"data-id",u=r[0].id),f(t,"class","relative w-full overflow-hidden svelte-1efs3ai"),f(g,"class","card-title text-xl font-bold"),f(v,"class","text-base-content/70"),f(Q,"class","btn btn-circle btn-ghost hover:bg-base-200 hover:scale-110 transition-all duration-300"),f(A,"class","tooltip tooltip-left"),f(A,"data-tip","\u8BBE\u4E3A\u58C1\u7EB8"),f($,"class","btn btn-circle btn-ghost"),f(L,"class","tooltip"),f(L,"data-tip","\u4E0B\u8F7D"),f(K,"stroke-linecap","round"),f(K,"stroke-linejoin","round"),f(K,"stroke-width","2"),f(K,"d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"),f(Z,"class",ee="w-6 h-6 transition-all duration-300 "+(r[5]?"text-error fill-current":"")),f(Z,"stroke","currentColor"),f(Z,"viewBox","0 0 24 24"),f(Z,"xmlns","http://www.w3.org/2000/svg"),f(F,"class","btn btn-circle btn-ghost"),f(R,"class","tooltip"),f(R,"data-tip","\u6536\u85CF"),f(H,"class","btn btn-circle btn-ghost"),f(Y,"class","tooltip"),f(Y,"data-tip","\u6253\u5F00"),f(S,"class","card-actions justify-end gap-2"),f(m,"class","card-body gap-4"),f(e,"class","card card-compact transition-all duration-300 hover:shadow-lg svelte-1efs3ai")},m(le,ce){M(le,e,ce),d(e,t),q&&q.m(t,null),d(t,i),X&&X.m(t,null),d(t,s),J&&J.m(t,null),d(t,n),d(t,a),d(e,p),d(e,m),d(m,g),d(g,w),d(m,y),d(m,v),d(v,x),d(m,P),d(m,S),d(S,A),d(A,Q),d(S,I),d(S,L),d(L,$),d(S,N),d(S,R),d(R,F),d(F,Z),d(Z,K),d(S,W),d(S,Y),d(Y,H),d(m,z),ae&&ae.m(m,null),G||(te=[B(a,"load",r[7]),B(a,"error",r[8]),B(a,"click",r[9]),B(Q,"click",r[15]),B($,"click",r[16]),B(F,"click",r[17]),B(H,"click",r[18])],G=!0)},p(le,ce){var Ze,Le,D,j,ie;le[0].script?q?q.p(le,ce):(q=jc(le),q.c(),q.m(t,i)):q&&(q.d(1),q=null),le[3]?X||(X=Xc(),X.c(),X.m(t,s)):X&&(X.d(1),X=null),le[1]?J?J.p(le,ce):(J=qc(le),J.c(),J.m(t,n)):J&&(J.d(1),J=null),ce&10&&o!==(o="w-full cursor-zoom-in transition-all duration-500 hover:scale-110 "+(le[3]||le[1]?"opacity-0":"opacity-100"))&&f(a,"class",o),ce&1&&!ot(a.src,l=(Ze=le[0].url)!=null?Ze:"")&&f(a,"src",l),ce&1&&h!==(h=le[0].origin_url||le[0].url)&&f(a,"data-origin-url",h),ce&1&&c!==(c=(D=(Le=le[0].title)!=null?Le:le[0].description)!=null?D:"")&&f(a,"alt",c),ce&1&&u!==(u=le[0].id)&&f(a,"data-id",u),ce&1&&b!==(b=((j=le[0].title)!=null?j:"")+"")&&oe(w,b),ce&1&&T!==(T=((ie=le[0].description)!=null?ie:"")+"")&&oe(x,T),ce&32&&ee!==(ee="w-6 h-6 transition-all duration-300 "+(le[5]?"text-error fill-current":""))&&f(Z,"class",ee),le[2]<100?ae?ae.p(le,ce):(ae=zc(le),ae.c(),ae.m(m,null)):ae&&(ae.d(1),ae=null)},d(le){le&&E(e),q&&q.d(),X&&X.d(),J&&J.d(),ae&&ae.d(),G=!1,ct(te)}}}function jc(r){let e,t,i,s,n=r[0].script.title+"",a,o=r[0].script.icon&&Bc(r);return{c(){e=O("div"),t=O("div"),o&&o.c(),i=k(),s=O("span"),a=U(n),f(s,"class","text-xs text-base-content truncate"),f(t,"class","flex items-center bg-base-200/80 backdrop-blur-sm rounded-full px-1.5 py-0.5 gap-1 w-fit"),f(e,"class","absolute top-2 left-2 z-10 max-w-[calc(100%-1rem)]")},m(l,h){M(l,e,h),d(e,t),o&&o.m(t,null),d(t,i),d(t,s),d(s,a)},p(l,h){l[0].script.icon?o?o.p(l,h):(o=Bc(l),o.c(),o.m(t,i)):o&&(o.d(1),o=null),h&1&&n!==(n=l[0].script.title+"")&&oe(a,n)},d(l){l&&E(e),o&&o.d()}}}function Bc(r){let e,t;return{c(){e=O("img"),ot(e.src,t=r[0].script.icon)||f(e,"src",t),f(e,"alt","script icon"),f(e,"class","w-4 h-4 rounded-full flex-shrink-0")},m(i,s){M(i,e,s)},p(i,s){s&1&&!ot(e.src,t=i[0].script.icon)&&f(e,"src",t)},d(i){i&&E(e)}}}function Xc(r){let e;return{c(){e=O("div"),e.innerHTML=`<div class="loading loading-spinner loading-xl text-primary scale-150"></div> 
          <div class="mt-4 text-base-content/60">\u52A0\u8F7D\u4E2D...</div>`,f(e,"class","absolute inset-0 bg-base-200 animate-pulse flex flex-col items-center justify-center")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function qc(r){let e,t,i,s,n,a,o,l,h,c,u,p;return{c(){e=O("div"),t=O("div"),i=V("svg"),s=V("path"),n=k(),a=O("div"),a.textContent="\u56FE\u7247\u52A0\u8F7D\u5931\u8D25",o=k(),l=O("div"),l.textContent="\u8BF7\u68C0\u7F51\u8FDE\u63A5\u540E\u91CD\u8BD5",h=k(),c=O("button"),c.textContent="\u91CD\u65B0\u52A0\u8F7D",f(s,"stroke-linecap","round"),f(s,"stroke-linejoin","round"),f(s,"stroke-width","2"),f(s,"d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"),f(i,"xmlns","http://www.w3.org/2000/svg"),f(i,"class","h-16 w-16 text-error"),f(i,"fill","none"),f(i,"viewBox","0 0 24 24"),f(i,"stroke","currentColor"),f(a,"class","mt-4 text-lg font-medium text-error"),f(l,"class","mt-2 text-base-content/60 text-sm"),f(c,"class","btn btn-error btn-sm mt-4"),f(t,"class","flex flex-col items-center"),f(e,"class","absolute inset-0 bg-base-200 flex flex-col items-center justify-center")},m(m,g){M(m,e,g),d(e,t),d(t,i),d(i,s),d(t,n),d(t,a),d(t,o),d(t,l),d(t,h),d(t,c),u||(p=B(c,"click",r[10]),u=!0)},p:ge,d(m){m&&E(e),u=!1,p()}}}function zc(r){let e,t,i,s,n,a,o;return{c(){e=O("div"),t=O("progress"),i=k(),s=O("div"),n=U("\u8FDB\u5EA6: "),a=U(r[2]),o=U("%"),f(t,"class","progress progress-success w-full"),t.value=r[2],f(t,"max","100"),f(s,"class","text-xs text-base-content/60 mt-1"),f(e,"class","mt-2")},m(l,h){M(l,e,h),d(e,t),d(e,i),d(e,s),d(s,n),d(s,a),d(s,o)},p(l,h){h&4&&(t.value=l[2]),h&4&&oe(a,l[2])},d(l){l&&E(e)}}}function L1(r){let e,t=!r[4]&&Zc(r);return{c(){t&&t.c(),e=Li()},m(i,s){t&&t.m(i,s),M(i,e,s)},p(i,[s]){i[4]?t&&(t.d(1),t=null):t?t.p(i,s):(t=Zc(i),t.c(),t.m(e.parentNode,e))},i:ge,o:ge,d(i){t&&t.d(i),i&&E(e)}}}function D1(r,e,t){let i,s,n,a,o;Si(r,Ls,A=>t(13,a=A)),Si(r,li,A=>t(14,o=A));const l=Ss();let{item:h}=e,{currentSelect:c}=e,u=100,p=!0,m=!1;function g(){t(3,p=!1)}function b(){t(3,p=!1),t(1,m=!0)}function w(){l("viewer",{id:h.id})}function y(){var I;t(1,m=!1),t(3,p=!0);let A=(I=h.url)!=null?I:"";const Q=A.includes("?")?"&":"?";A=`${A}${Q}t=${Date.now()}`,t(0,h.url=A,h)}function v(A){t(2,u=A)}const T=()=>To(h,v,i),x=()=>mm(h,v,i),P=()=>bm(h,i),S=()=>Om(h);return r.$$set=A=>{"item"in A&&t(0,h=A.item),"currentSelect"in A&&t(12,c=A.currentSelect)},r.$$.update=()=>{r.$$.dirty&20481&&t(6,i=h.script||o[c]),r.$$.dirty&8193&&t(5,s=a.some(A=>A.url===h.url)),r.$$.dirty&4098&&t(4,n=c==="popular"&&m)},[h,m,u,p,n,s,i,g,b,w,y,v,c,a,o,T,x,P,S]}class R1 extends zt{constructor(e){super(),qt(this,e,D1,L1,Dt,{item:0,currentSelect:12})}}/*!
 * Viewer.js v1.10.5
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2022-04-05T08:21:02.491Z
 */function Uc(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,i)}return t}function Eh(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Uc(Object(t),!0).forEach(function(i){B1(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Uc(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}function Ql(r){return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(r)}function Z1(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Vc(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function j1(r,e,t){return e&&Vc(r.prototype,e),t&&Vc(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function B1(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var Fc={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},X1='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',Co=typeof window!="undefined"&&typeof window.document!="undefined",xs=Co?window:{},Pr=Co&&xs.document.documentElement?"ontouchstart"in xs.document.documentElement:!1,Ih=Co?"PointerEvent"in xs:!1,Ue="viewer",Ta="move",ym="switch",on="zoom",ea="".concat(Ue,"-active"),q1="".concat(Ue,"-close"),Ca="".concat(Ue,"-fade"),El="".concat(Ue,"-fixed"),z1="".concat(Ue,"-fullscreen"),Wc="".concat(Ue,"-fullscreen-exit"),Ws="".concat(Ue,"-hide"),U1="".concat(Ue,"-hide-md-down"),V1="".concat(Ue,"-hide-sm-down"),F1="".concat(Ue,"-hide-xs-down"),Yi="".concat(Ue,"-in"),On="".concat(Ue,"-invisible"),Sr="".concat(Ue,"-loading"),W1="".concat(Ue,"-move"),Hc="".concat(Ue,"-open"),fr="".concat(Ue,"-show"),Et="".concat(Ue,"-transition"),Mr="click",Il="dblclick",Yc="dragstart",Gc="focusin",Kc="keydown",Ei="load",Ks="error",H1=Pr?"touchend touchcancel":"mouseup",Y1=Pr?"touchmove":"mousemove",G1=Pr?"touchstart":"mousedown",Jc=Ih?"pointerdown":G1,eu=Ih?"pointermove":Y1,tu=Ih?"pointerup pointercancel":H1,iu="resize",Di="transitionend",su="wheel",ru="ready",nu="show",au="shown",ou="hide",lu="hidden",hu="view",Sn="viewed",cu="move",uu="moved",fu="rotate",pu="rotated",du="scale",mu="scaled",gu="zoom",Ou="zoomed",bu="play",yu="stop",Ga="".concat(Ue,"Action"),Mh=/\s\s*/,ta=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function An(r){return typeof r=="string"}var K1=Number.isNaN||xs.isNaN;function Bt(r){return typeof r=="number"&&!K1(r)}function Or(r){return typeof r=="undefined"}function $r(r){return Ql(r)==="object"&&r!==null}var J1=Object.prototype.hasOwnProperty;function ln(r){if(!$r(r))return!1;try{var e=r.constructor,t=e.prototype;return e&&t&&J1.call(t,"isPrototypeOf")}catch{return!1}}function gt(r){return typeof r=="function"}function xt(r,e){if(r&&gt(e))if(Array.isArray(r)||Bt(r.length)){var t=r.length,i;for(i=0;i<t&&e.call(r,r[i],i,r)!==!1;i+=1);}else $r(r)&&Object.keys(r).forEach(function(s){e.call(r,r[s],s,r)});return r}var Pi=Object.assign||function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return $r(e)&&i.length>0&&i.forEach(function(n){$r(n)&&Object.keys(n).forEach(function(a){e[a]=n[a]})}),e},eO=/^(?:width|height|left|top|marginLeft|marginTop)$/;function Ri(r,e){var t=r.style;xt(e,function(i,s){eO.test(s)&&Bt(i)&&(i+="px"),t[s]=i})}function tO(r){return An(r)?r.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):r}function dr(r,e){return!r||!e?!1:r.classList?r.classList.contains(e):r.className.indexOf(e)>-1}function Ee(r,e){if(!(!r||!e)){if(Bt(r.length)){xt(r,function(i){Ee(i,e)});return}if(r.classList){r.classList.add(e);return}var t=r.className.trim();t?t.indexOf(e)<0&&(r.className="".concat(t," ").concat(e)):r.className=e}}function nt(r,e){if(!(!r||!e)){if(Bt(r.length)){xt(r,function(t){nt(t,e)});return}if(r.classList){r.classList.remove(e);return}r.className.indexOf(e)>=0&&(r.className=r.className.replace(e,""))}}function Tn(r,e,t){if(!!e){if(Bt(r.length)){xt(r,function(i){Tn(i,e,t)});return}t?Ee(r,e):nt(r,e)}}var iO=/([a-z\d])([A-Z])/g;function $h(r){return r.replace(iO,"$1-$2").toLowerCase()}function br(r,e){return $r(r[e])?r[e]:r.dataset?r.dataset[e]:r.getAttribute("data-".concat($h(e)))}function Ml(r,e,t){$r(t)?r[e]=t:r.dataset?r.dataset[e]=t:r.setAttribute("data-".concat($h(e)),t)}var wm=function(){var r=!1;if(Co){var e=!1,t=function(){},i=Object.defineProperty({},"once",{get:function(){return r=!0,e},set:function(n){e=n}});xs.addEventListener("test",t,i),xs.removeEventListener("test",t,i)}return r}();function Ot(r,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=t;e.trim().split(Mh).forEach(function(n){if(!wm){var a=r.listeners;a&&a[n]&&a[n][t]&&(s=a[n][t],delete a[n][t],Object.keys(a[n]).length===0&&delete a[n],Object.keys(a).length===0&&delete r.listeners)}r.removeEventListener(n,s,i)})}function Ie(r,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=t;e.trim().split(Mh).forEach(function(n){if(i.once&&!wm){var a=r.listeners,o=a===void 0?{}:a;s=function(){delete o[n][t],r.removeEventListener(n,s,i);for(var h=arguments.length,c=new Array(h),u=0;u<h;u++)c[u]=arguments[u];t.apply(r,c)},o[n]||(o[n]={}),o[n][t]&&r.removeEventListener(n,o[n][t],i),o[n][t]=s,r.listeners=o}r.addEventListener(n,s,i)})}function It(r,e,t,i){var s;return gt(Event)&&gt(CustomEvent)?s=new CustomEvent(e,Eh({bubbles:!0,cancelable:!0,detail:t},i)):(s=document.createEvent("CustomEvent"),s.initCustomEvent(e,!0,!0,t)),r.dispatchEvent(s)}function sO(r){var e=r.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function _a(r){var e=r.rotate,t=r.scaleX,i=r.scaleY,s=r.translateX,n=r.translateY,a=[];Bt(s)&&s!==0&&a.push("translateX(".concat(s,"px)")),Bt(n)&&n!==0&&a.push("translateY(".concat(n,"px)")),Bt(e)&&e!==0&&a.push("rotate(".concat(e,"deg)")),Bt(t)&&t!==1&&a.push("scaleX(".concat(t,")")),Bt(i)&&i!==1&&a.push("scaleY(".concat(i,")"));var o=a.length?a.join(" "):"none";return{WebkitTransform:o,msTransform:o,transform:o}}function rO(r){return An(r)?decodeURIComponent(r.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var Fo=xs.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(xs.navigator.userAgent);function vm(r,e,t){var i=document.createElement("img");if(r.naturalWidth&&!Fo)return t(r.naturalWidth,r.naturalHeight),i;var s=document.body||document.documentElement;return i.onload=function(){t(i.width,i.height),Fo||s.removeChild(i)},xt(e.inheritedAttributes,function(n){var a=r.getAttribute(n);a!==null&&i.setAttribute(n,a)}),i.src=r.src,Fo||(i.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",s.appendChild(i)),i}function ia(r){switch(r){case 2:return F1;case 3:return V1;case 4:return U1;default:return""}}function nO(r){var e=Eh({},r),t=[];return xt(r,function(i,s){delete e[s],xt(e,function(n){var a=Math.abs(i.startX-n.startX),o=Math.abs(i.startY-n.startY),l=Math.abs(i.endX-n.endX),h=Math.abs(i.endY-n.endY),c=Math.sqrt(a*a+o*o),u=Math.sqrt(l*l+h*h),p=(u-c)/c;t.push(p)})}),t.sort(function(i,s){return Math.abs(i)<Math.abs(s)}),t[0]}function sa(r,e){var t=r.pageX,i=r.pageY,s={endX:t,endY:i};return e?s:Eh({timeStamp:Date.now(),startX:t,startY:i},s)}function aO(r){var e=0,t=0,i=0;return xt(r,function(s){var n=s.startX,a=s.startY;e+=n,t+=a,i+=1}),e/=i,t/=i,{pageX:e,pageY:t}}var oO={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,t=e.body||e.documentElement;this.body=t,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=t.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(t).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,t=this.parent,i;e.inline&&(i={width:Math.max(t.offsetWidth,e.minWidth),height:Math.max(t.offsetHeight,e.minHeight)},this.parentData=i),(this.fulled||!i)&&(i=this.containerData),this.viewerData=Pi({},i)},renderViewer:function(){this.options.inline&&!this.fulled&&Ri(this.viewer,this.viewerData)},initList:function(){var e=this,t=this.element,i=this.options,s=this.list,n=[];s.innerHTML="",xt(this.images,function(a,o){var l=a.src,h=a.alt||rO(l),c=e.getImageURL(a);if(l||c){var u=document.createElement("li"),p=document.createElement("img");xt(i.inheritedAttributes,function(m){var g=a.getAttribute(m);g!==null&&p.setAttribute(m,g)}),p.src=l||c,p.alt=h,p.setAttribute("data-original-url",c||l),u.setAttribute("data-index",o),u.setAttribute("data-viewer-action","view"),u.setAttribute("role","button"),i.keyboard&&u.setAttribute("tabindex",0),u.appendChild(p),s.appendChild(u),n.push(u)}}),this.items=n,xt(n,function(a){var o=a.firstElementChild,l,h;Ml(o,"filled",!0),i.loading&&Ee(a,Sr),Ie(o,Ei,l=function(u){Ot(o,Ks,h),i.loading&&nt(a,Sr),e.loadImage(u)},{once:!0}),Ie(o,Ks,h=function(){Ot(o,Ei,l),i.loading&&nt(a,Sr)},{once:!0})}),i.transition&&Ie(t,Sn,function(){Ee(s,Et)},{once:!0})},renderList:function(){var e=this.index,t=this.items[e];if(!!t){var i=t.nextElementSibling,s=parseInt(window.getComputedStyle(i||t).marginLeft,10),n=t.offsetWidth,a=n+s;Ri(this.list,Pi({width:a*this.length-s},_a({translateX:(this.viewerData.width-n)/2-a*e})))}},resetList:function(){var e=this.list;e.innerHTML="",nt(e,Et),Ri(e,_a({translateX:0}))},initImage:function(e){var t=this,i=this.options,s=this.image,n=this.viewerData,a=this.footer.offsetHeight,o=n.width,l=Math.max(n.height-a,a),h=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=vm(s,i,function(u,p){var m=u/p,g=o,b=l;t.imageInitializing=!1,l*m>o?b=o/m:g=l*m,g=Math.min(g*.9,u),b=Math.min(b*.9,p);var w=(o-g)/2,y=(l-b)/2,v={left:w,top:y,x:w,y,width:g,height:b,oldRatio:1,ratio:g/u,aspectRatio:m,naturalWidth:u,naturalHeight:p},T=Pi({},v);i.rotatable&&(v.rotate=h.rotate||0,T.rotate=0),i.scalable&&(v.scaleX=h.scaleX||1,v.scaleY=h.scaleY||1,T.scaleX=1,T.scaleY=1),t.imageData=v,t.initialImageData=T,e&&e()})},renderImage:function(e){var t=this,i=this.image,s=this.imageData;if(Ri(i,Pi({width:s.width,height:s.height,marginLeft:s.x,marginTop:s.y},_a(s))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&dr(i,Et)){var n=function(){t.imageRendering=!1,e()};this.imageRendering={abort:function(){Ot(i,Di,n)}},Ie(i,Di,n,{once:!0})}else e()},resetImage:function(){if(this.viewing||this.viewed){var e=this.image;this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null}}},lO={bind:function(){var e=this.options,t=this.viewer,i=this.canvas,s=this.element.ownerDocument;Ie(t,Mr,this.onClick=this.click.bind(this)),Ie(t,Yc,this.onDragStart=this.dragstart.bind(this)),Ie(i,Jc,this.onPointerDown=this.pointerdown.bind(this)),Ie(s,eu,this.onPointerMove=this.pointermove.bind(this)),Ie(s,tu,this.onPointerUp=this.pointerup.bind(this)),Ie(s,Kc,this.onKeyDown=this.keydown.bind(this)),Ie(window,iu,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&Ie(t,su,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&Ie(i,Il,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,t=this.viewer,i=this.canvas,s=this.element.ownerDocument;Ot(t,Mr,this.onClick),Ot(t,Yc,this.onDragStart),Ot(i,Jc,this.onPointerDown),Ot(s,eu,this.onPointerMove),Ot(s,tu,this.onPointerUp),Ot(s,Kc,this.onKeyDown),Ot(window,iu,this.onResize),e.zoomable&&e.zoomOnWheel&&Ot(t,su,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&Ot(i,Il,this.onDblclick)}},hO={click:function(e){var t=this.options,i=this.imageData,s=e.target,n=br(s,Ga);switch(!n&&s.localName==="img"&&s.parentElement.localName==="li"&&(s=s.parentElement,n=br(s,Ga)),Pr&&e.isTrusted&&s===this.canvas&&clearTimeout(this.clickCanvasTimeout),n){case"mix":this.played?this.stop():t.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(br(s,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(t.loop);break;case"play":this.play(t.fullscreen);break;case"next":this.next(t.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-i.scaleX||-1);break;case"flip-vertical":this.scaleY(-i.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(Pr&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var t=this.element,i=this.options,s=this.image,n=this.index,a=this.viewerData;nt(s,On),i.loading&&nt(this.canvas,Sr),s.style.cssText="height:0;"+"margin-left:".concat(a.width/2,"px;")+"margin-top:".concat(a.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){Tn(s,W1,i.movable),Tn(s,Et,i.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,gt(i.viewed)&&Ie(t,Sn,i.viewed,{once:!0}),It(t,Sn,{originalImage:e.images[n],index:n,image:s},{cancelable:!1})})})},loadImage:function(e){var t=e.target,i=t.parentNode,s=i.offsetWidth||30,n=i.offsetHeight||50,a=!!br(t,"filled");vm(t,this.options,function(o,l){var h=o/l,c=s,u=n;n*h>s?a?c=n*h:u=s/h:a?u=s/h:c=n*h,Ri(t,Pi({width:c,height:u},_a({translateX:(s-c)/2,translateY:(n-u)/2})))})},keydown:function(e){var t=this.options;if(!!t.keyboard){var i=e.keyCode||e.which||e.charCode;switch(i){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(!!this.fulled)switch(i){case 27:this.played?this.stop():t.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(t.loop);break;case 38:e.preventDefault(),this.zoom(t.zoomRatio,!0);break;case 39:this.next(t.loop);break;case 40:e.preventDefault(),this.zoom(-t.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var t=this.options,i=this.pointers,s=e.buttons,n=e.button;if(!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Bt(s)&&s!==1||Bt(n)&&n!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?xt(e.changedTouches,function(o){i[o.identifier]=sa(o)}):i[e.pointerId||0]=sa(e);var a=t.movable?Ta:!1;t.zoomOnTouch&&t.zoomable&&Object.keys(i).length>1?a=on:t.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(a=ym),t.transition&&(a===Ta||a===on)&&nt(this.image,Et),this.action=a}},pointermove:function(e){var t=this.pointers,i=this.action;!this.viewed||!i||(e.preventDefault(),e.changedTouches?xt(e.changedTouches,function(s){Pi(t[s.identifier]||{},sa(s,!0))}):Pi(t[e.pointerId||0]||{},sa(e,!0)),this.change(e))},pointerup:function(e){var t=this,i=this.options,s=this.action,n=this.pointers,a;e.changedTouches?xt(e.changedTouches,function(o){a=n[o.identifier],delete n[o.identifier]}):(a=n[e.pointerId||0],delete n[e.pointerId||0]),s&&(e.preventDefault(),i.transition&&(s===Ta||s===on)&&Ee(this.image,Et),this.action=!1,Pr&&s!==on&&a&&Date.now()-a.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),i.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){It(t.image,Il,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){t.imageClicked=!1},500)):(this.imageClicked=!1,i.backdrop&&i.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){It(t.canvas,Mr,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}xt(this.player.getElementsByTagName("img"),function(t){Ie(t,Ei,e.loadImage.bind(e),{once:!0}),It(t,Ei)})}},wheel:function(e){var t=this;if(!!this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50);var i=Number(this.options.zoomRatio)||.1,s=1;e.deltaY?s=e.deltaY>0?1:-1:e.wheelDelta?s=-e.wheelDelta/120:e.detail&&(s=e.detail>0?1:-1),this.zoom(-s*i,!0,e)}}},cO={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.element,i=this.options;if(i.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(gt(i.show)&&Ie(t,nu,i.show,{once:!0}),It(t,nu)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var s=this.viewer;if(nt(s,Ws),s.setAttribute("role","dialog"),s.setAttribute("aria-labelledby",this.title.id),s.setAttribute("aria-modal",!0),s.removeAttribute("aria-hidden"),i.transition&&!e){var n=this.shown.bind(this);this.transitioning={abort:function(){Ot(s,Di,n),nt(s,Yi)}},Ee(s,Et),s.initialOffsetWidth=s.offsetWidth,Ie(s,Di,n,{once:!0}),Ee(s,Yi)}else Ee(s,Yi),this.shown();return this},hide:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.element,s=this.options;if(s.inline||this.hiding||!(this.isShown||this.showing))return this;if(gt(s.hide)&&Ie(i,ou,s.hide,{once:!0}),It(i,ou)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var n=this.viewer,a=this.image,o=function(){nt(n,Yi),e.hidden()};if(s.transition&&!t){var l=function c(u){u&&u.target===n&&(Ot(n,Di,c),e.hidden())},h=function(){dr(n,Et)?(Ie(n,Di,l),nt(n,Yi)):o()};this.transitioning={abort:function(){e.viewed&&dr(a,Et)?Ot(a,Di,h):dr(n,Et)&&Ot(n,Di,l)}},this.viewed&&dr(a,Et)?(Ie(a,Di,h,{once:!0}),this.zoomTo(0,!1,null,!0)):h()}else o();return this},view:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(t=Number(t)||0,this.hiding||this.played||t<0||t>=this.length||this.viewed&&t===this.index)return this;if(!this.isShown)return this.index=t,this.show();this.viewing&&this.viewing.abort();var i=this.element,s=this.options,n=this.title,a=this.canvas,o=this.items[t],l=o.querySelector("img"),h=br(l,"originalUrl"),c=l.getAttribute("alt"),u=document.createElement("img");if(xt(s.inheritedAttributes,function(w){var y=l.getAttribute(w);y!==null&&u.setAttribute(w,y)}),u.src=h,u.alt=c,gt(s.view)&&Ie(i,hu,s.view,{once:!0}),It(i,hu,{originalImage:this.images[t],index:t,image:u})===!1||!this.isShown||this.hiding||this.played)return this;var p=this.items[this.index];p&&(nt(p,ea),p.removeAttribute("aria-selected")),Ee(o,ea),o.setAttribute("aria-selected",!0),s.focus&&o.focus(),this.image=u,this.viewed=!1,this.index=t,this.imageData={},Ee(u,On),s.loading&&Ee(a,Sr),a.innerHTML="",a.appendChild(u),this.renderList(),n.innerHTML="";var m=function(){var y=e.imageData,v=Array.isArray(s.title)?s.title[1]:s.title;n.innerHTML=tO(gt(v)?v.call(e,u,y):"".concat(c," (").concat(y.naturalWidth," \xD7 ").concat(y.naturalHeight,")"))},g,b;return Ie(i,Sn,m,{once:!0}),this.viewing={abort:function(){Ot(i,Sn,m),u.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(u.src="",Ot(u,Ei,g),e.timeout&&clearTimeout(e.timeout))}},u.complete?this.load():(Ie(u,Ei,g=function(){Ot(u,Ks,b),e.load()},{once:!0}),Ie(u,Ks,b=function(){Ot(u,Ei,g),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),nt(u,On),s.loading&&nt(e.canvas,Sr)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){nt(u,On),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.index-1;return t<0&&(t=e?this.length-1:0),this.view(t),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.length-1,i=this.index+1;return i>t&&(i=e?0:t),this.view(i),this},move:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.imageData;return this.moveTo(Or(e)?e:i.x+Number(e),Or(t)?t:i.y+Number(t)),this},moveTo:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=this.element,a=this.options,o=this.imageData;if(e=Number(e),i=Number(i),this.viewed&&!this.played&&a.movable){var l=o.x,h=o.y,c=!1;if(Bt(e)?c=!0:e=l,Bt(i)?c=!0:i=h,c){if(gt(a.move)&&Ie(n,cu,a.move,{once:!0}),It(n,cu,{x:e,y:i,oldX:l,oldY:h,originalEvent:s})===!1)return this;o.x=e,o.y=i,o.left=e,o.top=i,this.moving=!0,this.renderImage(function(){t.moving=!1,gt(a.moved)&&Ie(n,uu,a.moved,{once:!0}),It(n,uu,{x:e,y:i,oldX:l,oldY:h,originalEvent:s},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var t=this,i=this.element,s=this.options,n=this.imageData;if(e=Number(e),Bt(e)&&this.viewed&&!this.played&&s.rotatable){var a=n.rotate;if(gt(s.rotate)&&Ie(i,fu,s.rotate,{once:!0}),It(i,fu,{degree:e,oldDegree:a})===!1)return this;n.rotate=e,this.rotating=!0,this.renderImage(function(){t.rotating=!1,gt(s.rotated)&&Ie(i,pu,s.rotated,{once:!0}),It(i,pu,{degree:e,oldDegree:a},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,s=this.element,n=this.options,a=this.imageData;if(e=Number(e),i=Number(i),this.viewed&&!this.played&&n.scalable){var o=a.scaleX,l=a.scaleY,h=!1;if(Bt(e)?h=!0:e=o,Bt(i)?h=!0:i=l,h){if(gt(n.scale)&&Ie(s,du,n.scale,{once:!0}),It(s,du,{scaleX:e,scaleY:i,oldScaleX:o,oldScaleY:l})===!1)return this;a.scaleX=e,a.scaleY=i,this.scaling=!0,this.renderImage(function(){t.scaling=!1,gt(n.scaled)&&Ie(s,mu,n.scaled,{once:!0}),It(s,mu,{scaleX:e,scaleY:i,oldScaleX:o,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,t,i),this},zoomTo:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=this.element,o=this.options,l=this.pointers,h=this.imageData,c=h.x,u=h.y,p=h.width,m=h.height,g=h.naturalWidth,b=h.naturalHeight;if(e=Math.max(0,e),Bt(e)&&this.viewed&&!this.played&&(n||o.zoomable)){if(!n){var w=Math.max(.01,o.minZoomRatio),y=Math.min(100,o.maxZoomRatio);e=Math.min(Math.max(e,w),y)}if(s)switch(s.type){case"wheel":o.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var v=g*e,T=b*e,x=v-p,P=T-m,S=h.ratio;if(gt(o.zoom)&&Ie(a,gu,o.zoom,{once:!0}),It(a,gu,{ratio:e,oldRatio:S,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var A=sO(this.viewer),Q=l&&Object.keys(l).length>0?aO(l):{pageX:s.pageX,pageY:s.pageY};h.x-=x*((Q.pageX-A.left-c)/p),h.y-=P*((Q.pageY-A.top-u)/m)}else h.x-=x/2,h.y-=P/2;h.left=h.x,h.top=h.y,h.width=v,h.height=T,h.oldRatio=S,h.ratio=e,this.renderImage(function(){t.zooming=!1,gt(o.zoomed)&&Ie(a,Ou,o.zoomed,{once:!0}),It(a,Ou,{ratio:e,oldRatio:S,originalEvent:s},{cancelable:!1})}),i&&this.tooltip()}return this},play:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var i=this.element,s=this.options;if(gt(s.play)&&Ie(i,bu,s.play,{once:!0}),It(i,bu)===!1)return this;var n=this.player,a=this.loadImage.bind(this),o=[],l=0,h=0;if(this.played=!0,this.onLoadWhenPlay=a,t&&this.requestFullscreen(t),Ee(n,fr),xt(this.items,function(u,p){var m=u.querySelector("img"),g=document.createElement("img");g.src=br(m,"originalUrl"),g.alt=m.getAttribute("alt"),g.referrerPolicy=m.referrerPolicy,l+=1,Ee(g,Ca),Tn(g,Et,s.transition),dr(u,ea)&&(Ee(g,Yi),h=p),o.push(g),Ie(g,Ei,a,{once:!0}),n.appendChild(g)}),Bt(s.interval)&&s.interval>0){var c=function u(){e.playing=setTimeout(function(){nt(o[h],Yi),h+=1,h=h<l?h:0,Ee(o[h],Yi),u()},s.interval)};l>1&&c()}return this},stop:function(){var e=this;if(!this.played)return this;var t=this.element,i=this.options;if(gt(i.stop)&&Ie(t,yu,i.stop,{once:!0}),It(t,yu)===!1)return this;var s=this.player;return this.played=!1,clearTimeout(this.playing),xt(s.getElementsByTagName("img"),function(n){Ot(n,Ei,e.onLoadWhenPlay)}),nt(s,fr),s.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,t=this.options,i=this.viewer,s=this.image,n=this.list;return!this.isShown||this.played||this.fulled||!t.inline?this:(this.fulled=!0,this.open(),Ee(this.button,Wc),t.transition&&(nt(n,Et),this.viewed&&nt(s,Et)),Ee(i,El),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("style"),Ri(i,{zIndex:t.zIndex}),t.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Pi({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){t.transition&&setTimeout(function(){Ee(s,Et),Ee(n,Et)},0)})}),this)},exit:function(){var e=this,t=this.options,i=this.viewer,s=this.image,n=this.list;return!this.isShown||this.played||!this.fulled||!t.inline?this:(this.fulled=!1,this.close(),nt(this.button,Wc),t.transition&&(nt(n,Et),this.viewed&&nt(s,Et)),t.focus&&this.clearEnforceFocus(),i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-modal"),nt(i,El),Ri(i,{zIndex:t.zIndexInline}),this.viewerData=Pi({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){t.transition&&setTimeout(function(){Ee(s,Et),Ee(n,Et)},0)})}),this)},tooltip:function(){var e=this,t=this.options,i=this.tooltipBox,s=this.imageData;return!this.viewed||this.played||!t.tooltip?this:(i.textContent="".concat(Math.round(s.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):t.transition?(this.fading&&It(i,Di),Ee(i,fr),Ee(i,Ca),Ee(i,Et),i.removeAttribute("aria-hidden"),i.initialOffsetWidth=i.offsetWidth,Ee(i,Yi)):(Ee(i,fr),i.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){t.transition?(Ie(i,Di,function(){nt(i,fr),nt(i,Ca),nt(i,Et),i.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),nt(i,Yi),e.fading=!0):(nt(i,fr),i.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,e):this.zoomTo(1,!0,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Pi({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,t=this.element,i=this.options,s=this.isImg;if(s&&!t.parentNode)return this.destroy();var n=[];if(xt(s?[t]:t.querySelectorAll("img"),function(h){gt(i.filter)?i.filter.call(e,h)&&n.push(h):e.getImageURL(h)&&n.push(h)}),!n.length)return this;if(this.images=n,this.length=n.length,this.ready){var a=[];if(xt(this.items,function(h,c){var u=h.querySelector("img"),p=n[c];p&&u?(p.src!==u.src||p.alt!==u.alt)&&a.push(c):a.push(c)}),Ri(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var o=a.indexOf(this.index);if(o>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-o,this.length-1),0));else{var l=this.items[this.index];Ee(l,ea),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,t=this.options;return e[Ue]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),t.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):t.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),t.inline||Ot(e,Mr,this.onStart),e[Ue]=void 0,this):this}},uO={getImageURL:function(e){var t=this.options.url;return An(t)?t=e.getAttribute(t):gt(t)?t=t.call(this,e):t="",t},enforceFocus:function(){var e=this;this.clearEnforceFocus(),Ie(document,Gc,this.onFocusin=function(t){var i=e.viewer,s=t.target;if(!(s===document||s===i||i.contains(s))){for(;s;){if(s.getAttribute("tabindex")!==null||s.getAttribute("aria-modal")==="true")return;s=s.parentElement}i.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(Ot(document,Gc,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;Ee(e,Hc),e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px")},close:function(){var e=this.body;nt(e,Hc),e.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var e=this.element,t=this.options,i=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,t.focus&&(i.focus(),this.enforceFocus()),gt(t.shown)&&Ie(e,au,t.shown,{once:!0}),It(e,au)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,t=this.options,i=this.viewer;t.fucus&&this.clearEnforceFocus(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),Ee(i,Ws),i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-modal"),i.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(gt(t.hidden)&&Ie(e,lu,t.hidden,{once:!0}),It(e,lu,null,{cancelable:!1}))},requestFullscreen:function(e){var t=this.element.ownerDocument;if(this.fulled&&!(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)){var i=t.documentElement;i.requestFullscreen?ln(e)?i.requestFullscreen(e):i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):i.mozRequestFullScreen?i.mozRequestFullScreen():i.msRequestFullscreen&&i.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var t=this.options,i=this.pointers,s=i[Object.keys(i)[0]];if(!!s){var n=s.endX-s.startX,a=s.endY-s.startY;switch(this.action){case Ta:this.move(n,a,e);break;case on:this.zoom(nO(i),!1,e);break;case ym:{this.action="switched";var o=Math.abs(n);o>1&&o>Math.abs(a)&&(this.pointers={},n>1?this.prev(t.loop):n<-1&&this.next(t.loop));break}}xt(i,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,t=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=t.width&&e.height<=t.height}},fO=xs.Viewer,pO=function(r){return function(){return r+=1,r}}(-1),xm=function(){function r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Z1(this,r),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Pi({},Fc,ln(t)&&t),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.id=pO(),this.init()}return j1(r,[{key:"init",value:function(){var t=this,i=this.element,s=this.options;if(!i[Ue]){i[Ue]=this,s.focus&&!s.keyboard&&(s.focus=!1);var n=i.localName==="img",a=[];if(xt(n?[i]:i.querySelectorAll("img"),function(h){gt(s.filter)?s.filter.call(t,h)&&a.push(h):t.getImageURL(h)&&a.push(h)}),this.isImg=n,this.length=a.length,this.images=a,this.initBody(),Or(document.createElement(Ue).style.transition)&&(s.transition=!1),s.inline){var o=0,l=function(){if(o+=1,o===t.length){var c;t.initializing=!1,t.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){t.delaying=!1,t.build()},0)}};this.initializing={abort:function(){xt(a,function(c){c.complete||(Ot(c,Ei,l),Ot(c,Ks,l))})}},xt(a,function(h){if(h.complete)l();else{var c,u;Ie(h,Ei,c=function(){Ot(h,Ks,u),l()},{once:!0}),Ie(h,Ks,u=function(){Ot(h,Ei,c),l()},{once:!0})}})}else Ie(i,Mr,this.onStart=function(h){var c=h.target;c.localName==="img"&&(!gt(s.filter)||s.filter.call(t,c))&&t.view(t.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var t=this.element,i=this.options,s=t.parentNode,n=document.createElement("div");n.innerHTML=X1;var a=n.querySelector(".".concat(Ue,"-container")),o=a.querySelector(".".concat(Ue,"-title")),l=a.querySelector(".".concat(Ue,"-toolbar")),h=a.querySelector(".".concat(Ue,"-navbar")),c=a.querySelector(".".concat(Ue,"-button")),u=a.querySelector(".".concat(Ue,"-canvas"));if(this.parent=s,this.viewer=a,this.title=o,this.toolbar=l,this.navbar=h,this.button=c,this.canvas=u,this.footer=a.querySelector(".".concat(Ue,"-footer")),this.tooltipBox=a.querySelector(".".concat(Ue,"-tooltip")),this.player=a.querySelector(".".concat(Ue,"-player")),this.list=a.querySelector(".".concat(Ue,"-list")),a.id="".concat(Ue).concat(this.id),o.id="".concat(Ue,"Title").concat(this.id),Ee(o,i.title?ia(Array.isArray(i.title)?i.title[0]:i.title):Ws),Ee(h,i.navbar?ia(i.navbar):Ws),Tn(c,Ws,!i.button),i.keyboard&&c.setAttribute("tabindex",0),i.backdrop&&(Ee(a,"".concat(Ue,"-backdrop")),!i.inline&&i.backdrop!=="static"&&Ml(u,Ga,"hide")),An(i.className)&&i.className&&i.className.split(Mh).forEach(function(T){Ee(a,T)}),i.toolbar){var p=document.createElement("ul"),m=ln(i.toolbar),g=ta.slice(0,3),b=ta.slice(7,9),w=ta.slice(9);m||Ee(l,ia(i.toolbar)),xt(m?i.toolbar:ta,function(T,x){var P=m&&ln(T),S=m?$h(x):T,A=P&&!Or(T.show)?T.show:T;if(!(!A||!i.zoomable&&g.indexOf(S)!==-1||!i.rotatable&&b.indexOf(S)!==-1||!i.scalable&&w.indexOf(S)!==-1)){var Q=P&&!Or(T.size)?T.size:T,I=P&&!Or(T.click)?T.click:T,L=document.createElement("li");i.keyboard&&L.setAttribute("tabindex",0),L.setAttribute("role","button"),Ee(L,"".concat(Ue,"-").concat(S)),gt(I)||Ml(L,Ga,S),Bt(A)&&Ee(L,ia(A)),["small","large"].indexOf(Q)!==-1?Ee(L,"".concat(Ue,"-").concat(Q)):S==="play"&&Ee(L,"".concat(Ue,"-large")),gt(I)&&Ie(L,Mr,I),p.appendChild(L)}}),l.appendChild(p)}else Ee(l,Ws);if(!i.rotatable){var y=l.querySelectorAll('li[class*="rotate"]');Ee(y,On),xt(y,function(T){l.appendChild(T)})}if(i.inline)Ee(c,z1),Ri(a,{zIndex:i.zIndexInline}),window.getComputedStyle(s).position==="static"&&Ri(s,{position:"relative"}),s.insertBefore(a,t.nextSibling);else{Ee(c,q1),Ee(a,El),Ee(a,Ca),Ee(a,Ws),Ri(a,{zIndex:i.zIndex});var v=i.container;An(v)&&(v=t.ownerDocument.querySelector(v)),v||(v=this.body),v.appendChild(a)}if(i.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,gt(i.ready)&&Ie(t,ru,i.ready,{once:!0}),It(t,ru)===!1){this.ready=!1;return}this.ready&&i.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=fO,r}},{key:"setDefaults",value:function(t){Pi(Fc,ln(t)&&t)}}]),r}();Pi(xm.prototype,oO,lO,hO,cO,uO);function wu(r){let e,t,i,s,n,a,o,l,h,c,u,p,m,g,b,w=r[2]&&vu(),y=r[1]&&xu(r),v=!r[1]&&!r[2]&&ku(r),T=r[0].progress&&r[0].progress<100&&Pu(r),x=r[0].script&&Su(r);return{c(){var P,S;e=O("div"),w&&w.c(),t=k(),y&&y.c(),i=k(),s=O("img"),c=k(),v&&v.c(),u=k(),T&&T.c(),p=k(),x&&x.c(),ot(s.src,n=r[0].url)||f(s,"src",n),f(s,"data-origin-url",a=r[0].origin_url||r[0].url),f(s,"alt",o=(S=(P=r[0].title)!=null?P:r[0].description)!=null?S:""),f(s,"data-id",l=r[0].id),f(s,"class",h="w-full h-auto object-cover relative transition-opacity duration-300 "+(r[2]||r[1]?"opacity-0":"opacity-100")),f(s,"loading","lazy"),f(e,"class",m="relative overflow-hidden rounded-lg group w-full "+(r[2]||r[1]?"min-h-[240px]":""))},m(P,S){M(P,e,S),w&&w.m(e,null),d(e,t),y&&y.m(e,null),d(e,i),d(e,s),d(e,c),v&&v.m(e,null),d(e,u),T&&T.m(e,null),d(e,p),x&&x.m(e,null),g||(b=[B(s,"load",r[7]),B(s,"error",r[8])],g=!0)},p(P,S){var A,Q;P[2]?w||(w=vu(),w.c(),w.m(e,t)):w&&(w.d(1),w=null),P[1]?y?y.p(P,S):(y=xu(P),y.c(),y.m(e,i)):y&&(y.d(1),y=null),S&1&&!ot(s.src,n=P[0].url)&&f(s,"src",n),S&1&&a!==(a=P[0].origin_url||P[0].url)&&f(s,"data-origin-url",a),S&1&&o!==(o=(Q=(A=P[0].title)!=null?A:P[0].description)!=null?Q:"")&&f(s,"alt",o),S&1&&l!==(l=P[0].id)&&f(s,"data-id",l),S&6&&h!==(h="w-full h-auto object-cover relative transition-opacity duration-300 "+(P[2]||P[1]?"opacity-0":"opacity-100"))&&f(s,"class",h),!P[1]&&!P[2]?v?v.p(P,S):(v=ku(P),v.c(),v.m(e,u)):v&&(v.d(1),v=null),P[0].progress&&P[0].progress<100?T?T.p(P,S):(T=Pu(P),T.c(),T.m(e,p)):T&&(T.d(1),T=null),P[0].script?x?x.p(P,S):(x=Su(P),x.c(),x.m(e,null)):x&&(x.d(1),x=null),S&6&&m!==(m="relative overflow-hidden rounded-lg group w-full "+(P[2]||P[1]?"min-h-[240px]":""))&&f(e,"class",m)},d(P){P&&E(e),w&&w.d(),y&&y.d(),v&&v.d(),T&&T.d(),x&&x.d(),g=!1,ct(b)}}}function vu(r){let e;return{c(){e=O("div"),e.innerHTML=`<div class="loading loading-spinner loading-lg text-primary svelte-wsn476"></div> 
        <div class="mt-4 text-base-content/60">\u52A0\u8F7D\u4E2D...</div>`,f(e,"class","absolute inset-0 bg-base-200 animate-pulse flex flex-col items-center justify-center svelte-wsn476")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function xu(r){let e,t,i,s,n,a,o,l,h,c,u,p;return{c(){e=O("div"),t=O("div"),i=V("svg"),s=V("path"),n=k(),a=O("div"),a.textContent="\u56FE\u7247\u52A0\u8F7D\u5931\u8D25",o=k(),l=O("div"),l.textContent="\u8BF7\u68C0\u67E5\u7F51\u7EDC\u8FDE\u63A5\u540E\u91CD\u8BD5",h=k(),c=O("button"),c.textContent="\u91CD\u65B0\u52A0\u8F7D",f(s,"stroke-linecap","round"),f(s,"stroke-linejoin","round"),f(s,"stroke-width","2"),f(s,"d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"),f(i,"xmlns","http://www.w3.org/2000/svg"),f(i,"class","h-16 w-16 text-error"),f(i,"fill","none"),f(i,"viewBox","0 0 24 24"),f(i,"stroke","currentColor"),f(a,"class","mt-4 text-lg font-medium text-error"),f(l,"class","mt-2 text-base-content/60 text-sm text-center"),f(c,"class","btn btn-error btn-sm mt-4"),f(t,"class","flex flex-col items-center p-8"),f(e,"class","absolute inset-0 bg-base-200 flex flex-col items-center justify-center min-h-[240px]")},m(m,g){M(m,e,g),d(e,t),d(t,i),d(i,s),d(t,n),d(t,a),d(t,o),d(t,l),d(t,h),d(t,c),u||(p=B(c,"click",r[9]),u=!0)},p:ge,d(m){m&&E(e),u=!1,p()}}}function ku(r){let e,t,i,s,n,a,o,l,h,c,u,p,m,g,b;return{c(){e=O("div"),t=O("button"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"></path></svg>',i=k(),s=O("button"),s.innerHTML='<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>',n=k(),a=O("button"),a.innerHTML='<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>',o=k(),l=O("button"),h=V("svg"),c=V("path"),p=k(),m=O("button"),m.innerHTML='<svg class="h-5 w-5" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M1024 512A512 512 0 0 0 670.293333 25.173333a512 512 0 0 0-314.026666 0 512 512 0 0 0 3.413333 974.933334h2.133333a509.013333 509.013333 0 0 0 305.493334 0h2.133333A512 512 0 0 0 1024 512z m-298.666667 369.92a1310.72 1310.72 0 0 0 33.706667-199.253333h143.786667A430.08 430.08 0 0 1 725.333333 881.92zM85.333333 512a435.2 435.2 0 0 1 8.533334-85.333333h164.693333C256 454.826667 256 483.413333 256 512s0 57.173333 2.56 85.333333H93.866667a435.2 435.2 0 0 1-8.533334-85.333333z m256 0c0-29.013333 0-57.173333 2.56-85.333333h336.213334c0 28.16 2.56 56.32 2.56 85.333333s0 57.173333-2.56 85.333333H343.893333C341.333333 569.173333 341.333333 541.013333 341.333333 512z m424.106667-85.333333h164.693333a430.933333 430.933333 0 0 1 0 170.666666h-164.693333c0-28.16 2.56-56.746667 2.56-85.333333s0-57.173333-2.56-85.333333z m137.386667-85.333334h-143.786667A1310.72 1310.72 0 0 0 725.333333 142.08 430.08 430.08 0 0 1 902.826667 341.333333z m-282.026667-241.493333A1035.093333 1035.093333 0 0 1 673.28 341.333333H350.72a1035.093333 1035.093333 0 0 1 52.48-241.493333A437.333333 437.333333 0 0 1 512 85.333333a437.333333 437.333333 0 0 1 108.8 14.506667zM298.666667 142.08A1310.72 1310.72 0 0 0 264.96 341.333333H121.173333A430.08 430.08 0 0 1 298.666667 142.08zM121.173333 682.666667h143.786667A1310.72 1310.72 0 0 0 298.666667 881.92 430.08 430.08 0 0 1 121.173333 682.666667z m282.026667 241.493333A1035.093333 1035.093333 0 0 1 350.72 682.666667h322.56a1035.093333 1035.093333 0 0 1-52.48 241.493333A437.333333 437.333333 0 0 1 512 938.666667a437.333333 437.333333 0 0 1-108.8-14.506667z"></path></svg>',f(t,"class","btn btn-circle btn-sm btn-ghost text-white tooltip"),f(t,"data-tip","\u67E5\u770B"),f(s,"class","btn btn-circle btn-sm btn-ghost text-white tooltip"),f(s,"data-tip","\u8BBE\u4E3A\u58C1\u7EB8"),f(a,"class","btn btn-circle btn-sm btn-ghost text-white tooltip"),f(a,"data-tip","\u4E0B\u8F7D"),f(c,"stroke-linecap","round"),f(c,"stroke-linejoin","round"),f(c,"stroke-width","2"),f(c,"d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"),f(h,"class",u="h-5 w-5 transition-all duration-300 "+(r[3]?"text-error fill-current":"")),f(h,"stroke","currentColor"),f(h,"viewBox","0 0 24 24"),f(h,"xmlns","http://www.w3.org/2000/svg"),f(l,"class","btn btn-circle btn-sm btn-ghost text-white tooltip"),f(l,"data-tip","\u6536\u85CF"),f(m,"class","btn btn-circle btn-sm btn-ghost text-white tooltip"),f(m,"data-tip","\u6253\u5F00"),f(e,"class","absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center gap-2")},m(w,y){M(w,e,y),d(e,t),d(e,i),d(e,s),d(e,n),d(e,a),d(e,o),d(e,l),d(l,h),d(h,c),d(e,p),d(e,m),g||(b=[B(t,"click",r[6]),B(s,"click",r[13]),B(a,"click",r[14]),B(l,"click",r[15]),B(m,"click",r[16])],g=!0)},p(w,y){y&8&&u!==(u="h-5 w-5 transition-all duration-300 "+(w[3]?"text-error fill-current":""))&&f(h,"class",u)},d(w){w&&E(e),g=!1,ct(b)}}}function Pu(r){let e,t,i,s,n,a,o=r[0].progress+"",l,h;return{c(){e=O("div"),t=O("progress"),s=k(),n=O("div"),a=U("\u8FDB\u5EA6: "),l=U(o),h=U("%"),f(t,"class","progress progress-success w-full"),t.value=i=r[0].progress,f(t,"max","100"),f(n,"class","text-xs text-white/60 mt-1"),f(e,"class","absolute bottom-0 left-0 right-0 bg-base-100 bg-opacity-90 p-2")},m(c,u){M(c,e,u),d(e,t),d(e,s),d(e,n),d(n,a),d(n,l),d(n,h)},p(c,u){u&1&&i!==(i=c[0].progress)&&(t.value=i),u&1&&o!==(o=c[0].progress+"")&&oe(l,o)},d(c){c&&E(e)}}}function Su(r){let e,t,i,s=r[0].script.title+"",n,a=r[0].script.icon&&Au(r);return{c(){e=O("div"),a&&a.c(),t=k(),i=O("span"),n=U(s),f(i,"class","text-xs text-base-content"),f(e,"class","absolute top-2 left-2 flex items-center bg-base-200/80 backdrop-blur-sm rounded-full px-2 py-1 gap-1")},m(o,l){M(o,e,l),a&&a.m(e,null),d(e,t),d(e,i),d(i,n)},p(o,l){o[0].script.icon?a?a.p(o,l):(a=Au(o),a.c(),a.m(e,t)):a&&(a.d(1),a=null),l&1&&s!==(s=o[0].script.title+"")&&oe(n,s)},d(o){o&&E(e),a&&a.d()}}}function Au(r){let e,t;return{c(){e=O("img"),ot(e.src,t=r[0].script.icon)||f(e,"src",t),f(e,"alt","script icon"),f(e,"class","w-4 h-4 rounded-full")},m(i,s){M(i,e,s)},p(i,s){s&1&&!ot(e.src,t=i[0].script.icon)&&f(e,"src",t)},d(i){i&&E(e)}}}function dO(r){let e,t=!r[4]&&wu(r);return{c(){t&&t.c(),e=Li()},m(i,s){t&&t.m(i,s),M(i,e,s)},p(i,[s]){i[4]?t&&(t.d(1),t=null):t?t.p(i,s):(t=wu(i),t.c(),t.m(e.parentNode,e))},i:ge,o:ge,d(i){t&&t.d(i),i&&E(e)}}}function mO(r,e,t){let i,s,n,a,o;Si(r,Ls,P=>t(11,a=P)),Si(r,li,P=>t(12,o=P));const l=Ss();let{item:h}=e,{currentSelect:c}=e,u=!0,p=!1;function m(){l("viewer",{id:h.id})}function g(P){t(2,u=!1)}function b(){t(2,u=!1),t(1,p=!0)}function w(){var A;t(1,p=!1),t(2,u=!0);let P=(A=h.url)!=null?A:"";const S=P.includes("?")?"&":"?";P=`${P}${S}t=${Date.now()}`,t(0,h.url=P,h)}const y=()=>To(h,P=>t(0,h.progress=P,h),i),v=()=>mm(h,P=>t(0,h.progress=P,h),i),T=()=>bm(h,i),x=()=>Om(h);return r.$$set=P=>{"item"in P&&t(0,h=P.item),"currentSelect"in P&&t(10,c=P.currentSelect)},r.$$.update=()=>{r.$$.dirty&5121&&t(5,i=h.script||o[c]),r.$$.dirty&1026&&t(4,s=c==="popular"&&p),r.$$.dirty&2049&&t(3,n=a.some(P=>P.url===h.url))},[h,p,u,n,s,i,m,g,b,w,c,a,o,y,v,T,x]}class gO extends zt{constructor(e){super(),qt(this,e,mO,dO,Dt,{item:0,currentSelect:10})}}const Nh=Vi({});function OO(r,e){Nh.update(t=>({...t,[r]:e}))}function bO(r){let e;return Nh.subscribe(t=>{e=t[r]})(),e}function yO(){Nh.set({})}var wO=[{id:"6038aa4d-54c6-4aca-aa06-19cec98dc78e",icon:"",title:"\u6F14\u793A\u811A\u672C\u4E8C",description:"\u6F14\u793A\u4E00\u4E2A\u5B8C\u6574\u7684\u811A\u672C",version:"1.0.1",author:"Jaeger",home:"https://github.com/jae-jae",scriptType:"local",remoteUrl:"",code:`function sleep(ms) {
  return new Promise((resolve) => setTimeout(resolve, ms));
}

export default {
  // \u83B7\u53D6\u5206\u7C7B\u5217\u8868
  async categories(ibox) {
    return [
      { id: "latest", name: "\u6700\u65B0" },
      { id: "landscape", name: "\u98CE\u666F" },
      { id: "nature", name: "\u81EA\u7136" },
      { id: "architecture", name: "\u5EFA\u7B51" },
    ];
  },

  // \u83B7\u53D6\u6570\u636E
  async getData(ibox, { page, category }) {
    if (page > 1) {
      // \u4E0D\u652F\u6301\u7FFB\u9875
      return;
    }

    ibox.push({
      title: "\u8FD9\u662F\u4E00\u5F20\u56FE\u72472, \u5206\u7C7B: " + category,
      url: "https://picsum.photos/1200", // \u7F29\u7565\u56FE\u6216\u539F\u56FE\u5730\u5740
      origin_url: "", // \u539F\u56FE\u5730\u5740
      description: "\u8FD9\u662F\u56FE\u7247\u63CF\u8FF0...",
      link: "https://picsum.photos", // \u56FE\u7247\u51FA\u5904\u9875\u9762
    });

    // \u6A21\u62DF\u6162\u91C7\u96C6
    await sleep(3000);

    return [
      {
        title: "\u8FD9\u662F\u4E00\u5F20\u56FE\u72473",
        url: "https://picsum.photos/1200",
      },
    ];
  },

  // \u641C\u7D22
  async search(ibox, { keyword, page, category }) {
    if (page > 1) {
      // \u4E0D\u652F\u6301\u7FFB\u9875
      return;
    }

    return [
      {
        title: \`\u641C\u7D22:\${keyword}\`,
        url: "https://picsum.photos/800",
      },
    ];
  },
};
`,updated_at:1733065614180},{id:"76faacfb-26ee-4e3c-84ad-a826d54fa1b9",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAC6dJREFUeF7tnQFy3DYMRZWTtT1Z2pM1PlkbOpajKNIKIEgCBN/OdJrEhET9jyeA1O76y8bLU4E/t237+jGB8ufy+rZt29vH/8ufeTkq8MXx3KueeodiB+JJh3+A5Umifj8HkH7aHo+sheJqVntl+XvMlDlLUQBA+uZBCzCuZliqCqD09e796ADSXuQCxXFt0f4MP49YQCkvYOmkMoC0E7ZXtZDMEFAkKlWMAZAK0U4hnmDQftn9e3kEAKkXOBoY5ythnVLv7WckgOhFjA4GoOg9vY0AELmYs4EBKHJvAcSg1exgAIrBfCrIvXjZwACUClAA5HfRsoNxvGK2hx+gAZBfBSoP3PY3D1bcb6YN4f1eN9YByA9hVgWDtosK8lKBldopTXnjGcqHWqtWEMCQ4bI8KKsBAhgyMGi9FqwgrDPq4NijllzIr1BBAMMGxtLVJDMgtFNtwVgSlIyAAEZfMJYCJRsgtFNj4TiuT1J+qjELIKVq/OuTG5z1oEC6beHZAaGdislnGlBmBqRUDOl3S8VMo9yzSrEtPCMgtFNzgTV1NZkJENqpucBIsds1CyDsTs0Nx7S7XdEBoZ3KAca01SQqILRTOcGYDpSIgNBOrQHHFG1XJECoGmuBMUU1iQIIVWNtOMJWE29AqBqAcaVAmGcnnoBQNYDjlQIhIPEAhKoBGBoFXEEZDQhVQ5MajHVfm4wCJEPV2O9kQO4H7vBqMgKQDAn118dvmj2mRobr8kv1+jMPhaQ3IBnekn4Fx24vkNQnujXylS/WY3/G9wIkw3uoyq9dLiY8vYDkSaF+P+9eTXoAkiFhpHBQSfolv/TIXSFpDciKcACJNJX7juvScrUCJMMuVbHPejfKcIPom8Z9j27177fZtQAkw3qjBRxUkr7JLz16U0isgADHtW1UEmk69xnXDBILIFmSoJmYJ6+z6NMnhfsftYmvtYBkqRza3SqtrUCiVazteDMktYBkeADYGw7WJG2TvfZopt2tGkCy3BVNwindynBDUV5ymOGmG+GqgJhLb4X9/1XEENJGgZo8fz9zTWAGo2uu22oVVcSqYH18dbegTZQsi/MidSm95fV20L382/7vtXbsvwbgj8MB+A7hWjXbxFW3WVpAsqw/7mRv0XplqLBt0jLOUQCkkRcA0kjIgIfRFoOqNUj2PhpAAmZ2oylVrUO0VGVvH6yAZFqjNcrLMIcBkAZWAEgDEYMeospbTQVZ4e5YvZj7SIoVNAqa/4/TqvJWA0j2Hax961fyMds7NwDkMU/dBgBIA+mrRDyc1/MmogH7+KynzLk8s8n+rKbKWyrIr1RViRgAEOu8V6l8mnxXb/Nm3+Jt0WJ5VRAAkbUPACLT6XaUNdEAxGhA53D1Vq+GqOzPQKggnbMzwOEBxGgCFcQoYPBwADEaBCBGAYOHqx8W0mKxi1UUWGUXqxsgqwhIBQleAozTAxCjgFZAvLbCrfPmBniTONIWCwFl5AGITCevUeobiRQQr/19DyGlmlzNDUA8HJOfE0DkWt2OnBGQcjGWedMhGFssKoiMPK8KAiAyf9Q6Se86ACIzYFZA8JcKIstwY6sCIGKZ3QZKi8L7BKWDPY0fraRUk0iLdI2XV/OmghgrCIDIMPXUyQI2gACILMMVVZUKIpY01EDVGxaldx3PO+NodaWaAMhoZ9qcD0CMOgKIUcDg4QBiNAhAjAIGD+8CyAqfJtx9BZDgGW6cHoAYBQQQo4DBwwHEaBCAGAUMHg4gRoMAxChg8HAAMRoEIEYBg4cDiNEgADEKGDxc9bFbaTKwiyVz3VMnqZdXV7LSW00ARJbLt6MsiQYgRvEHhAOIUWQAMQoYPBxAjAatCMhK77UDECMgql2O07lmbbEA5CZppHdLT+ON+a4OBxC1ZFMFUEGMdlkAKbtBXi/LuakgVBBx3loAEZ8k2EAAARBxSgKIWKopBzZvsVb5UrHdbQCZMu/FkwYQsVTXAwHEKGDw8OaAlOtlFyu468bpsQZhDSJOISqIWKopB1JBjLYBiFHA4OEAYjQIQIwCBg8HEKNBAGIUMHg4gBgNAhCjgMHDAcRoEIAYBQweDiBGgwDEKGDwcAAxGgQgRgGDhwOI0SALIJ4P3Gadt9EudTiAqCX7NUD6GZmr0wCIUfwB4QBiFBlAjAIGD1dVWmkyrPReLKkmVJDgJNxMD0CMvgGIUcDg4QBiNAhAjAIGD+8CiOfic7TeADJa8bHnAxCj3gBiFDB4OIAYDQIQo4DBwwHEaBCAGAUMHq7yVzqYNYjMdU+dVHfG0+V4zlumbLtR0px/P6N0MALKDPLUCUBkHklzHkBu9FQJGOhODCCOgKz0C1YARJZos45S+SsdDCCydKDFkunkOUqa86oWC0BklgKITCevUd+2bSutqPglpQlAZJJ6AiL18upKPOctU7bNqG6ArPL9vGoBAy3SAeQZIrW/UlEB5Fn8MsKz0kq9XLmCqD4spXkOAiAAIlMg9igAMfqjLsGn81FBjAZ0Du8GSJn3Cp8qBJDOGep8eAAxGgAgRgGDhwOI0SAAMQoYPFz9dhzNzscKe+VWQDw3MzRenvN4BW/LNQOI8Q4GIEYBg4erbyKagBXuMuoe9ZQQVJDYhGjy/f1KNAGeW5ijZF8VkBW81ea7GhDPu+MoQFZtsVYApMpbTQUBkGdMPRNN4+X5Sjzn/axqmxFV3YFG1BUA2a0oYmpff2zbVjTyemm8BBChS1pRV3iaLpQu3DCtl8cLoILc2KkVdYWdrHCZL5yQ1svVAFE/A6lZ1QOIMFsdhgHIa9Gr9NEGrbQOcchx0ym1Xq5UQap2sGoqCICYcrhZcDH8+Hr7/peyjqh9FV/Lf2WjYX95bjjUXsddXNUOVg0gJYaFemv75MerNlp+it9GZmirq3WrKcsZBDPki2todatgmHWGG2JNnr9LVhNIm2XItgahVbsxlefNsP1bXT1qAaHNqsy2hmEjIMkAR5HcBRCqSMNsrzxUT0iA48OUmhZr9zOLiJX56R7Waz2SxVdT5djdtQBSjpFFTPdsr5xAa0iydAZN4LCsQY5+AklldjcKawUJcFwYYq0g+yGziNsoZ4cfxgpJFv+aVY5WLdY5E6gmw9n4PGEtJFng6LJp0aqC0HL5gXE8sxaSDHBor1nlVA9AWLyrLOgyWHI3zVDtm7dUZzd6AcJWcJe8Vx30FSQZ4JDcBFSCXQ3uDQjVxGyR6QBXd9jZ4ejaUo2uIOxymfK7SfAOSVlvfHX+3Lz1grq3VF6A0HJZU2Pt+FI1Chznz8F0V2VEi8VWcHcbU59geNU4qukBCNUkdT43uzi3qhEFEBbwzXIp3YFcq0YkQKgm6XLbdEEhqkZEQKgmprxKERymakQFhGqSIs/VFxGuakQHpMxv/xqasm/PK68CQ56GW+Tz3MWSzHv2p76Sa1xxzNCn4RaBowNC22VxN15s6HbqSq5ZAGERHy/ZtTMKuQh/uoiZAKGaPLkZ8+fTVY0ZFukSq1mfSFTyGzM1GLtsM1aQo+VA4gfAqzNP2U7NvgZ5ZQigxAAlRdXI0mJdpQSg+ICSDowsLdYdJN6/UNMnTX3OmqadytxiUU3GwzHNwz6LNLMv0iXXTtslUUk+Jm07tVoFOV8voMghuBq5FBiZ1yBPu13l57wJUgdL6nXGKylWaLFYn+hgOI5eFoxVKwhtlwyWJdup1dcgT60XbdePr9Vx+XodGbfjR63aYt0pvepCHjBuMgJAroVZBRTAeChKAHIvUIEk644XYAi7NQB5FiobKMvvTD1b/nMEgMjVmr3tAgy5158jAUQv2mwVBTD0HgOIQbM9NDoogNHAZCqIXcRooACG3VMqSEMNI1QUdqU6GFoOSQXpI+yoBT1g9PGPCtJZ12NV6fEWFsAYZCAVZIzQLdYpBYq379PdjzVm5oufBUDGJ4C2/aJajPeIFstR8/3U+zfYn79gYv9FlbyrNoBJVJAAJjCFuAoASFxvmFkABf4HIy+/57d867QAAAAASUVORK5CYII=",title:"Wallhaven",description:"\u8D44\u6E90\u4E30\u5BCC\u7684\u9AD8\u6E05\u58C1\u7EB8\u7F51\u7AD9\uFF0C\u9700\u8981\u4F7F\u7528\u4EE3\u7406\u7F51\u7EDC",version:"1.0.3",author:"Jaeger",home:"https://github.com/jae-jae",scriptType:"local",remoteUrl:"",code:`// \u5171\u7528\u7684\u83B7\u53D6\u56FE\u7247\u51FD\u6570
async function fetchPhotos(ibox, params) {
  const response = await ibox.ky
                       .get('https://wallhaven.cc/api/v1/search', {
                         searchParams: {
                           q: params.q || '',
                           purity: '100',  // 100-sfw, 110-sketchy, 1111-nsfw
                           sorting: 'random',
                           page: params.page || 1,
                           ...params,
                         },
                       })
                       .json();
  return response.data;
}

// \u5171\u7528\u7684\u6570\u636E\u8F6C\u6362\u51FD\u6570
function transformPhotoData(photos) {
  if (!photos || photos.length === 0) {
    return [];
  }

  return photos.map(
      photo => ({
        title: photo.category,  // \u6DFB\u52A0\u6807\u9898
        url: photo.thumbs.large,
        origin_url: photo.path,
        description:
            \`\${photo.dimension_x}x\${photo.dimension_y} - \${photo.category}\`,
        link: photo.url,
      }));
}

export default {
  // \u83B7\u53D6\u5206\u7C7B\u5217\u8868
  async categories(ibox) {
    return [
      {id: 'general', name: '\u7EFC\u5408'},
      {id: 'hot', name: '\u70ED\u95E8'},
      {id: 'minimal', name: '\u6781\u7B80'},
      {id: 'anime', name: '\u52A8\u6F2B'},
      {id: 'landscape', name: '\u98CE\u666F'},
      {id: 'space', name: '\u592A\u7A7A'},
      {id: 'people', name: '\u4EBA\u7269'},
    ];
  },

  // \u83B7\u53D6\u6570\u636E
  async getData(ibox, {page, category = 'general'}) {
    const categoryConfig = {
      general: {
        q: '',
      },
      hot: {
        q: '',
        sorting: ibox.licia.randomItem(['views', 'favorites', 'toplist']),
      },
      anime: {
        q: '',
        categories: '010',  // \u53EA\u663E\u793A\u52A8\u6F2B\u5206\u7C7B
      },
      people: {
        q: '',
        categories: '001',  // \u53EA\u663E\u793A\u4EBA\u7269\u5206\u7C7B
      },
      landscape: {
        q: 'landscape nature',
      },
      space: {
        q: 'space galaxy stars',
      },
      minimal: {
        q: 'minimal simple clean',
      },
    };

    const config = categoryConfig[category] || categoryConfig.general;
    const photos = await fetchPhotos(ibox, {
      ...config,
      page,
    });

    return transformPhotoData(photos);
  },

  // \u641C\u7D22\u65B9\u6CD5
  async search(ibox, {keyword, page}) {
    const photos = await fetchPhotos(ibox, {
      q: keyword,
      page,
    });
    return transformPhotoData(photos);
  },
};
`,updated_at:1733800707097},{id:"7a9c0b14-7c7a-4885-9ab8-cb039469c6d4",icon:"https://unsplash.com/safari-pinned-tab.svg",title:"Unsplash",description:"\u77E5\u540D\u7684\u56FE\u7247\u5206\u4EAB\u5E73\u53F0",version:"1.0.1",author:"Jaeger",home:"https://github.com/jae-jae",code:`// \u5171\u7528\u7684\u83B7\u53D6\u56FE\u7247\u51FD\u6570
async function fetchPhotos(ibox, params) {
  const response = await ibox.ky
    .get("https://api.unsplash.com/photos/random", {
      searchParams: {
        count: 30,
        ...params,
      },
      headers: {
        Authorization:
          "Client-ID 33b33a3d3c07c4c3fecb2b173a70b12932658ddcfd768350c79f5f4cae78e181",
      },
    })
    .json();

  return response;
}

// \u5171\u7528\u7684\u6570\u636E\u8F6C\u6362\u51FD\u6570
function transformPhotoData(photos) {
  return photos.map((photo) => ({
    title: photo.description || photo.alt_description || "\u65E0\u6807\u9898",
    url: photo.urls.regular,
    origin_url: photo.urls.full,
    description: \`\${photo.width}x\${photo.height}\`,
    link: photo.links.html,
  }));
}

export default {
  // \u83B7\u53D6\u5206\u7C7B\u5217\u8868
  async categories(ibox) {
    return [
      { id: "desktop", name: "\u684C\u9762\u58C1\u7EB8" },
      { id: "nature", name: "\u81EA\u7136\u98CE\u666F" },
      { id: "minimal", name: "\u6781\u7B80\u4E3B\u4E49" },
    ];
  },

  async getData(ibox, { page, category = "desktop" }) {
    const categoryConfig = {
      desktop: {
        query: "wallpaper landscape nature",
        orientation: "landscape",
      },
      nature: {
        query: "nature landscape mountains forest",
        orientation: "landscape",
      },
      minimal: {
        query: "minimal simple clean",
        orientation: "landscape",
      },
    };

    const config = categoryConfig[category] || categoryConfig.desktop;
    const photos = await fetchPhotos(ibox, config);
    return transformPhotoData(photos);
  },

  // \u641C\u7D22\u65B9\u6CD5
  async search(ibox, { keyword, page, category }) {
    const searchParams = {
      query: keyword,
      orientation: "landscape",
    };

    const photos = await fetchPhotos(ibox, searchParams);
    return transformPhotoData(photos);
  },
};
`,scriptType:"local",remoteUrl:"",updated_at:1733065614180},{id:"a55d2cd0-6424-414c-bb34-4700fa5528c7",title:"\u6F14\u793A\u811A\u672C\u4E00",description:"\u8FD9\u662F\u4E00\u4E2A\u6700\u7B80\u5355\u7684\u811A\u672C",version:"1.0.1",author:"Jaeger",home:"https://github.com/jae-jae",scriptType:"local",remoteUrl:"",code:`export default {
  async getData(ibox, { page, category }) {
    if (page > 1) {
      // \u4E0D\u652F\u6301\u7FFB\u9875
      return;
    }

    return [
      {
        title: "\u8FD9\u662F\u4E00\u5F20\u56FE\u7247",
        url: "https://picsum.photos/800",
      },
    ];
  },
};
`,updated_at:1733065916295},{id:"a66a2d9a-b62a-455b-a49a-2af2563f4ebe",icon:"https://s3.qingbuyaohaixiu.com/favicon.ico",title:"\u8BF7\u4E0D\u8981\u5BB3\u7F9E",description:"\u7F8E\u5973\u56FE\u7247",version:"1.0.4",author:"",home:"",scriptType:"local",remoteUrl:"",displayMode:"masonry",code:`export default {
  // \u83B7\u53D6\u6570\u636E
  async getData(ibox, { page, category }) {
    let randomPage = ibox.licia.random(1, 244);
    let url = \`https://qingbuyaohaixiu.com/?page=\${randomPage}\`;
    let $ = await ibox.loadPage(url);
    let data = [];
    $("img.post-image").each(function () {
      let src = $(this).attr("src");
      let text = $(this).attr("alt");

      data.push({
        title: text,
        url: src,
      });
    });

    return data;
  },
};
`,updated_at:1740755082013},{id:"c247e41c-0dd7-4fac-8993-0193243a34ef",title:"iDaily",description:"\u6BCF\u65E5\u73AF\u7403\u89C6\u91CE, \u8BF7\u4F7F\u7528\u5217\u8868\u89C6\u56FE\u6D4F\u89C8",version:"1.0.3",author:"",home:"",scriptType:"local",remoteUrl:"",displayMode:"full",code:`export default {
  // \u83B7\u53D6\u6570\u636E
  async getData(ibox, { page, category }) {
    if (page > 1) {
      // \u4E0D\u652F\u6301\u7FFB\u9875
      return;
    }

    let data = await ibox.ky
      .get(
        "http://idaily-cdn.idailycdn.com/api/list/v3/iphone/zh-hans?page=1&ver=iphone"
      )
      .json()
      .catch(() => {
        ibox.toast.error("\u52A0\u8F7D\u6570\u636E\u51FA\u9519!");
        ibox.done();
      });

    let items = data
      .filter((item) => item.ui_sets && item.ui_sets.caption_subtitle)
      .slice(0, 30)
      .map((item) => ({
        title: item.ui_sets.caption_subtitle,
        url: item.cover_landscape,
        description: item.content + \` (\${item.pubdate})\`,
        link: item.link_share,
      }));
    return items;
  },
};
`,updated_at:1733065614181},{id:"f9cf76a8-df5a-4e46-aea1-b221f55a424d",icon:"https://iconape.com/wp-content/files/lm/369259/svg/bing-logo-icon-png-svg.png",title:"Bing",description:"\u6BCF\u5929\u53D1\u73B0\u4E00\u4E2A\u65B0\u5730\u65B9\uFF0C\u7B2C\u4E09\u65B9\u63A5\u53E3",version:"1.0.0",author:"",home:"",scriptType:"local",remoteUrl:"",displayMode:"full",code:`export default {
  // \u83B7\u53D6\u5206\u7C7B\u5217\u8868
  async categories(ibox) {
    return [
      { id: "latest", name: "\u6700\u65B0" },
      { id: "random", name: "\u968F\u673A" },
    ];
  },

  // \u83B7\u53D6\u6570\u636E
  async getData(ibox, { page, category = "latest" }) {
    const { loadPage, licia } = ibox;

    // \u6839\u636E\u5206\u7C7B\u51B3\u5B9A\u9875\u7801
    let pageNum = page;
    if (category === "random") {
      pageNum = licia.random(1, 304);
    }

    // \u52A0\u8F7D\u9875\u9762
    let $ = await loadPage(\`https://bing.ee123.net/page/\${pageNum}\`);

    // \u89E3\u6790\u56FE\u7247\u6570\u636E
    for (const el of $(".item-card").toArray()) {
      const $item = $(el);
      const $img = $item.find("img");

      const formattedDate = $img.attr("data-date");

      if (formattedDate) {
        // \u6784\u9020\u56FE\u7247URL
        const url = \`https://bing.ee123.net/img/?date=\${formattedDate}&size=1024x768\`;
        const origin_url = \`https://bing.ee123.net/img/?date=\${formattedDate}&size=UHD\`;

        // \u83B7\u53D6\u8BE6\u60C5\u9875\u63CF\u8FF0
        try {
          const detailUrl = \`https://bing.ee123.net/detail/\${formattedDate}\`;
          const $detail = await loadPage(detailUrl);
          const title = $detail(".description>.title").text().trim();
          const description = $detail(".description>.sub").text().trim();

          ibox.push({
            url,
            origin_url,
            title,
            description: description,
            link: detailUrl,
          });
        } catch (err) {
          console.error("Error loading description:", err);
          // \u83B7\u53D6\u63CF\u8FF0\u5931\u8D25\u65F6\u4ECD\u7136\u6DFB\u52A0\u56FE\u7247\u9879
          ibox.push({
            url,
            origin_url,
            title,
            description: formattedDate,
          });
        }
      }
    }
  },
};
`,updated_at:1734015808704},{id:"f530ac0d-52de-4e71-a39d-c8d15043c5d0",icon:"https://www.fulitu.cc/usr/themes/photograph/favicon.png",title:"\u798F\u5229\u5154",description:"\u7F8E\u5973\u56FE\u7247",version:"1.0.0",author:"",home:"",scriptType:"local",remoteUrl:"",code:`async function collectData(ibox, url) {
  let $ = await ibox.loadPage(url);
  $(".item-link").each(async function () {
    let detailUrl = $(this).attr("href");
    let $detail = await ibox.loadPage(detailUrl);
    $detail(".post-item-img").each(function () {
      let title = $(this).attr("alt");
      let src = $(this).attr("data-original");
      ibox.push({
        title: title,
        url: "https:" + src,
        link: detailUrl,
      });
    });
  });
}

export default {
  // \u83B7\u53D6\u5206\u7C7B\u5217\u8868
  async categories(ibox) {
    let $ = await ibox.loadPage("https://www.fulitu.cc/");
    let categories = [{ id: "all", name: "\u5168\u90E8" }];

    $(".dropdown-menu li a").each(function () {
      let href = $(this).attr("href");
      let id = href.split("/category/")[1];
      if (id) {
        id = id.replace(/\\//g, "");
        let name = $(this).text();
        categories.push({ id, name });
      }
    });

    return categories;
  },

  // \u83B7\u53D6\u6570\u636E
  async getData(ibox, { page, category = "all" }) {
    let url;
    if (category === "all") {
      // \u5168\u90E8\u5206\u7C7B\u4F7F\u7528\u968F\u673A\u9875\u7801
      let randomPage = ibox.licia.random(1, 76);
      url = \`https://www.fulitu.cc/page/\${randomPage}/\`;
    } else {
      // \u7279\u5B9A\u5206\u7C7B\u4F7F\u7528\u4F20\u5165\u7684\u9875\u7801
      url = \`https://www.fulitu.cc/category/\${category}/\${page}/\`;
    }

    await collectData(ibox, url);
  },

  // \u641C\u7D22\u65B9\u6CD5
  async search(ibox, { keyword, page }) {
    const url = \`https://www.fulitu.cc/search/\${keyword}/\${page}/\`;
    await collectData(ibox, url);
  },
};
`,updated_at:1733800773439},{id:"512c34f3-33b8-4cc3-af12-7e12571abea9",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAMAAABlApw1AAAB41BMVEVMaXEAAAAAAACAgIAAAABVVVUAAAAzMzMAAAAAAAAkJCQAAAAAAAAAAAAAAAAXFxcAAAAAAAAAAAAAAAARERENDQ0AAAAAAAAcRzkAAAAMDAwAAAAMDAwAAAAAAAAAAAAAAAAJCQkJCQkAAAAJCQkAAAAAAAAAAABDiYIAAAAGBgYAAAAAAAAAAAACAgIEBAQGBgYAAAAyaWQBAQECAgIDAwMEBAQBAQEJFxIBAQEDAwMAAAAEBAQCAgICAgIlSkYkTUkAAAAEBARInJFEk4gcOzhKnpMybWUvZV1OqJs9gXhJnJA4dm5OpZhEj4VDkIQ9g3hDjoNBi4FPqp5Pqp1JnJFMo5ZJnZFRraBQq55Op5tNpJlRraBQqp1Sr6JTr6JSsKNSr6JSrqFRq6BSraH///9RraBRrKBQq59RraFQqp7k8vBQqp/c7uzo9PL6/fzc7utpt63S6eaUzMTs9vT1+vpar6Vesqfz+fn8/v1VrqJ8wLicz8if0cul1M6p1tCw2dTq9fNbsaZktKp1vbS/4dzL5uPj8fDx+PdYrqRtubCBw7qJx7+PycLb7uvl8vHy+Pf6/PxUraF5v7aAwrqz29a23Ne839r3/Pv+/v5Sq6BktqqZzser19HI5OHR6ebu9/Y7VEA9AAAAYXRSTlMAAQICAwMEBQUGBwcICQoLCw0ODw8QERISFBUVFhcYGhsbHBwdHR4hIiMkJigpKistLS4vMjQ1Nzg5Ozs8PD4+P0BBQ0dSXGBobnF3e3yAgY6QlKeytrnAy87S1uXp+/3+8EPkDAAAClNJREFUeNrtnfl7GscZx2tXpVABXZARoSqgxhUEAzpCsCI3ceomcU63OexEkRRJy7UgR3JV2zp8yFZsx/eRs0nvP7Wz5yy7M7PXzALPo89vfmTg++GdXZZl931/dsABBxxwwAEHHHAAgkN6DveArgCuwoMnGeoDQAyHEmr4QCAQBIR6iPj6IIYq4SD+EAgfGh4OhyMi0Z4gvXQ4PDwcCgIHuwpyfDF9+IV3zs4vLfM9ZXlp/uw7L4SBg6JgI78cP3J6fpXvE1bnT0ckBdnAOj+I//o831fMvw4UrA2k5RMMhaNnVvg+Y+VMNBwKSsvI4v0PDkee+5jvQz5+LjIclGpglZ/ry/zAgLMwUPLHzvB9ypmYYoDPHwhFuDf6bv1r28EbXETeknECgVCYS/TZ/kfPfIILhwJAAL+AovHTfB9zOh6VFxGuAJFY8jO+j/ksGYvgSiAVgEu82DefvyhWX0xwYglQAkoB3uP7mveUEqBW0FBgODoydpbva86OjUSHA0OHDqEEgmFuNN3XmwDYCNKjXDioCJhXUDyVXeL7mqVsKi6vIbOAtIKO9vj434rlo+IawglwifQE3+dMpBMcUkDeBDI53js1Ezw9chlpI0ALxJKZPOXo1DXymWQMJxCJpbJ5RuGpSeSzqVgELRCSBBiGpyIhCYQwAvHUeJ55fI8O+fFUHClwWBYo+JDek0NBFjiMEoiKAj7Fl3ArEKUlUPNMTwVqVOidAC5RAw0tBVoCDrJDaChQEsCndyfhswAuvQcHXwXQ8b06+CfgPT5awS8BW/FbOmwr+CNgFb+Fg5KCpYCX/C0LrBWYCxDit2xhpeCngCk+FQW2AvpXwsbvIOh2IBqwFMDkx4QXRHASBAV2Asj8TbtceLbx5M7eoy9VBbyBHwLwpZsO+Wn93w8UBawBIwFk/lbTBesXr8gKOAPWAvrl33TF/rUrRAMWAqgCtICAS84/NBbBP4Gu3U/TNXdIRaAvgMrvTaD55J+EGtAWQCyglleB5v++lZ8DacBMoDt/Rw3z9boFTy8jPhsuGgx8EOheQB1N4LwAqJMQtjYffr9hUCAYMBaQ83cJ1C0QRB7sPeuqwVW8AU0B+KyG/IImoKS0Vti68aPO4NmmwYCxQNcGAPKbBawNhO07OoO7ytERogSsBUB+RwLQQPjXLjT4ylACFgIwvzcBqHD1HjR4jDVgJqDmdywAFTahwSVlEQ2MgKzw7QXN4EYHZ0BJAJffjQBUuKgJ7HzZGTgBUeEHzWCvgzNgJ9BxKwANtnfUB2+o35gZCxgK4FIAcl0rwVVDCegK1FgJXNGOjP4OCoouASsBkN+7ACzBvmAowYAIbGpraFM1YCmg5qcnUF/XDquxJWAj0KEkcEN9+E1BNfBLQKAicFU7omMoUGMooG0Ed6XzqD0QqHsT2NIO6ARjCQZDoK5+07+MFajRFmhRFVA/ynblc/GDJ6BVYEAF7mvbgA8CDQYCur2QaSNgKyDQEYCfAwMqsKd9Eg+ogO5YSISJQI2hwC14NDqYAtfgTsg3gRZFgW+eat/IBlNAK0Dzu4EU2LoHV9BACtyEp+YEgd1ulJnAo5/Ux17eHkSB2z829Z9i7I6FGAncuqTlv7c9gAK393U/9NUHT+Dx1zD/f+v+C8CjadsCbf3+8/smZGNbys/uOzGdCrShwJXrO7r8lx/IBWB3VoKKQFsTuHVtv6lj92F9AATaEvV/bN++sd7s5hrMLzA6sUUQMG8D5uh3/qbw5NJu08ju9bq+AGzOjboSgG/8RhPPzndSfk2Azdlp+wJtA1YCdzd1PxyzO71udzfabjsU+M9WvbsAjH6hQVbAu8D+ozoif4vBb2RMBHb27teNAqx+pWQg8PT6/bopP7OfWWkLbPxwW/9rN3IfSvWXemoCuzvnv7r5+BZMby4Ak0sNKAlc+Eb6p5gaWwA2V6vQElCOJ3AF6I1A3ZMAzC8LMLpii52AYCgAo2vmjKcWvQm08QuI1VWLrgTW2msKBgH8Amoxu27UqYCc3SRApwA+CKytkQSs8rO4dtquAIxvLWDeghle/I3/kc8ssGYlYFEAJvcPaM9JUwCdn80dHA4E1qwEyHugBpt7aNwKfNEtQKcAFAQaeAF9+C9ETAKe8/skALKbBHD5oQCrO/mYCyjPy+5eSsL1Qg4FSPkb7O5mdSlg2IhhAdALiOH9xMRPMu02rL+iuaATIOVneUM0cSOwfTsxlQXURwKG/EybApC+EdgXIOZn3NWAogD6EIJ1Xwn0GnIoQGUB0RcQbAtQWUAUBVpOBejkp3gbVqfjSsC8AfjR3Ya4H5JpEwH/wZy/hwJyCWwb1En5/ekvRFhD1gZ10g7Ipw5PxBuZ6iro+FTzexZAXrtYxyvAPyHz+9ckDL8VGO+l705vfv8xAqzbtJkFug0wkNdPw8c+czWMgaBCjE8vPwUB4yKyVhCorR+6rUnURQRBp8e+//4K2DIQsOnN77/v3S7Riwje1AfRojPIT7lBkmZgRYfO+qEloDNQFSzjU8pPvUmYYkBQEP/WopbfWmDZQsBsQHLoION7yL+sCmAbZy/xzg2gAtSA7fFo5ueX1MbZ2NblC85b/WHbFOr+0KCTn1+QW5cTmsd/wrswsKJBKz//idw8ntC+/y/u2nXabG/puXP5nyUB0gCFP65SbTjaaFDNv/qaMkABP8KiuOC8ZSrEGJ5yfn6hqIywwA8RKb7rrmmtNTXv+fl3i9IQEdIYl8LUAhsDGvkXpgrKGBf8IJ186a0VGo2bDXhu2y+y8lYprwzSwY8yyhVnPqTd+ttzz36FD2eKOXWUEXaY1Hi+XDlHs/t6jVZ8/lylnB9Xh0lhx3mB/dD0y+cote/33Ky/K//L02AfJI/zIgxUAyUoVaofrTCb/+B2oOBH1UoJFIAwUE0pQXqiUK4cf3uRzQgLt2//4tvHK+XCRFodaUcYKpjK5I5NVqpz7y+uUldwO8hu8f25amXyWC6TUocKksY6igblSnX2xJsffLr4+TJFAzfjuz5f/PSDN0/MVitlMb861pE0WFMyKJSmgcLcK6+ePHnq1Kk/+cMpBCdPvvqHORB/ulQQ86uDNcmjTYHBRL5Ynqm8VJ2dnQOcIPKKHU64QXzt2dnqS5WZcjE/AfKro02thssmUunxXL5YmgIOIlUrjpOpukN67UplZqpUzOfG0+D9tz0eN54cywCFQrFYnpyyyzSKKS9MTk6WS6ViAcTPjCXjML/1gOVYIjmWzh6dyOXzhcIxXyggyedzE0ez6bFkIqYNWLY14pqLjYymxtKZTPZ3z5P4vW2eJzOOJJvNZtJjqdGRGKeNuLY7ZJzj4iOJ0WQy9RsLfmsHqydJ4UiOJkbiHAeHjDsY8x6JclwsFo8fEUkw5MiROIYYgItGdGPe3Qzaj/6aNTQH7asKogOQCAZDgF+xJYQlCAiI6WF8mwqqhEgA8Et2BGSGMMjhYXwnEoqHwi9YcBiP8vLI8G5dfk4XSvHsGdCWoPf2OlCg4iE+mOLqcORgTXdUM/TT/x9BjhEo3A02BgAAAABJRU5ErkJggg==",title:"Paxels",description:"\u514D\u8D39\u9AD8\u8D28\u91CF\u56FE\u7247",version:"1.0.0",author:"Jaeger",home:"https://github.com/jae-jae",scriptType:"local",remoteUrl:"",code:`// \u5171\u7528\u7684\u83B7\u53D6\u56FE\u7247\u51FD\u6570
async function fetchPhotos(ibox, params) {
  const response =
      await ibox.ky
          .get('https://www.pexels.com/zh-cn/api/v3/search/photos', {
            searchParams: {
              query: params.query || '4k \u684C\u9762',
              per_page: 15,
              page: params.page || 1,
              orientation: 'landscape'
            },
            headers: {
              'Authorization': '',
              'x-client-version': '6.2.1',
              'x-client-type': 'mobile',
              'secret-key': 'H2jk9uKnhRmL6WPwh89zBezWvr'
            }
          })
          .json();

  return response.data;
}

// \u5171\u7528\u7684\u6570\u636E\u8F6C\u6362\u51FD\u6570
function transformPhotoData(photos) {
  if (!photos || photos.length === 0) {
    return [];
  }

  return photos.map(
      photo => ({
        title: photo.attributes.title || photo.attributes.alt || '\u65E0\u6807\u9898',
        url: photo.attributes.image.large,
        origin_url: photo.attributes.image.download_link,
        description: \`\${photo.attributes.width}x\${photo.attributes.height}\`,
        link: \`https://www.pexels.com/photo/\${photo.id}/\`,
      }));
}

export default {
  // \u83B7\u53D6\u5206\u7C7B\u5217\u8868
  async categories(ibox) {
    return [
      {id: 'desktop', name: '4k\u58C1\u7EB8'},
      {id: 'rain', name: '\u96E8\u6EF4'},
      {id: 'nature', name: '\u98CE\u666F'},
      {id: 'cartoon', name: '\u5361\u901A'},
      {id: 'minimal', name: '\u6781\u7B80'},
      {id: 'dark', name: '\u6697\u8272\u7CFB'},
      {id: 'animal', name: '\u52A8\u7269'},
    ];
  },

  // \u83B7\u53D6\u6570\u636E
  async getData(ibox, {page, category = 'desktop'}) {
    const categoryConfig = {
      desktop: {
        query: '4k\u58C1\u7EB8',
      },
      rain: {
        query: 'rain',
      },
      nature: {
        query: '\u81EA\u7136 \u98CE\u666F 4k',
      },
      cartoon: {
        query: 'cartoon',
      },
      minimal: {
        query: 'simplicity',
      },
      dark: {
        query: 'dark',
      },
      animal: {
        query: 'animal',
      }
    };

    const config = categoryConfig[category] || categoryConfig.desktop;
    const photos = await fetchPhotos(ibox, {
      ...config,
      page,
    });

    return transformPhotoData(photos);
  },

  // \u641C\u7D22\u65B9\u6CD5
  async search(ibox, {keyword, page}) {
    const photos = await fetchPhotos(ibox, {
      query: keyword,
      page,
    });
    return transformPhotoData(photos);
  },
};
`,updated_at:1733822268860},{id:"746421e5-abd3-44c5-82da-86d3c9c6c04a",icon:"https://s.panlai.com/images/favicon.ico",title:"\u58C1\u7EB8\u6C47",description:"\u9AD8\u8D28\u91CF\u58C1\u7EB8",version:"1.0.1",author:"",home:"",scriptType:"local",remoteUrl:"",displayMode:"masonry",code:`// \u5171\u7528\u7684\u83B7\u53D6\u56FE\u7247\u51FD\u6570
async function fetchPhotos(ibox, pageUrl) {
  const { loadPage, push } = ibox;
  let $ = await loadPage(pageUrl, {
    headers: {
      Accept:
        "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8",
      "Accept-Language": "zh-CN,zh;q=0.9",
      "User-Agent":
        "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",
      Cookie: "timezone=8",
      Referer: "https://www.bizhihui.com",
    },
  });

  // \u83B7\u53D6\u6240\u6709\u58C1\u7EB8\u9879
  const items = $(".item-list");

  items.each((_, item) => {
    const $item = $(item);
    const $link = $item.find(".item-img");
    const $info = $item.find(".item-info2");

    // \u63D0\u53D6\u56FE\u7247\u4FE1\u606F
    const title = $info.find("h3 a").attr("title");
    const link = $link.attr("href");
    const imgUrl = $link.find("img").attr("src");
    const resolution = $info.find(".float-lt").text().trim();

    // \u5C06\u7F29\u7565\u56FEURL\u8F6C\u6362\u4E3A\u539F\u56FEURL
    const originUrl = imgUrl.replace("-pcthumbs", "");

    // \u6DFB\u52A0\u5230\u7ED3\u679C\u5217\u8868
    push({
      title: title,
      url: imgUrl,
      origin_url: originUrl,
      description: resolution,
      link: link,
    });
  });
}

export default {
  // \u83B7\u53D6\u5206\u7C7B\u5217\u8868
  async categories(ibox) {
    return [
      { id: "random", name: "\u968F\u673A" },
      { id: "hot", name: "\u70ED\u95E8\u6392\u884C" },
      { id: "4k", name: "4K\u58C1\u7EB8" },
      { id: "8k", name: "8K\u58C1\u7EB8" },
      { id: "dongman", name: "\u5361\u901A\u52A8\u6F2B" },
      { id: "renwu", name: "\u4EBA\u7269\u753B\u7167" },
      { id: "fengjing", name: "\u98CE\u666F\u9759\u7269" },
      { id: "yingshi", name: "\u5F71\u89C6\u4F53\u80B2" },
      { id: "youxi", name: "\u6E38\u620F\u89C6\u89C9" },
      { id: "weimei", name: "\u552F\u7F8E\u6CBB\u6108" },
      { id: "mengchong", name: "\u52A8\u7269\u840C\u5BA0" },
      { id: "yishu", name: "\u827A\u672F\u7ED8\u753B" },
      { id: "yuzhou", name: "\u5B87\u5B99\u661F\u7A7A" },
      { id: "keji", name: "\u519B\u4E8B\u79D1\u6280" },
      { id: "jianyue", name: "\u7B80\u7EA6\u4E3B\u4E49" },
    ];
  },

  // \u83B7\u53D6\u6570\u636E
  async getData(ibox, { page, category = "hot" }) {
    const categoryConfig = {
      random: {
        url: "https://www.bizhihui.com/page/{{page}}/?order=views",
        useRandomPage: true,
      },
      hot: { url: "https://www.bizhihui.com/page/{{page}}/?order=views" },
      "4k": { url: "https://www.bizhihui.com/tags/4Kbizhi/{{page}}/" },
      "8k": { url: "https://www.bizhihui.com/tags/8Kbizhi/{{page}}/" },
      dongman: { url: "https://www.bizhihui.com/dongman/{{page}}/" },
      renwu: { url: "https://www.bizhihui.com/renwu/{{page}}/" },
      fengjing: { url: "https://www.bizhihui.com/fengjing/{{page}}/" },
      yingshi: { url: "https://www.bizhihui.com/yingshi/{{page}}/" },
      youxi: { url: "https://www.bizhihui.com/youxi/{{page}}/" },
      weimei: { url: "https://www.bizhihui.com/weimei/{{page}}/" },
      mengchong: { url: "https://www.bizhihui.com/mengchong/{{page}}/" },
      yishu: { url: "https://www.bizhihui.com/yishu/{{page}}/" },
      yuzhou: { url: "https://www.bizhihui.com/yuzhou/{{page}}/" },
      keji: { url: "https://www.bizhihui.com/keji/{{page}}/" },
      jianyue: { url: "https://www.bizhihui.com/jianyue/{{page}}/" },
    };

    const config = categoryConfig[category] || categoryConfig.hot;

    // \u5982\u679C\u662F\u968F\u673A\u5206\u7C7B\uFF0C\u4F7F\u7528\u968F\u673A\u9875\u7801
    const actualPage = config.useRandomPage ? ibox.licia.random(1, 30) : page;
    const pageUrl = ibox.licia.strTpl(config.url, { page: actualPage });

    await fetchPhotos(ibox, pageUrl);
  },

  // \u641C\u7D22\u65B9\u6CD5
  async search(ibox, { keyword, page }) {
    const searchUrl = \`https://www.bizhihui.com/search.php?q=\${encodeURIComponent(
      keyword
    )}&page=\${page}\`;
    await fetchPhotos(ibox, searchUrl);
  },
};
`,updated_at:1734017173406},{id:"507b858d-b850-45d0-b18a-c8bbb48aff85",icon:"https://bizihu.com/fliee/ico.png",title:"\u58C1\u7EB8\u6E56",description:"\u624B\u673A\u58C1\u7EB8",version:"1.0.1",author:"",home:"",scriptType:"local",remoteUrl:"",displayMode:"masonry",code:`// \u7F13\u5B58\u6240\u6709\u56FE\u7247\u6570\u636E
let cachedImages = null;
const PAGE_SIZE = 30;

export default {
  async getData(ibox, {page}) {
    // \u7B2C\u4E00\u6B21\u8BF7\u6C42\u65F6\u83B7\u53D6\u6240\u6709\u6570\u636E
    if (cachedImages === null) {
      // \u52A0\u8F7D\u9875\u9762
      const $ = await ibox.loadPage('https://bizihu.com/');

      // \u63D0\u53D6\u56FE\u7247\u6570\u636E
      const images = [];
      $('.box').each(function() {
        const $img = $(this).find('img.immg332');
        if ($img.length) {
          const url = $img.attr('data-original');
          if (url) {
            images.push({
              url: url,
            });
          }
        }
      });

      // \u7F13\u5B58
      cachedImages = images;
    }

    if (page == 1) {
      // \u6253\u4E71\u987A\u5E8F
      cachedImages = ibox.licia.shuffle(cachedImages);
    }

    // \u8BA1\u7B97\u5206\u9875
    const start = (page - 1) * PAGE_SIZE;
    const end = start + PAGE_SIZE;

    // \u5982\u679C\u8D77\u59CB\u4F4D\u7F6E\u8D85\u51FA\u8303\u56F4\u5219\u8FD4\u56DE\u7A7A\u6570\u7EC4
    if (start >= cachedImages.length) {
      return [];
    }

    // \u8FD4\u56DE\u5F53\u524D\u9875\u7684\u6570\u636E
    return cachedImages.slice(start, end);
  }
};`,updated_at:1734085450299},{id:"e701640f-a019-4104-b770-07a8b3910a2a",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAC2xJREFUeF7tnXXsNjkRx79HCK6BYMHlkEBwd3d3DxAcjuCHuxxuh1uQO9zdCe4Ohx0Q3AkEl5APt7/jeZ93O532Wel2O/8+03Zn5rt9ZtqZ2QPUaNUaOGDV0jfh1QCwchA0ADQArFwDKxe/7QANACvXwMrFbztAA8DKNbBy8dsO0ACwcg2sXPy2AzQArFwDKxe/7QANACvXwMrFbztAA8DKNbBy8dsO0ACwcg2sXPy2AzQArFwDKxe/7QANACvXwMrFbztAA8DKNbBy8dsO0ACwcg2sXPy2AzQAjK6Bm0q6y8ir/FzSLUZeI3X6a0m6b+Kgyyfy78w+1Q7wBEkH7/y09gQPkvTEkdfwTn9hSe+VdFLngCMlncXJOyjbVADgod8l6eqDPv3+k/HWvXPkNWLTn74z/jlijN3vf5d0Rkm/cPIPyjYlAE4h6UuSTjOoBPtO9jNJF5X0kxHXsKY+Tmf8yySsz/N+NoF/UNYpAcCDX0nS+weVYP/J2HqvNvIaoelfJ+nGCWvfSNIbE/gHZ50aAAhwP0lPHlySfSdk/geMvMb29M+RdPeENe8t6RkJ/KOwzgEABHmlpFuNItH/J721pFeNvMbe9A+T9OiEtZ4u6T4J/KOxzgWA40v6lKTzGJJ9T9Idjd8fIelyxu9/k3QhSd8YTXtHTXwnSS9IWOMNiX8TCVOns84FAJ70gpI+H3lkS1lnk/Q5SSc25sC5wskai64n6c0JkwP6SyTwj846JwAQ7naSXhqR8qGSHhfg4ZDpNZHxL47sJLlKvrikD0o6rnOC70o6l6R/OfknYZsbAAiJI3SviLRWfH+Iw+E7SNKzB9TomTvjE7976PfdjvcDD/OUPCUAAHk/HPk//7Wk80v6aUA575N05Yji2HrZgnelE0j6QOJfC77KR3ddeIzxpQCAU7NPRo5OOT+4SkAJZ+r8gZMZSmILPrekf+yoyLdKuk7CHFNGIwmPdRRrKQDgWTwOlRXf31ASTqNFb5IEXy69MNGfeIikx+cuNsW4kgCAvJ54+paSDgso57GSULpFrAFfKj1GEg6plw6VdA8v81x8pQEAPfAWW28pWzj+wDcDSvNcOnEp9Z4EpWPIFCfytZJuljD/bKwlAuB0nVNoXY9a8f1pu/OFUxpa/a0k/I7fODTPef3rHXx7LISG3HksgkoEAIrDo8ezt4j/4zsHGHDScNYsIvK4QoTn0p337tXTVyQx5k+LsH5hTuC2zu4p6VkRRd5N0vMCPI+UxHGxRU+RdP8Aw9klfUTSqZzGJES96gRHz87H8bF5ke2bbXguztg5a7fIiu/fJunakfH8V/OfvUkn6Yx/XqdIJHUQxaT4Fc6px2UrHQDE9Th1FzHU8O3ulO3PPTy8vdwX4BeE6D+SDpT0/Q0GcgpCZw5989zBcaQ9riUzZy8dAIjFG/4hScc2ZLS87ms40sS+2IGIJV4hicMbLz1Q0pO8zKXxLQEA6Oz2kl4SUZ6VFEr8ThxvEU7lH7uEFa+d5kg88T6bi28pAEAY3rKQw7YnrBXfk3p1A5dWfEwv64Dp4y6Ua0kAIOGSo1wrs5jMWvIMSA7dJvwJ8g+8N3iWyd6eeB9QqPnLugvwKOl83f+5lVmMJx4Cied8IfYc3Cji8f8qxriE35e0A+zp05MEQoEIPkEf4bTlFpBwo3gTSV9egnE9z7hEACAXBzwc9Fh0cyNbiKgBQ6YQSR2MIRegGloqADDA4ZELF5JCLyDpWz3WIo8Qf+CsCZa0AJUwTVmsSwYASaF49lZm8aclkbvXRxRicr7gIY6lyfuvjpYMAIzBMS/HvRY9X9JdAwxU73IfYNGjHH83iwXG0gGA4j2VRpSnh3L3X+0oLe+7L1is0TcfvAYAIA+p35zHW8RfAX8J23S8zh84pzGY+wYcwK9WYfUNIWoBAOcCFGZe0jAQziCVQn/p4bmUpI9FjPsWSSSH/LsmENQCAGxCcgfpZFZTBiKHUCcRageeGTGudb6wSFzUBAAMQIIIyZgWWbd3L5d028h4fufGsAqqDQAYhSwiwjaL6B/Anf82HavzB6zQ8oedP0CeweKpRgBwyIM/YCV0cFmEP0BzqW26mKOCiPuG6w5QZDI7gGoEAEqlIhgQ0K8nRGQaXTPwo+evpJga/11QVCsA0AnNISgisYiqnVAhiSe0JF/xRbsYYO6xtQLgqQkdOEKHPOjmC10RSshO5B/QE+jjcxsyd/0aAUBvIErGvUQyKf7AET0DPE0sqC+gfL3vfMH7DLPx1QYAQjRCuVT6hCQOg/qINjXkC1r03MQGUanPNxp/TQCgKINqICt72FKkVcxJ8Ums3e3QTShGM/rmxLUAgFQxTgF3bbdKqVnobf9MpD6BhBGSTqkmWgzVAIBTdyFfaAtPNQbnABh7m6gSIonkmMaENLkgH5H08kXQ0gFwjM74KU0ffiyJCuQQfb170//aw+BpakXTq9jNZDHgWDoA+N/m0MZLHBNzIRTrFcQZQqg6iD4BscYP1C/EEk28zzwq35IB8HBJZOt4iZNBMoohT+Ux4WSopS1Rg9Xvj5CQo+LiE0iXCoDU7px06NruKuqpAQxdGtHvD3/A6hFIvSGNInAOi6UlAoA3i+QML3HAc9lAIQdJIlZff/wFKpP7evnT65iexxaRbjZ2T2SvHnr5lgYAPHTCLG+s/7vuzf9aQEtc+8bSvN5h9Bh4miS6fltUdKewJQGAXoD0CkyJ9bkSjn2fwFN5TKvaUIcwAMkOEyL6D1Ci3pd/sNPbO8TgpQCAxE0+BWN1B9/WR0qDRs9JHw4kjuQ20VwCf+CEhkHoWE4dAh1Pi6KlACD1+wI5YRhG5PInRBzu4A+QIbxN3CgSXlpUVJv4vQddAgBSvzhmNX6yDMSb3GfczTFkDoe+B+TpX0DoGmtUMekOUToAPJm6mwpjp7jNDhr0vMmUiIVyDon7rxhZv4Qvmx39iCUDwFMGvqnroT4WxQ4S++BjKBMIR5UkEis1nS+hsIv05SPugN28oaUCAGePRAsv8Tk66gL+4B0Q4ePgKPbpt9Dn3jxNq63QciARfNOUCABKtDCoN9anQSMnbn0ZPT4t7M9FGxl6EVsnfZwfAALK0LeJsPHBkcX5yFSskWXu87vHlQYAtk7y7b2x/j+7trJjfIzh+l1PIkuZ1qXRux3fL6TVTKylrduYOYylASD25ZBtGUOxeY4u+sZ4WsSHQk6aU+IP8MXUEPGFUy6VOHKehUoCQGqsP1UKlqf9POlofc2tPfcWVlOr0UFRCgBSY30++MCHH6YgKo/pAn5yY7Efdf7AL3t4uLIm/rfIqk8YVcYSAOCpwtlUgtUmfixlUUGE524RvQO5Au4jThiJ/y0ieqAP4qQ0NwA8ff03FcI1MM7ZHORpN7vLc3FPwFEzxaeT0ZwAoIMXTpKXSLik0eOcBRi8oWMCkJPE2OfvvPpy8c0FADJ5+YiiN9bn9AxH60iXVOMx4QdwaXSG8Zb4X1XTwSPOv8/UcwCATN7vJMT63MJh/L7+PlPpaXOdIdrNxp577PD26PXnAEBqrE8oFWsFF1Po0L+n1h+mrg/ocRzZ+UalqQGQGutTl0eZdokU61S66zN7Pmq16xqTfjmUWJ+cPi+RylXyVzdPNMExLk4yfRBHo6l3gNEEaRPnaaABIE9v1YxqAKjGlHmCNADk6a2aUQ0A1ZgyT5AGgDy9VTOqAaAaU+YJ0gCQp7dqRjUAVGPKPEEaAPL0Vs2oBoBqTJknSANAnt6qGdUAUI0p8wRpAMjTWzWjGgCqMWWeIA0AeXqrZlQDQDWmzBOkASBPb9WMagCoxpR5gjQA5OmtmlENANWYMk+QBoA8vVUzqgGgGlPmCdIAkKe3akY1AFRjyjxBGgDy9FbNqAaAakyZJ0gDQJ7eqhn1Xyfgl5BPqNkzAAAAAElFTkSuQmCC",title:"X\u7F8E\u56FE",description:"X\u7F8E\u5973\u56FE\u7247",version:"1.0.1",author:"",home:"",scriptType:"local",remoteUrl:"",displayMode:"masonry",code:`const API_BASE_URL = "https://api.cjkgirls.com/api";
const FILE_BASE_URL = "https://file.cjkgirls.com";

// \u7F13\u5B58\u4E0D\u540C\u67E5\u8BE2\u53C2\u6570\u7684\u603B\u9875\u6570
const totalPagesCache = new Map();

// \u6839\u636E\u67E5\u8BE2\u53C2\u6570\u751F\u6210\u7F13\u5B58 key
function getCacheKey(params) {
  return \`\${params.tags || ""}_\${params.account || ""}\`;
}

// \u83B7\u53D6\u603B\u9875\u6570
async function getTotalPages(ibox, params) {
  const cacheKey = getCacheKey(params);

  if (totalPagesCache.has(cacheKey)) {
    return totalPagesCache.get(cacheKey);
  }

  const response = await ibox.ky
    .get(\`\${API_BASE_URL}/pic/list\`, {
      searchParams: {
        ...params,
        page: 1,
        size: 30,
      },
    })
    .json();

  if (response.code === 200 && response.data?.pageination) {
    const totalPages = Math.ceil(
      response.data.pageination.total / response.data.pageination.size
    );
    totalPagesCache.set(cacheKey, totalPages);
    return totalPages;
  }

  return 1;
}

// \u83B7\u53D6\u968F\u673A\u9875\u7801
function getRandomPage(totalPages) {
  return Math.floor(Math.random() * totalPages) + 1;
}

// \u901A\u7528\u6570\u636E\u83B7\u53D6\u51FD\u6570
async function fetchData(ibox, params) {
  // \u5148\u83B7\u53D6\u603B\u9875\u6570
  const totalPages = await getTotalPages(ibox, params);

  // \u4F7F\u7528\u968F\u673A\u9875\u7801
  const randomPage = getRandomPage(totalPages);

  const response = await ibox.ky
    .get(\`\${API_BASE_URL}/pic/list\`, {
      searchParams: {
        colors: "",
        size: 30,
        account: "",
        ...params,
        page: randomPage,
      },
    })
    .json();

  if (response.code === 200 && response.data?.data) {
    response.data.data.forEach((item) => {
      ibox.push({
        url: \`\${FILE_BASE_URL}/\${item.thumbnail_addr}\`,
        title: item.name,
        description: \`\${item.thumbnail_width}x\${item.thumbnail_height}\`,
        link: item.source,
      });
    });
  }
}

export default {
  // \u83B7\u53D6\u5206\u7C7B\u5217\u8868
  async categories(ibox) {
    return [
      { id: "", name: "\u5168\u90E8" },
      { id: "cosplay", name: "Cosplay" },
      { id: "\u9ED1\u4E1D", name: "\u9ED1\u4E1D" },
      { id: "\u767D\u4E1D", name: "\u767D\u4E1D" },
      { id: "jk\u670D", name: "jk\u670D" },
      { id: "selfie", name: "\u81EA\u62CD" },
    ];
  },

  // \u83B7\u53D6\u6570\u636E
  async getData(ibox, { page = 1, category = "" }) {
    await fetchData(ibox, {
      tags: category,
      page,
    });
  },

  // \u641C\u7D22\u529F\u80FD
  async search(ibox, { keyword, page = 1 }) {
    await fetchData(ibox, {
      tags: keyword,
      page,
    });
  },
};
`,updated_at:1734619179293}];const Tu="init_installed",vO=["7a9c0b14-7c7a-4885-9ab8-cb039469c6d4","f9cf76a8-df5a-4e46-aea1-b221f55a424d","512c34f3-33b8-4cc3-af12-7e12571abea9","746421e5-abd3-44c5-82da-86d3c9c6c04a","507b858d-b850-45d0-b18a-c8bbb48aff85","a66a2d9a-b62a-455b-a49a-2af2563f4ebe","f530ac0d-52de-4e71-a39d-c8d15043c5d0","e701640f-a019-4104-b770-07a8b3910a2a"];let Wo=r=>{var e;return(e=r.version)!=null?e:"0.0.0"};async function xO(){var i;console.log("start init default script data...");let r=await ztools.db.promises.get(Tu),e=(i=r==null?void 0:r.data)!=null?i:{};console.log("===>installed:",e),wO.forEach(async s=>{if(e[s.id]&&e[s.id]>=Wo(s)){console.log(`Script ${s.id} already installed, version: ${e[s.id]}`);return}console.log(`Installing script: ${s.id}, version: ${Wo(s)}, installed: ${e[s.id.trim()]}`,e),e[s.id]=Wo(s),await li.upsert(s),vO.includes(s.id)&&Ai.enable(s.id)}),await ztools.db.promises.put({_id:Tu,data:e,_rev:r==null?void 0:r._rev});let t=await li.all();li.store.update(()=>t),console.log("default script data init done.")}let kO={async categories(r){return[{id:"hot",name:"\u70ED\u95E8"},{id:"like",name:"\u559C\u6B22"}]},async getData(r,{page:e,category:t}){const i=await bi.getWallpapers({page:e,filter:t,limit:30});console.log("===>get popular wallpapers response:",i);let s=[];return Array.isArray(i)&&(s=i.map(n=>({...n.wallpaper,id:window.Preload.licia.uuid(),script:n.script,set_count:n.set_count,collect_count:n.collect_count}))),s}},PO={async getData(r,{page:e,category:t}){return e>1?[]:await Ls.all()},async search(r,{keyword:e,page:t}){return t>1?[]:(await Ls.all()).filter(s=>{var n,a;return((n=s.title)==null?void 0:n.toLowerCase().includes(e.toLowerCase()))||((a=s.description)==null?void 0:a.toLowerCase().includes(e.toLowerCase()))})}},SO={async getData(r,{page:e,category:t}){return e>1?[]:await Ya.all()},async search(r,{keyword:e,page:t}){return t>1?[]:(await Ya.all()).filter(s=>{var n,a;return((n=s.title)==null?void 0:n.toLowerCase().includes(e.toLowerCase()))||((a=s.description)==null?void 0:a.toLowerCase().includes(e.toLowerCase()))})}};var $l={popular:kO,favorites:PO,history:SO};class AO{constructor(){this.store=Vi({confirm:{open:!1,text:"",ok(){},cancel(){}}})}confirm(e,t=()=>{},i=()=>{}){this.store.update(s=>(s.confirm={open:!0,text:e,ok:t,cancel:i},s))}confirmClose(){this.store.update(e=>(e.confirm.open=!1,e))}subscribe(e){return this.store.subscribe(e)}}var Zi=new AO;const lr="auto_wallpaper_settings",Cu={enabled:!1,interval:{value:30,unit:"minutes"},timeRange:{enabled:!1,start:"09:00",end:"18:00"},sources:[],history:[],historyLimit:20,cacheEnabled:!0,cacheSize:10,cache:[]};function TO(){const r=ztools.dbStorage.getItem(lr);return r?{...Cu,...r}:Cu}const hr=Vi(TO());function CO(r){ztools.dbStorage.setItem(lr,r),hr.set(r)}function _O(r){r.time=new Date().toLocaleString(),hr.update(e=>{const t=[r,...e.history].slice(0,e.historyLimit),i={...e,history:t};return ztools.dbStorage.setItem(lr,i),i})}function QO(){hr.update(r=>{const e={...r,history:[]};return ztools.dbStorage.setItem(lr,e),e})}function EO(r,e){hr.update(t=>{if(!t.cacheEnabled)return t;let i=t.cache||[];i=[...r.map(a=>(a.script||(a.script={id:e.id,title:e.title,icon:e.icon}),a)),...i].slice(0,t.cacheSize);const n={...t,cache:i};return ztools.dbStorage.setItem(lr,n),n})}function IO(){hr.update(r=>{const e={...r,cache:[]};return ztools.dbStorage.setItem(lr,e),e})}function MO(){hr.update(r=>{const e={...r,enabled:!r.enabled};return ztools.dbStorage.setItem(lr,e),e})}const fs={subscribe:hr.subscribe,saveSettings:CO,addHistory:_O,clearHistory:QO,updateCache:EO,clearCache:IO,toggleEnabled:MO};class $O{constructor(){this.timer=null,this.isRunning=!1,this.settings=null,this.lastChangeTime=null,this._manualChangePending=!1,this._changingWallpaper=!1}async init(){this.settings=za(fs),this.lastChangeTime=new Date,this.settings.enabled&&this.start(),fs.subscribe(e=>{this.settings=e,e.enabled&&!this.isRunning?this.start():!e.enabled&&this.isRunning&&this.stop()})}start(){this.isRunning||(console.log("\u542F\u52A8\u81EA\u52A8\u58C1\u7EB8\u670D\u52A1"),this.isRunning=!0,this.autoChangeWallpaper())}stop(){!this.isRunning||(console.log("\u505C\u6B62\u81EA\u52A8\u58C1\u7EB8\u670D\u52A1"),this.isRunning=!1,this.timer&&(clearTimeout(this.timer),this.timer=null))}restart(){this.stop(),this.start()}scheduleNextChange(){if(!this.isRunning||!this.settings.enabled)return;this.timer&&(clearTimeout(this.timer),this.timer=null);let e=this.settings.interval.value;switch(this.settings.interval.unit){case"minutes":e*=60*1e3;break;case"hours":e*=60*60*1e3;break;case"days":e*=24*60*60*1e3;break}console.log(`\u4E0B\u6B21\u58C1\u7EB8\u66F4\u6362\u5C06\u5728 ${e/1e3} \u79D2\u540E\u6267\u884C`),this.timer=setTimeout(()=>{this.autoChangeWallpaper()},e)}isInTimeRange(){if(!this.settings.timeRange.enabled)return!0;const e=new Date,t=e.getHours(),i=e.getMinutes(),s=t*60+i,[n,a]=this.settings.timeRange.start.split(":").map(Number),[o,l]=this.settings.timeRange.end.split(":").map(Number),h=n*60+a,c=o*60+l;return h<=c?s>=h&&s<=c:s>=h||s<=c}getNextChangeTime(){if(!this.settings||!this.settings.enabled)return null;const e=this.lastChangeTime||new Date,t=new Date;let i=this.settings.interval.value;switch(this.settings.interval.unit){case"minutes":i*=60*1e3;break;case"hours":i*=60*60*1e3;break;case"days":i*=24*60*60*1e3;break}const s=new Date(e.getTime()+i);return s<t?t:s}async getRandomSource(){if(!this.settings.sources||this.settings.sources.length===0)return console.log("\u6CA1\u6709\u53EF\u7528\u7684\u58C1\u7EB8\u6E90"),null;const e=Math.floor(Math.random()*this.settings.sources.length);return this.settings.sources[e]}getFromCache(){if(!this.settings.cacheEnabled||!this.settings.cache||this.settings.cache.length===0)return null;const e=Math.floor(Math.random()*this.settings.cache.length),t=this.settings.cache[e],i=[...this.settings.cache];return i.splice(e,1),this.settings.cache=i,fs.saveSettings(this.settings),console.log(`\u4ECE\u7F13\u5B58\u4E2D\u83B7\u53D6\u5E76\u5220\u9664\u4E00\u5F20\u58C1\u7EB8\uFF0C\u5269\u4F59\u7F13\u5B58\u6570\u91CF: ${i.length}`),t}async autoChangeWallpaper(){if(this._changingWallpaper)return console.log("\u58C1\u7EB8\u6B63\u5728\u66F4\u6362\u4E2D\uFF0C\u5FFD\u7565\u6B64\u6B21\u8C03\u7528"),Promise.resolve();if(this._changingWallpaper=!0,!this.isRunning||!this.settings.enabled)return this._changingWallpaper=!1,Promise.resolve();if(console.log("\u6267\u884C\u81EA\u52A8\u66F4\u6362\u58C1\u7EB8..."),!this.isInTimeRange())return console.log("\u5F53\u524D\u65F6\u95F4\u4E0D\u5728\u5141\u8BB8\u66F4\u6362\u58C1\u7EB8\u7684\u8303\u56F4\u5185"),this.scheduleNextChange(),this._changingWallpaper=!1,Promise.resolve();try{return await this.changeWallpaper()?(this.lastChangeTime=new Date,console.log(`\u66F4\u65B0\u6700\u540E\u66F4\u6362\u65F6\u95F4: ${this.lastChangeTime}`),this.scheduleNextChange(),this._changingWallpaper=!1,Promise.resolve()):(console.log("\u65E0\u6CD5\u83B7\u53D6\u58C1\u7EB8\uFF0C\u6240\u6709\u58C1\u7EB8\u6E90\u90FD\u5931\u8D25"),this.scheduleNextChange(),this._changingWallpaper=!1,Promise.resolve())}catch(e){return console.error("\u66F4\u6362\u58C1\u7EB8\u5931\u8D25:",e),xe.error("\u81EA\u52A8\u66F4\u6362\u58C1\u7EB8\u5931\u8D25"),this.scheduleNextChange(),this._changingWallpaper=!1,Promise.reject(e)}}async changeWallpaper(){let e=this.getFromCache();return console.log("\u4ECE\u7F13\u5B58\u83B7\u53D6\u58C1\u7EB8:",e),e?this.settings.cache.length===0&&(console.log("\u7F13\u5B58\u4E3A\u7A7A\uFF0C\u5F02\u6B65\u4ECE\u58C1\u7EB8\u6E90\u83B7\u53D6\u5E76\u7F13\u5B58"),this.getRandomWallpaper()):e=await this.getRandomWallpaper(),e?(To(e,t=>{console.log(`\u8BBE\u7F6E\u58C1\u7EB8\u8FDB\u5EA6: ${t}%`)},e.script,!0),fs.addHistory(e),this.lastChangeTime=new Date,!0):!1}async getRandomWallpaper(){let e=null,t=null,i=0,s=this.settings.sources.length*2;for(;!e&&i<s;){if(t=await this.getRandomSource(),!t){console.log("\u6CA1\u6709\u53EF\u7528\u7684\u58C1\u7EB8\u6E90");break}try{if(e=await this.getWallpaperFromSource(t),e)break}catch(n){console.error(`\u4ECE\u6E90 ${t.type} \u83B7\u53D6\u58C1\u7EB8\u5931\u8D25:`,n)}i++}return e}async getWallpaperFromSource(e){console.log(`\u4ECE\u63D2\u4EF6 ${e.title} \u83B7\u53D6\u58C1\u7EB8`);let t=e.id,i={id:t,title:e.title},s=null;if(t in $l)s=$l[t];else{if(i=za(li)[t],!i)return null;s=await kt.loadPluginAsModule(i.code)}return this.getWallpaperFromPlugin(i,s)}async getWallpaperFromPlugin(e,t){try{const i=[],s={push:l=>(Array.isArray(l)?i.push(...l):l&&typeof l=="object"&&i.push(l),l),done:(l=[])=>{Array.isArray(l)&&l.length>0&&i.push(...l)}},n=5;for(let l=1;l<=n;l++){const h={page:l},c=await kt.executeScript(t,"getData",[{push:s.push},h]),u=Array.isArray(c)&&c.length>0;if(u&&i.push(...c),!u){console.log(`\u7B2C${l}\u9875\u6CA1\u6709\u6570\u636E\uFF0C\u505C\u6B62\u83B7\u53D6\u66F4\u591A\u9875`);break}}if(i.length===0)return console.log("\u63D2\u4EF6\u8FD4\u56DE\u7684\u6570\u636E\u4E3A\u7A7A"),null;this.settings.cacheEnabled&&(console.log("\u6B63\u5728\u66F4\u65B0\u58C1\u7EB8\u7F13\u5B58..."),fs.updateCache(i,e));const a=Math.floor(Math.random()*i.length);let o=i[a];return o.script=e,o}catch(i){return console.error("\u4ECE\u63D2\u4EF6\u83B7\u53D6\u58C1\u7EB8\u5931\u8D25:",i),null}}triggerManualChange(){if(this._manualChangePending||this._changingWallpaper){console.log("\u5DF2\u6709\u66F4\u6362\u58C1\u7EB8\u64CD\u4F5C\u6B63\u5728\u6267\u884C\uFF0C\u5FFD\u7565\u672C\u6B21\u8BF7\u6C42");return}this._manualChangePending=!0,this.changeWallpaper().then(()=>{console.log("\u624B\u52A8\u66F4\u6362\u58C1\u7EB8\u6210\u529F")}).catch(e=>{console.error("\u624B\u52A8\u66F4\u6362\u58C1\u7EB8\u5931\u8D25:",e)}).finally(()=>{console.log("\u91CD\u7F6E\u624B\u52A8\u66F4\u6362\u6807\u5FD7"),this._manualChangePending=!1})}}const bn=new $O;function NO(r){const e=r-1;return e*e*e+1}function Ka(r,{delay:e=0,duration:t=400,easing:i=Wd}={}){const s=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:i,css:n=>`opacity: ${n*s}`}}function Ja(r,{delay:e=0,duration:t=400,easing:i=NO}={}){const s=getComputedStyle(r),n=+s.opacity,a=parseFloat(s.height),o=parseFloat(s.paddingTop),l=parseFloat(s.paddingBottom),h=parseFloat(s.marginTop),c=parseFloat(s.marginBottom),u=parseFloat(s.borderTopWidth),p=parseFloat(s.borderBottomWidth);return{delay:e,duration:t,easing:i,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*n};height: ${m*a}px;padding-top: ${m*o}px;padding-bottom: ${m*l}px;margin-top: ${m*h}px;margin-bottom: ${m*c}px;border-top-width: ${m*u}px;border-bottom-width: ${m*p}px;`}}function _u(r,e,t){const i=r.slice();return i[43]=e[t],i}function Qu(r,e,t){const i=r.slice();return i[37]=e[t],i}function Eu(r,e,t){const i=r.slice();return i[40]=e[t],i[42]=t,i}function LO(r){let e;return{c(){e=O("div"),e.innerHTML='<div class="loading loading-spinner loading-lg text-primary"></div>',f(e,"class","flex justify-center items-center h-full")},m(t,i){M(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function DO(r){let e,t,i,s,n,a,o,l,h,c,u,p,m,g,b,w,y,v,T,x,P,S,A,Q,I,L,$=r[0].history&&r[0].history.length>0&&Iu(r);const N=[ZO,RO],R=[];function F(Z,K){return Z[1]==="settings"?0:1}return S=F(r),A=R[S]=N[S](r),{c(){e=O("div"),t=O("div"),i=O("div"),s=O("div"),s.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-primary mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 11v3l3-3"></path></svg> 
            <h2 class="card-title text-2xl">\u81EA\u52A8\u58C1\u7EB8</h2>`,n=k(),a=O("div"),o=O("button"),l=V("svg"),h=V("path"),c=V("path"),u=U(`
              \u8BBE\u7F6E`),m=k(),g=O("button"),b=V("svg"),w=V("path"),y=U(`
              \u5386\u53F2
              `),$&&$.c(),T=k(),x=O("div"),P=k(),A.c(),f(s,"class","flex items-center"),f(h,"stroke-linecap","round"),f(h,"stroke-linejoin","round"),f(h,"stroke-width","2"),f(h,"d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"),f(c,"stroke-linecap","round"),f(c,"stroke-linejoin","round"),f(c,"stroke-width","2"),f(c,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),f(l,"xmlns","http://www.w3.org/2000/svg"),f(l,"class","h-4 w-4 mr-1"),f(l,"fill","none"),f(l,"viewBox","0 0 24 24"),f(l,"stroke","currentColor"),f(o,"class",p="tab tab-sm sm:tab-md "+(r[1]==="settings"?"tab-active":"")+" svelte-dsaj5w"),f(w,"stroke-linecap","round"),f(w,"stroke-linejoin","round"),f(w,"stroke-width","2"),f(w,"d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"),f(b,"xmlns","http://www.w3.org/2000/svg"),f(b,"class","h-4 w-4 mr-1"),f(b,"fill","none"),f(b,"viewBox","0 0 24 24"),f(b,"stroke","currentColor"),f(g,"class",v="tab tab-sm sm:tab-md "+(r[1]==="history"?"tab-active":"")+" svelte-dsaj5w"),f(a,"class","tabs tabs-boxed bg-base-200 self-center sm:self-auto"),f(i,"class","flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-3"),f(x,"class","divider mt-0"),f(t,"class","card-body"),f(e,"class","card bg-base-100 shadow-xl svelte-dsaj5w")},m(Z,K){M(Z,e,K),d(e,t),d(t,i),d(i,s),d(i,n),d(i,a),d(a,o),d(o,l),d(l,h),d(l,c),d(o,u),d(a,m),d(a,g),d(g,b),d(b,w),d(g,y),$&&$.m(g,null),d(t,T),d(t,x),d(t,P),R[S].m(t,null),Q=!0,I||(L=[B(o,"click",r[12]),B(g,"click",r[13])],I=!0)},p(Z,K){(!Q||K[0]&2&&p!==(p="tab tab-sm sm:tab-md "+(Z[1]==="settings"?"tab-active":"")+" svelte-dsaj5w"))&&f(o,"class",p),Z[0].history&&Z[0].history.length>0?$?$.p(Z,K):($=Iu(Z),$.c(),$.m(g,null)):$&&($.d(1),$=null),(!Q||K[0]&2&&v!==(v="tab tab-sm sm:tab-md "+(Z[1]==="history"?"tab-active":"")+" svelte-dsaj5w"))&&f(g,"class",v);let ee=S;S=F(Z),S===ee?R[S].p(Z,K):(Nt(),ke(R[ee],1,1,()=>{R[ee]=null}),Lt(),A=R[S],A?A.p(Z,K):(A=R[S]=N[S](Z),A.c()),be(A,1),A.m(t,null))},i(Z){Q||(be(A),Q=!0)},o(Z){ke(A),Q=!1},d(Z){Z&&E(e),$&&$.d(),R[S].d(),I=!1,ct(L)}}}function Iu(r){let e,t=r[0].history.length+"",i;return{c(){e=O("div"),i=U(t),f(e,"class","badge badge-xs ml-1")},m(s,n){M(s,e,n),d(e,i)},p(s,n){n[0]&1&&t!==(t=s[0].history.length+"")&&oe(i,t)},d(s){s&&E(e)}}}function RO(r){let e,t,i,s,n,a,o,l=r[0].history&&r[0].history.length>0&&Mu(r);function h(p,m){return p[0].history&&p[0].history.length>0?BO:jO}let c=h(r),u=c(r);return{c(){e=O("div"),t=O("div"),i=O("h3"),i.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                \u58C1\u7EB8\u5386\u53F2\u8BB0\u5F55`,s=k(),l&&l.c(),n=k(),u.c(),f(i,"class","font-bold text-lg flex items-center"),f(t,"class","flex items-center justify-between mb-4")},m(p,m){M(p,e,m),d(e,t),d(t,i),d(t,s),l&&l.m(t,null),d(e,n),u.m(e,null),o=!0},p(p,m){p[0].history&&p[0].history.length>0?l?l.p(p,m):(l=Mu(p),l.c(),l.m(t,null)):l&&(l.d(1),l=null),c===(c=h(p))&&u?u.p(p,m):(u.d(1),u=c(p),u&&(u.c(),u.m(e,null)))},i(p){o||(qi(()=>{a||(a=Zs(e,Ka,{duration:200},!0)),a.run(1)}),o=!0)},o(p){a||(a=Zs(e,Ka,{duration:200},!1)),a.run(0),o=!1},d(p){p&&E(e),l&&l.d(),u.d(),p&&a&&a.end()}}}function ZO(r){let e,t,i,s,n,a,o,l,h,c,u,p,m,g,b,w,y,v,T,x,P,S,A,Q,I,L,$,N,R,F,Z,K,ee,W,Y,H,z,G,te,q,X,J,ae,fe,Me,le,ce,Ze,Le,D,j,ie,ve,Qe,Ve,$e,Fe,Pt,dt,he,pe,Ce,wt,_t,st=r[0].enabled&&Nu(r);function si(Se,He){return Se[0].sources.length>0?FO:VO}let vt=si(r),rt=vt(r);function Ft(Se,He){return Se[2].length===0?GO:YO}let lt=Ft(r),De=lt(r),We=r[0].timeRange.enabled&&Zu(r),Ne=r[0].cacheEnabled&&ju(r);return{c(){e=O("div"),st&&st.c(),t=k(),i=O("div"),s=O("div"),n=O("h3"),n.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                  \u57FA\u7840\u8BBE\u7F6E`,a=k(),o=O("div"),l=O("label"),h=O("div"),h.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg> 
                      <span class="label-text font-medium">\u542F\u7528\u81EA\u52A8\u66F4\u6362\u58C1\u7EB8</span>`,c=k(),u=O("input"),p=k(),m=O("div"),g=O("label"),g.innerHTML=`<div class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> 
                      <span class="label-text font-medium">\u66F4\u6362\u95F4\u9694</span></div>`,b=k(),w=O("div"),y=O("input"),v=k(),T=O("select"),x=O("option"),x.textContent="\u5206\u949F",P=O("option"),P.textContent="\u5C0F\u65F6",S=O("option"),S.textContent="\u5929",A=k(),Q=O("div"),I=O("h3"),I.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>
                  \u58C1\u7EB8\u6765\u6E90`,L=k(),$=O("div"),rt.c(),N=k(),R=O("div"),F=O("select"),Z=O("option"),Z.textContent="\u9009\u62E9\u58C1\u7EB8\u6E90",K=O("option"),K.textContent="\u6211\u7684\u6536\u85CF",ee=O("option"),ee.textContent="\u5386\u53F2\u8BB0\u5F55",De.c(),W=k(),Y=O("button"),Y.textContent="\u6DFB\u52A0",H=k(),z=O("div"),G=O("h3"),G.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"></path></svg>
                  \u9AD8\u7EA7\u8BBE\u7F6E`,te=k(),q=O("div"),X=O("label"),J=O("div"),J.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> 
                      <span class="label-text font-medium">\u9650\u5236\u66F4\u6362\u65F6\u95F4\u6BB5</span>`,ae=k(),fe=O("input"),Me=k(),We&&We.c(),le=k(),ce=O("div"),Ze=O("label"),Le=O("div"),Le.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"></path></svg> 
                      <span class="label-text font-medium">\u542F\u7528\u58C1\u7EB8\u7F13\u5B58</span>`,D=k(),j=O("input"),ie=k(),Ne&&Ne.c(),ve=k(),Qe=O("div"),Ve=O("h3"),Ve.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                  \u5FEB\u6377\u64CD\u4F5C`,$e=k(),Fe=O("div"),Pt=O("button"),Pt.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>
                    \u7ACB\u5373\u66F4\u6362\u58C1\u7EB8`,dt=k(),he=O("button"),he.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                    \u6E05\u9664\u7F13\u5B58`,f(n,"class","font-bold text-lg mb-4 flex items-center"),f(h,"class","flex items-center"),f(u,"type","checkbox"),f(u,"class","toggle toggle-primary toggle-lg"),f(l,"class","label cursor-pointer justify-between"),f(o,"class","form-control bg-base-100 p-3 rounded-md mb-4 shadow-sm"),f(g,"class","label"),f(y,"type","number"),f(y,"class","input input-bordered w-24 input-primary focus:ring-2 focus:ring-primary focus:ring-opacity-50 svelte-dsaj5w"),f(y,"min","1"),x.__value="minutes",x.value=x.__value,P.__value="hours",P.value=P.__value,S.__value="days",S.value=S.__value,f(T,"class","select select-bordered flex-1 select-primary focus:ring-2 focus:ring-primary focus:ring-opacity-50 svelte-dsaj5w"),r[0].interval.unit===void 0&&qi(()=>r[17].call(T)),f(w,"class","flex gap-2 mt-1"),f(m,"class","form-control bg-base-100 p-3 rounded-md shadow-sm"),f(s,"class","bg-base-200 p-4 rounded-lg"),f(I,"class","font-bold text-lg mb-4 flex items-center"),Z.__value="",Z.value=Z.__value,Z.disabled=!0,Z.selected=!0,K.__value="favorites",K.value=K.__value,f(K,"class","font-medium"),ee.__value="history",ee.value=ee.__value,f(ee,"class","font-medium"),f(F,"class","select select-bordered flex-1 select-primary focus:ring-2 focus:ring-primary focus:ring-opacity-50 svelte-dsaj5w"),f(F,"id","sourceSelect"),f(Y,"class","btn btn-primary svelte-dsaj5w"),f(R,"class","flex gap-2 mt-4"),f($,"class","bg-base-100 p-3 rounded-md shadow-sm"),f(Q,"class","bg-base-200 p-4 rounded-lg"),f(G,"class","font-bold text-lg mb-4 flex items-center"),f(J,"class","flex items-center"),f(fe,"type","checkbox"),f(fe,"class","toggle toggle-primary toggle-md"),f(X,"class","label cursor-pointer justify-between"),f(q,"class","form-control bg-base-100 p-3 rounded-md mb-4 shadow-sm"),f(Le,"class","flex items-center"),f(j,"type","checkbox"),f(j,"class","toggle toggle-primary toggle-md"),f(Ze,"class","label cursor-pointer justify-between"),f(ce,"class","form-control bg-base-100 p-3 rounded-md shadow-sm"),f(z,"class","bg-base-200 p-4 rounded-lg"),f(Ve,"class","font-bold text-lg mb-4 flex items-center"),f(Pt,"class","btn btn-secondary btn-block gap-2 svelte-dsaj5w"),f(he,"class","btn btn-accent btn-block gap-2 svelte-dsaj5w"),f(Fe,"class","grid grid-cols-2 gap-4 svelte-dsaj5w"),f(Qe,"class","bg-base-200 p-4 rounded-lg"),f(i,"class","grid grid-cols-1 gap-6")},m(Se,He){M(Se,e,He),st&&st.m(e,null),d(e,t),d(e,i),d(i,s),d(s,n),d(s,a),d(s,o),d(o,l),d(l,h),d(l,c),d(l,u),u.checked=r[0].enabled,d(s,p),d(s,m),d(m,g),d(m,b),d(m,w),d(w,y),at(y,r[0].interval.value),d(w,v),d(w,T),d(T,x),d(T,P),d(T,S),gr(T,r[0].interval.unit),d(i,A),d(i,Q),d(Q,I),d(Q,L),d(Q,$),rt.m($,null),d($,N),d($,R),d(R,F),d(F,Z),d(F,K),d(F,ee),De.m(F,null),d(R,W),d(R,Y),d(i,H),d(i,z),d(z,G),d(z,te),d(z,q),d(q,X),d(X,J),d(X,ae),d(X,fe),fe.checked=r[0].timeRange.enabled,d(q,Me),We&&We.m(q,null),d(z,le),d(z,ce),d(ce,Ze),d(Ze,Le),d(Ze,D),d(Ze,j),j.checked=r[0].cacheEnabled,d(ce,ie),Ne&&Ne.m(ce,null),d(i,ve),d(i,Qe),d(Qe,Ve),d(Qe,$e),d(Qe,Fe),d(Fe,Pt),d(Fe,dt),d(Fe,he),Ce=!0,wt||(_t=[B(u,"change",r[14]),B(u,"change",r[15]),B(y,"input",r[16]),B(T,"change",r[17]),B(Y,"click",r[19]),B(fe,"change",r[20]),B(j,"change",r[23]),B(Pt,"click",r[8]),B(he,"click",r[10])],wt=!0)},p(Se,He){Se[0].enabled?st?st.p(Se,He):(st=Nu(Se),st.c(),st.m(e,t)):st&&(st.d(1),st=null),He[0]&1&&(u.checked=Se[0].enabled),He[0]&1&&Sl(y.value)!==Se[0].interval.value&&at(y,Se[0].interval.value),He[0]&1&&gr(T,Se[0].interval.unit),vt===(vt=si(Se))&&rt?rt.p(Se,He):(rt.d(1),rt=vt(Se),rt&&(rt.c(),rt.m($,N))),lt===(lt=Ft(Se))&&De?De.p(Se,He):(De.d(1),De=lt(Se),De&&(De.c(),De.m(F,null))),He[0]&1&&(fe.checked=Se[0].timeRange.enabled),Se[0].timeRange.enabled?We?(We.p(Se,He),He[0]&1&&be(We,1)):(We=Zu(Se),We.c(),be(We,1),We.m(q,null)):We&&(Nt(),ke(We,1,1,()=>{We=null}),Lt()),He[0]&1&&(j.checked=Se[0].cacheEnabled),Se[0].cacheEnabled?Ne?(Ne.p(Se,He),He[0]&1&&be(Ne,1)):(Ne=ju(Se),Ne.c(),be(Ne,1),Ne.m(ce,null)):Ne&&(Nt(),ke(Ne,1,1,()=>{Ne=null}),Lt())},i(Se){Ce||(be(We),be(Ne),qi(()=>{pe||(pe=Zs(e,Ka,{duration:200},!0)),pe.run(1)}),Ce=!0)},o(Se){ke(We),ke(Ne),pe||(pe=Zs(e,Ka,{duration:200},!1)),pe.run(0),Ce=!1},d(Se){Se&&E(e),st&&st.d(),rt.d(),De.d(),We&&We.d(),Ne&&Ne.d(),Se&&pe&&pe.end(),wt=!1,ct(_t)}}}function Mu(r){let e,t,i;return{c(){e=O("button"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                  \u6E05\u9664\u5386\u53F2`,f(e,"class","btn btn-outline btn-sm gap-2 svelte-dsaj5w")},m(s,n){M(s,e,n),t||(i=B(e,"click",r[9]),t=!0)},p:ge,d(s){s&&E(e),t=!1,i()}}}function jO(r){let e;return{c(){e=O("div"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-info shrink-0 w-10 h-10"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> 
                <div class="flex flex-col items-center ml-4"><span class="text-lg font-medium">\u6682\u65E0\u5386\u53F2\u8BB0\u5F55</span> 
                  <span class="text-sm opacity-70 mt-1">\u542F\u7528\u81EA\u52A8\u58C1\u7EB8\u529F\u80FD\u540E\uFF0C\u8FD9\u91CC\u5C06\u663E\u793A\u5DF2\u5E94\u7528\u7684\u58C1\u7EB8</span></div>`,f(e,"class","alert alert-info shadow-sm flex justify-center items-center py-8")},m(t,i){M(t,e,i)},p:ge,d(t){t&&E(e)}}}function BO(r){let e,t=r[0].history,i=[];for(let s=0;s<t.length;s+=1)i[s]=$u(_u(r,t,s));return{c(){e=O("div");for(let s=0;s<i.length;s+=1)i[s].c();f(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(s,n){M(s,e,n);for(let a=0;a<i.length;a+=1)i[a].m(e,null)},p(s,n){if(n[0]&2049){t=s[0].history;let a;for(a=0;a<t.length;a+=1){const o=_u(s,t,a);i[a]?i[a].p(o,n):(i[a]=$u(o),i[a].c(),i[a].m(e,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=t.length}},d(s){s&&E(e),qr(i,s)}}}function XO(r){let e,t;return{c(){e=V("svg"),t=V("path"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"stroke-width","2"),f(t,"d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"class","h-4 w-4 mr-2 text-primary"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke","currentColor")},m(i,s){M(i,e,s),d(e,t)},p:ge,d(i){i&&E(e)}}}function qO(r){let e,t;return{c(){var i;e=O("img"),ot(e.src,t=(i=r[43].script)==null?void 0:i.icon)||f(e,"src",t),f(e,"alt","\u811A\u672C\u56FE\u6807"),f(e,"class","h-3 w-3 mr-2 object-contain")},m(i,s){M(i,e,s)},p(i,s){var n;s[0]&1&&!ot(e.src,t=(n=i[43].script)==null?void 0:n.icon)&&f(e,"src",t)},d(i){i&&E(e)}}}function $u(r){var I;let e,t,i,s,n,a,o,l=Bu(r[43].time)+"",h,c,u,p,m=(((I=r[43].script)==null?void 0:I.title)||"\u672A\u77E5\u63D2\u4EF6")+"",g,b,w,y,v,T,x;function P(L,$){var N;return(N=L[43].script)!=null&&N.icon?qO:XO}let S=P(r),A=S(r);function Q(){return r[25](r[43])}return{c(){e=O("div"),t=O("figure"),i=O("img"),n=k(),a=O("div"),o=O("p"),h=U(l),c=k(),u=O("p"),A.c(),p=k(),g=U(m),b=k(),w=O("div"),y=O("button"),y.textContent="\u5E94\u7528\u6B64\u58C1\u7EB8",v=k(),ot(i.src,s=r[43].preview||r[43].url)||f(i,"src",s),f(i,"alt","\u9884\u89C8"),f(i,"loading","lazy"),f(i,"class","w-full h-48 object-cover"),f(o,"class","text-sm opacity-70"),f(u,"class","font-medium flex items-center"),f(y,"class","btn btn-primary btn-sm svelte-dsaj5w"),f(w,"class","card-actions justify-end"),f(a,"class","card-body"),f(e,"class","card card-compact bg-base-200 shadow-sm hover:shadow-md transition-shadow svelte-dsaj5w")},m(L,$){M(L,e,$),d(e,t),d(t,i),d(e,n),d(e,a),d(a,o),d(o,h),d(a,c),d(a,u),A.m(u,null),d(u,p),d(u,g),d(a,b),d(a,w),d(w,y),d(e,v),T||(x=B(y,"click",Q),T=!0)},p(L,$){var N;r=L,$[0]&1&&!ot(i.src,s=r[43].preview||r[43].url)&&f(i,"src",s),$[0]&1&&l!==(l=Bu(r[43].time)+"")&&oe(h,l),S===(S=P(r))&&A?A.p(r,$):(A.d(1),A=S(r),A&&(A.c(),A.m(u,p))),$[0]&1&&m!==(m=(((N=r[43].script)==null?void 0:N.title)||"\u672A\u77E5\u63D2\u4EF6")+"")&&oe(g,m)},d(L){L&&E(e),A.d(),T=!1,x()}}}function Nu(r){let e,t,i,s,n,a,o;function l(p,m){return p[0].timeRange.enabled&&!p[4]?UO:zO}let h=l(r),c=h(r),u=r[0].timeRange.enabled&&Lu(r);return{c(){e=O("div"),t=O("div"),i=O("div"),i.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> 
                    <span class="font-medium text-lg">\u4E0B\u6B21\u66F4\u6362\u58C1\u7EB8</span>`,s=k(),n=O("div"),c.c(),o=k(),u&&u.c(),f(i,"class","flex items-center mb-2"),f(n,"class",a="countdown-display "+(r[4]?"text-primary":"text-warning")+" font-bold text-3xl mt-1"),f(t,"class","flex flex-col items-center"),f(e,"class","bg-base-200 mb-6 p-4 rounded-lg text-center")},m(p,m){M(p,e,m),d(e,t),d(t,i),d(t,s),d(t,n),c.m(n,null),d(t,o),u&&u.m(t,null)},p(p,m){h===(h=l(p))&&c?c.p(p,m):(c.d(1),c=h(p),c&&(c.c(),c.m(n,null))),m[0]&16&&a!==(a="countdown-display "+(p[4]?"text-primary":"text-warning")+" font-bold text-3xl mt-1")&&f(n,"class",a),p[0].timeRange.enabled?u?u.p(p,m):(u=Lu(p),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},d(p){p&&E(e),c.d(),u&&u.d()}}}function zO(r){let e;return{c(){e=U(r[3])},m(t,i){M(t,e,i)},p(t,i){i[0]&8&&oe(e,t[3])},d(t){t&&E(e)}}}function UO(r){let e;return{c(){e=O("span"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                        \u8D85\u51FA\u8BBE\u5B9A\u65F6\u95F4\u8303\u56F4`,f(e,"class","inline-flex items-center")},m(t,i){M(t,e,i)},p:ge,d(t){t&&E(e)}}}function Lu(r){let e,t,i=r[0].timeRange.start+"",s,n,a=r[0].timeRange.end+"",o;return{c(){e=O("div"),t=U("\u6709\u6548\u65F6\u95F4: "),s=U(i),n=U(" - "),o=U(a),f(e,"class","text-sm mt-2 opacity-70")},m(l,h){M(l,e,h),d(e,t),d(e,s),d(e,n),d(e,o)},p(l,h){h[0]&1&&i!==(i=l[0].timeRange.start+"")&&oe(s,i),h[0]&1&&a!==(a=l[0].timeRange.end+"")&&oe(o,a)},d(l){l&&E(e)}}}function VO(r){let e;return{c(){e=O("div"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> 
                      <span>\u672A\u6DFB\u52A0\u4EFB\u4F55\u58C1\u7EB8\u6E90\uFF0C\u8BF7\u6DFB\u52A0\u81F3\u5C11\u4E00\u4E2A\u58C1\u7EB8\u6E90</span>`,f(e,"class","alert alert-warning shadow-sm")},m(t,i){M(t,e,i)},p:ge,d(t){t&&E(e)}}}function FO(r){let e,t,i,s,n,a=r[0].sources,o=[];for(let l=0;l<a.length;l+=1)o[l]=Du(Eu(r,a,l));return{c(){e=O("div"),t=O("table"),i=O("thead"),i.innerHTML=`<tr class="svelte-dsaj5w"><th class="svelte-dsaj5w">\u7C7B\u578B</th> 
                            <th class="svelte-dsaj5w">\u540D\u79F0</th> 
                            <th class="svelte-dsaj5w">\u64CD\u4F5C</th></tr>`,s=k(),n=O("tbody");for(let l=0;l<o.length;l+=1)o[l].c();f(t,"class","table table-zebra w-full svelte-dsaj5w"),f(e,"class","overflow-x-auto")},m(l,h){M(l,e,h),d(e,t),d(t,i),d(t,s),d(t,n);for(let c=0;c<o.length;c+=1)o[c].m(n,null)},p(l,h){if(h[0]&129){a=l[0].sources;let c;for(c=0;c<a.length;c+=1){const u=Eu(l,a,c);o[c]?o[c].p(u,h):(o[c]=Du(u),o[c].c(),o[c].m(n,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=a.length}},d(l){l&&E(e),qr(o,l)}}}function WO(r){let e,t,i,s;return{c(){e=V("svg"),t=V("path"),i=k(),s=O("span"),s.textContent="\u7CFB\u7EDF",f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"stroke-width","2"),f(t,"d","M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"),f(e,"class","h-4 w-4 mr-2 text-primary"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24"),f(e,"xmlns","http://www.w3.org/2000/svg")},m(n,a){M(n,e,a),d(e,t),M(n,i,a),M(n,s,a)},d(n){n&&E(e),n&&E(i),n&&E(s)}}}function HO(r){let e,t,i,s;return{c(){e=V("svg"),t=V("path"),i=k(),s=O("span"),s.textContent="\u63D2\u4EF6",f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"stroke-width","2"),f(t,"d","M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"),f(e,"class","h-4 w-4 mr-2 text-primary"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24"),f(e,"xmlns","http://www.w3.org/2000/svg")},m(n,a){M(n,e,a),d(e,t),M(n,i,a),M(n,s,a)},d(n){n&&E(e),n&&E(i),n&&E(s)}}}function Du(r){var y;let e,t,i,s,n=((y=r[40].title)!=null?y:"")+"",a,o,l,h,c,u,p;function m(v,T){return v[40].type==="plugin"?HO:WO}let g=m(r),b=g(r);function w(){return r[18](r[42])}return{c(){e=O("tr"),t=O("td"),b.c(),i=k(),s=O("td"),a=U(n),o=k(),l=O("td"),h=O("button"),h.textContent="\u79FB\u9664",c=k(),f(t,"class","flex items-center"),f(h,"class","btn btn-xs btn-error svelte-dsaj5w"),f(e,"class","hover svelte-dsaj5w")},m(v,T){M(v,e,T),d(e,t),b.m(t,null),d(e,i),d(e,s),d(s,a),d(e,o),d(e,l),d(l,h),d(e,c),u||(p=B(h,"click",w),u=!0)},p(v,T){var x;r=v,g!==(g=m(r))&&(b.d(1),b=g(r),b&&(b.c(),b.m(t,null))),T[0]&1&&n!==(n=((x=r[40].title)!=null?x:"")+"")&&oe(a,n)},d(v){v&&E(e),b.d(),u=!1,p()}}}function YO(r){let e,t=r[2],i=[];for(let s=0;s<t.length;s+=1)i[s]=Ru(Qu(r,t,s));return{c(){e=O("optgroup");for(let s=0;s<i.length;s+=1)i[s].c();f(e,"label","\u6240\u6709\u63D2\u4EF6")},m(s,n){M(s,e,n);for(let a=0;a<i.length;a+=1)i[a].m(e,null)},p(s,n){if(n[0]&36){t=s[2];let a;for(a=0;a<t.length;a+=1){const o=Qu(s,t,a);i[a]?i[a].p(o,n):(i[a]=Ru(o),i[a].c(),i[a].m(e,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=t.length}},d(s){s&&E(e),qr(i,s)}}}function GO(r){let e;return{c(){e=O("option"),e.textContent="\u672A\u627E\u5230\u53EF\u7528\u63D2\u4EF6",e.disabled=!0,e.__value="\u672A\u627E\u5230\u53EF\u7528\u63D2\u4EF6",e.value=e.__value},m(t,i){M(t,e,i)},p:ge,d(t){t&&E(e)}}}function Ru(r){let e,t=r[37].title+"",i,s,n=r[5][r[37].id]?" \u2605":"",a,o,l;return{c(){e=O("option"),i=U(t),s=k(),a=U(n),o=k(),e.__value=l=r[37].id,e.value=e.__value},m(h,c){M(h,e,c),d(e,i),d(e,s),d(e,a),d(e,o)},p(h,c){c[0]&4&&t!==(t=h[37].title+"")&&oe(i,t),c[0]&36&&n!==(n=h[5][h[37].id]?" \u2605":"")&&oe(a,n),c[0]&4&&l!==(l=h[37].id)&&(e.__value=l,e.value=e.__value)},d(h){h&&E(e)}}}function Zu(r){let e,t,i,s,n,a,o,l,h,c,u,p,m,g;return{c(){e=O("div"),t=O("div"),i=O("label"),i.innerHTML='<span class="label-text">\u5F00\u59CB\u65F6\u95F4</span>',s=k(),n=O("input"),a=k(),o=O("div"),l=O("label"),l.innerHTML='<span class="label-text">\u7ED3\u675F\u65F6\u95F4</span>',h=k(),c=O("input"),f(i,"class","label"),f(n,"type","time"),f(n,"class","input input-bordered input-primary focus:ring-2 focus:ring-primary focus:ring-opacity-50 svelte-dsaj5w"),f(t,"class","form-control"),f(l,"class","label"),f(c,"type","time"),f(c,"class","input input-bordered input-primary focus:ring-2 focus:ring-primary focus:ring-opacity-50 svelte-dsaj5w"),f(o,"class","form-control"),f(e,"class","grid grid-cols-2 gap-4 mt-3 svelte-dsaj5w")},m(b,w){M(b,e,w),d(e,t),d(t,i),d(t,s),d(t,n),at(n,r[0].timeRange.start),d(e,a),d(e,o),d(o,l),d(o,h),d(o,c),at(c,r[0].timeRange.end),p=!0,m||(g=[B(n,"input",r[21]),B(c,"input",r[22])],m=!0)},p(b,w){w[0]&1&&at(n,b[0].timeRange.start),w[0]&1&&at(c,b[0].timeRange.end)},i(b){p||(qi(()=>{u||(u=Zs(e,Ja,{duration:200},!0)),u.run(1)}),p=!0)},o(b){u||(u=Zs(e,Ja,{duration:200},!1)),u.run(0),p=!1},d(b){b&&E(e),b&&u&&u.end(),m=!1,ct(g)}}}function ju(r){let e,t,i,s,n,a,o,l=r[0].cacheSize+"",h,c,u,p,m,g,b;return{c(){e=O("div"),t=O("label"),t.innerHTML='<span class="label-text">\u7F13\u5B58\u5927\u5C0F</span>',i=k(),s=O("div"),n=O("input"),a=k(),o=O("span"),h=U(l),c=k(),u=O("label"),u.innerHTML='<span class="label-text-alt text-base-content/70">\u7F13\u5B58\u5927\u5C0F\u9650\u5236\u4E86\u6BCF\u4E2A\u6570\u636E\u6E90\u7F13\u5B58\u7684\u58C1\u7EB8\u6570\u91CF</span>',f(t,"class","label"),f(n,"type","range"),f(n,"min","1"),f(n,"max","100"),f(n,"class","range range-primary range-sm flex-1"),f(o,"class","bg-primary text-primary-content px-2 py-1 rounded-md w-12 text-center"),f(s,"class","flex items-center gap-2"),f(u,"class","label"),f(e,"class","form-control mt-3")},m(w,y){M(w,e,y),d(e,t),d(e,i),d(e,s),d(s,n),at(n,r[0].cacheSize),d(s,a),d(s,o),d(o,h),d(e,c),d(e,u),m=!0,g||(b=[B(n,"change",r[24]),B(n,"input",r[24])],g=!0)},p(w,y){y[0]&1&&at(n,w[0].cacheSize),(!m||y[0]&1)&&l!==(l=w[0].cacheSize+"")&&oe(h,l)},i(w){m||(qi(()=>{p||(p=Zs(e,Ja,{duration:200},!0)),p.run(1)}),m=!0)},o(w){p||(p=Zs(e,Ja,{duration:200},!1)),p.run(0),m=!1},d(w){w&&E(e),w&&p&&p.end(),g=!1,ct(b)}}}function KO(r){let e,t,i,s;const n=[DO,LO],a=[];function o(l,h){return l[0]?0:1}return t=o(r),i=a[t]=n[t](r),{c(){e=O("div"),i.c(),f(e,"class","flex flex-col h-full p-1")},m(l,h){M(l,e,h),a[t].m(e,null),s=!0},p(l,h){let c=t;t=o(l),t===c?a[t].p(l,h):(Nt(),ke(a[c],1,1,()=>{a[c]=null}),Lt(),i=a[t],i?i.p(l,h):(i=a[t]=n[t](l),i.c()),be(i,1),i.m(e,null))},i(l){s||(be(i),s=!0)},o(l){ke(i),s=!1},d(l){l&&E(e),a[t].d()}}}function JO(r,e){console.log(`[AutoWallpaper] ${r}`,e)}function Bu(r){return new Date(r).toLocaleString()}function eb(r,e,t){let i,s,n;Si(r,li,q=>t(30,i=q)),Si(r,fs,q=>t(31,s=q)),Si(r,Ai,q=>t(5,n=q));const a={enabled:!1,interval:{value:30,unit:"minutes"},timeRange:{enabled:!1,start:"09:00",end:"18:00"},sources:[],history:[],historyLimit:20,cacheEnabled:!0,cacheSize:10,cache:[]};let o={...a},l=[],h="settings",c=!1,u=null,p=!1,m="",g=!0,b=null;function w(){t(0,o=JSON.parse(JSON.stringify(s))),p=!1}function y(){p=!0,u&&clearTimeout(u),u=setTimeout(()=>{v(!1)},500)}function v(q=!0){fs.saveSettings(o),p=!1,q&&xe.success("\u8BBE\u7F6E\u5DF2\u4FDD\u5B58"),console.log("\u8BBE\u7F6E\u5DF2\u4FDD\u5B58")}function T(q,X,J){if(o.sources.some(fe=>fe.id===q&&fe.type===X)){xe.warning("\u8BE5\u58C1\u7EB8\u6E90\u5DF2\u6DFB\u52A0");return}o.sources.push({id:q,type:X,title:J}),t(0,o={...o})}function x(q){o.sources.splice(q,1),t(0,o={...o})}function P(){if(o.sources.length===0){xe.warning("\u8BF7\u5148\u6DFB\u52A0\u58C1\u7EB8\u6E90");return}try{bn.triggerManualChange(),xe.success("\u5DF2\u89E6\u53D1\u58C1\u7EB8\u66F4\u6362")}catch(q){console.error("\u89E6\u53D1\u58C1\u7EB8\u66F4\u6362\u5931\u8D25:",q),xe.error("\u89E6\u53D1\u58C1\u7EB8\u66F4\u6362\u5931\u8D25")}}function S(){fs.clearHistory(),xe.success("\u5386\u53F2\u8BB0\u5F55\u5DF2\u6E05\u9664"),w()}function A(){fs.clearCache(),xe.success("\u7F13\u5B58\u5DF2\u6E05\u9664"),w()}function Q(q){if(c){xe.warning("\u6B63\u5728\u5E94\u7528\u58C1\u7EB8\uFF0C\u8BF7\u7A0D\u5019");return}c=!0;try{To(q,null,q.script),xe.success("\u58C1\u7EB8\u5DF2\u5E94\u7528")}catch(X){console.error("\u5E94\u7528\u5386\u53F2\u58C1\u7EB8\u5931\u8D25:",X),xe.error("\u5E94\u7528\u58C1\u7EB8\u5931\u8D25")}finally{setTimeout(()=>{c=!1},1e3)}}function I(){if(!o.enabled){t(3,m="\u81EA\u52A8\u66F4\u6362\u58C1\u7EB8\u5DF2\u7981\u7528");return}if(t(4,g=bn.isInTimeRange()),o.timeRange.enabled&&!g){t(3,m="\u8D85\u51FA\u8BBE\u5B9A\u65F6\u95F4\u8303\u56F4");return}const q=new Date,X=bn.getNextChangeTime();if(!X){t(3,m="\u6B63\u5728\u521D\u59CB\u5316...");return}const J=X-q;if(J<=0){t(3,m="\u5373\u5C06\u66F4\u6362\u58C1\u7EB8...");return}const ae=Math.floor(J/1e3),fe=Math.floor(ae/3600),Me=Math.floor(ae%3600/60),le=ae%60;t(3,m=`${fe.toString().padStart(2,"0")}:${Me.toString().padStart(2,"0")}:${le.toString().padStart(2,"0")}`)}zr(async()=>{t(2,l=Object.values(i)),JO("\u6240\u6709\u811A\u672C:",l.map(q=>q.id)),w(),I(),b=setInterval(I,1e3)}),or(()=>{b&&clearInterval(b),u&&(clearTimeout(u),p&&v(!1))});const L=()=>t(1,h="settings"),$=()=>t(1,h="history");function N(){o.enabled=this.checked,t(0,o)}const R=()=>Fi.trackAutoWallpaperEnable(o.enabled);function F(){o.interval.value=Sl(this.value),t(0,o)}function Z(){o.interval.unit=Al(this),t(0,o)}const K=q=>x(q),ee=()=>{const q=document.getElementById("sourceSelect"),X=q.value;if(!!X){if(X==="favorites"||X==="history")T(X,"system",X==="favorites"?"\u6211\u7684\u6536\u85CF":"\u5386\u53F2\u8BB0\u5F55");else{const J=l.find(fe=>fe.id===X),ae=J?J.title:"\u672A\u77E5\u63D2\u4EF6";T(X,"plugin",ae)}q.value=""}};function W(){o.timeRange.enabled=this.checked,t(0,o)}function Y(){o.timeRange.start=this.value,t(0,o)}function H(){o.timeRange.end=this.value,t(0,o)}function z(){o.cacheEnabled=this.checked,t(0,o)}function G(){o.cacheSize=Sl(this.value),t(0,o)}const te=q=>Q(q);return r.$$.update=()=>{r.$$.dirty[0]&1&&o&&o!==a&&y(),r.$$.dirty[0]&2&&h&&w()},[o,h,l,m,g,n,T,x,P,S,A,Q,L,$,N,R,F,Z,K,ee,W,Y,H,z,G,te]}class tb extends zt{constructor(e){super(),qt(this,e,eb,KO,Dt,{},null,[-1,-1])}}function Xu(r,e,t){const i=r.slice();return i[47]=e[t],i}function qu(r,e,t){const i=r.slice();return i[47]=e[t],i}function zu(r,e,t){const i=r.slice();return i[47]=e[t],i}function Uu(r,e,t){const i=r.slice();return i[47]=e[t],i}function Vu(r,e,t){const i=r.slice();return i[47]=e[t],i}function Fu(r,e,t){const i=r.slice();return i[47]=e[t],i}function ib(r){let e,t,i,s;return{c(){e=V("svg"),t=V("path"),i=V("path"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"stroke-width","2"),f(t,"d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"),f(i,"stroke-linecap","round"),f(i,"stroke-linejoin","round"),f(i,"stroke-width","2"),f(i,"d","M7 11v3l3-3"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"class",s="w-5 h-5 transition-transform duration-200 "+(r[9]?"":"scale-110")+" svelte-jp1co1"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke","currentColor")},m(n,a){M(n,e,a),d(e,t),d(e,i)},p(n,a){a[0]&512&&s!==(s="w-5 h-5 transition-transform duration-200 "+(n[9]?"":"scale-110")+" svelte-jp1co1")&&f(e,"class",s)},d(n){n&&E(e)}}}function sb(r){let e,t,i;return{c(){e=V("svg"),t=V("path"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"stroke-width","2"),f(t,"d","M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"class",i="w-5 h-5 transition-transform duration-200 "+(r[9]?"":"scale-110")+" svelte-jp1co1"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke","currentColor")},m(s,n){M(s,e,n),d(e,t)},p(s,n){n[0]&512&&i!==(i="w-5 h-5 transition-transform duration-200 "+(s[9]?"":"scale-110")+" svelte-jp1co1")&&f(e,"class",i)},d(s){s&&E(e)}}}function rb(r){let e,t,i;return{c(){e=V("svg"),t=V("path"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"stroke-width","2"),f(t,"d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"class",i="w-5 h-5 transition-transform duration-200 "+(r[9]?"":"scale-110")+" svelte-jp1co1"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke","currentColor")},m(s,n){M(s,e,n),d(e,t)},p(s,n){n[0]&512&&i!==(i="w-5 h-5 transition-transform duration-200 "+(s[9]?"":"scale-110")+" svelte-jp1co1")&&f(e,"class",i)},d(s){s&&E(e)}}}function nb(r){let e,t,i,s;return{c(){e=V("svg"),t=V("path"),i=V("path"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"stroke-width","2"),f(t,"d","M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"),f(i,"stroke-linecap","round"),f(i,"stroke-linejoin","round"),f(i,"stroke-width","2"),f(i,"d","M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"class",s="w-5 h-5 transition-transform duration-200 "+(r[9]?"":"scale-110")+" svelte-jp1co1"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke","currentColor")},m(n,a){M(n,e,a),d(e,t),d(e,i)},p(n,a){a[0]&512&&s!==(s="w-5 h-5 transition-transform duration-200 "+(n[9]?"":"scale-110")+" svelte-jp1co1")&&f(e,"class",s)},d(n){n&&E(e)}}}function ab(r){let e,t,i;return{c(){e=V("svg"),t=V("path"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"stroke-width","2"),f(t,"d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"class",i="w-5 h-5 transition-transform duration-200 "+(r[9]?"":"scale-110")+" svelte-jp1co1"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke","currentColor")},m(s,n){M(s,e,n),d(e,t)},p(s,n){n[0]&512&&i!==(i="w-5 h-5 transition-transform duration-200 "+(s[9]?"":"scale-110")+" svelte-jp1co1")&&f(e,"class",i)},d(s){s&&E(e)}}}function Wu(r,e){let t,i,s,n,a=e[47].title+"",o,l,h,c,u,p;function m(y,v){if(y[47].id==="favorites")return ab;if(y[47].id==="popular")return nb;if(y[47].id==="history")return rb;if(y[47].id==="square")return sb;if(y[47].id==="auto_wallpaper")return ib}let g=m(e),b=g&&g(e);function w(){return e[28](e[47])}return{key:r,first:null,c(){t=O("li"),i=O("button"),b&&b.c(),s=k(),n=O("span"),o=U(a),c=k(),f(n,"class",l="ml-3 font-medium whitespace-nowrap transition-all duration-200 "+(e[9]?"opacity-100 translate-x-0":"opacity-0 -translate-x-4")),f(i,"class",h="w-full flex items-center px-3 py-2 rounded-lg text-sm transition-all duration-200 group\\/item "+(e[5]?e[47].id==="auto_wallpaper"?"bg-primary text-primary-content shadow-sm":"hover:bg-base-300 text-base-content hover:scale-[1.02]":e[0]===e[47].id?"bg-primary text-primary-content shadow-sm":"hover:bg-base-300 text-base-content hover:scale-[1.02]")+" svelte-jp1co1"),this.first=t},m(y,v){M(y,t,v),d(t,i),b&&b.m(i,null),d(i,s),d(i,n),d(n,o),d(t,c),u||(p=B(i,"click",w),u=!0)},p(y,v){e=y,g===(g=m(e))&&b?b.p(e,v):(b&&b.d(1),b=g&&g(e),b&&(b.c(),b.m(i,s))),v[0]&2048&&a!==(a=e[47].title+"")&&oe(o,a),v[0]&512&&l!==(l="ml-3 font-medium whitespace-nowrap transition-all duration-200 "+(e[9]?"opacity-100 translate-x-0":"opacity-0 -translate-x-4"))&&f(n,"class",l),v[0]&2081&&h!==(h="w-full flex items-center px-3 py-2 rounded-lg text-sm transition-all duration-200 group\\/item "+(e[5]?e[47].id==="auto_wallpaper"?"bg-primary text-primary-content shadow-sm":"hover:bg-base-300 text-base-content hover:scale-[1.02]":e[0]===e[47].id?"bg-primary text-primary-content shadow-sm":"hover:bg-base-300 text-base-content hover:scale-[1.02]")+" svelte-jp1co1")&&f(i,"class",h)},d(y){y&&E(t),b&&b.d(),u=!1,p()}}}function Hu(r,e){let t,i,s,n,a,o,l,h=e[47].title+"",c,u,p,m,g,b;function w(){return e[29](e[47])}return{key:r,first:null,c(){t=O("li"),i=O("button"),s=O("img"),o=k(),l=O("span"),c=U(h),m=k(),ot(s.src,n=kt.getIcon(e[47].icon))||f(s,"src",n),f(s,"class",a="w-5 h-5 rounded object-cover transition-transform duration-200 "+(e[9]?"":"scale-110")+" svelte-jp1co1"),f(s,"alt",""),f(l,"class",u="ml-3 font-medium whitespace-nowrap transition-all duration-200 "+(e[9]?"opacity-100 translate-x-0":"opacity-0 -translate-x-4")),f(i,"class",p="w-full flex items-center px-3 py-2 rounded-lg text-sm transition-all duration-200 group\\/item "+(e[0]===e[47].id?"bg-primary text-primary-content shadow-sm":"hover:bg-base-300 text-base-content hover:scale-[1.02]")+" svelte-jp1co1"),this.first=t},m(y,v){M(y,t,v),d(t,i),d(i,s),d(i,o),d(i,l),d(l,c),d(t,m),g||(b=B(i,"click",w),g=!0)},p(y,v){e=y,v[0]&2048&&!ot(s.src,n=kt.getIcon(e[47].icon))&&f(s,"src",n),v[0]&512&&a!==(a="w-5 h-5 rounded object-cover transition-transform duration-200 "+(e[9]?"":"scale-110")+" svelte-jp1co1")&&f(s,"class",a),v[0]&2048&&h!==(h=e[47].title+"")&&oe(c,h),v[0]&512&&u!==(u="ml-3 font-medium whitespace-nowrap transition-all duration-200 "+(e[9]?"opacity-100 translate-x-0":"opacity-0 -translate-x-4"))&&f(l,"class",u),v[0]&2049&&p!==(p="w-full flex items-center px-3 py-2 rounded-lg text-sm transition-all duration-200 group\\/item "+(e[0]===e[47].id?"bg-primary text-primary-content shadow-sm":"hover:bg-base-300 text-base-content hover:scale-[1.02]")+" svelte-jp1co1")&&f(i,"class",p)},d(y){y&&E(t),g=!1,b()}}}function Yu(r){let e,t,i,s,n,a,o,l,h,c,u,p,m,g,b,w,y,v,T,x,P,S,A,Q,I,L,$,N,R,F=r[3].slice(0,4),Z=[];for(let H=0;H<F.length;H+=1)Z[H]=Gu(Uu(r,F,H));let K=r[3].length>4&&Ku(r),ee=r[10]&&ef(r),W=!r[7]&&tf(),Y=(r[0]==="favorites"||r[0]==="history")&&sf(r);return{c(){e=O("div"),t=O("div"),i=O("div");for(let H=0;H<Z.length;H+=1)Z[H].c();s=k(),K&&K.c(),n=k(),a=O("div"),ee&&ee.c(),o=k(),l=O("div"),h=O("button"),c=V("svg"),u=V("path"),p=V("path"),m=V("path"),g=V("path"),w=k(),y=O("button"),v=V("svg"),T=V("line"),x=V("line"),P=V("line"),A=k(),Q=O("div"),I=O("button"),W&&W.c(),$=k(),Y&&Y.c(),f(i,"class","categories-container flex items-center gap-2 svelte-jp1co1"),f(t,"class","flex-1 flex items-center gap-2 px-2"),f(u,"d","M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5z"),f(p,"d","M5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5z"),f(m,"d","M11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5z"),f(g,"d","M11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"),f(c,"xmlns","http://www.w3.org/2000/svg"),f(c,"class","h-4 w-4 svelte-jp1co1"),f(c,"viewBox","0 0 20 20"),f(c,"fill","currentColor"),f(h,"class",b="join-item btn btn-sm btn-ghost h-8 min-h-0 hover:bg-base-200 tooltip tooltip-bottom "+(r[8]==="masonry"?"btn-active":"")+" svelte-jp1co1"),f(h,"data-tip","\u7F51\u683C\u89C6\u56FE"),f(T,"x1","3"),f(T,"y1","6"),f(T,"x2","21"),f(T,"y2","6"),f(x,"x1","3"),f(x,"y1","12"),f(x,"x2","21"),f(x,"y2","12"),f(P,"x1","3"),f(P,"y1","18"),f(P,"x2","21"),f(P,"y2","18"),f(v,"xmlns","http://www.w3.org/2000/svg"),f(v,"class","h-4 w-4 svelte-jp1co1"),f(v,"viewBox","0 0 24 24"),f(v,"fill","none"),f(v,"stroke","currentColor"),f(v,"stroke-width","2"),f(v,"stroke-linecap","round"),f(v,"stroke-linejoin","round"),f(y,"class",S="join-item btn btn-sm btn-ghost h-8 min-h-0 hover:bg-base-200 tooltip tooltip-bottom "+(r[8]==="full"?"btn-active":"")+" svelte-jp1co1"),f(y,"data-tip","\u5217\u8868\u89C6\u56FE"),f(l,"class","join svelte-jp1co1"),f(I,"class",L="btn btn-sm btn-ghost btn-square h-8 min-h-0 hover:bg-base-200 refresh-btn "+(r[7]?"loading":"")+" svelte-jp1co1"),I.disabled=r[7],f(Q,"class","tooltip tooltip-bottom svelte-jp1co1"),f(Q,"data-tip","\u5237\u65B0"),f(a,"class","flex items-center gap-2 px-2 svelte-jp1co1"),f(e,"class","navbar bg-base-100 border-b border-base-300 h-12 svelte-jp1co1")},m(H,z){M(H,e,z),d(e,t),d(t,i);for(let G=0;G<Z.length;G+=1)Z[G].m(i,null);d(i,s),K&&K.m(i,null),d(e,n),d(e,a),ee&&ee.m(a,null),d(a,o),d(a,l),d(l,h),d(h,c),d(c,u),d(c,p),d(c,m),d(c,g),d(l,w),d(l,y),d(y,v),d(v,T),d(v,x),d(v,P),d(a,A),d(a,Q),d(Q,I),W&&W.m(I,null),d(a,$),Y&&Y.m(a,null),N||(R=[B(h,"click",r[34]),B(y,"click",r[35]),B(I,"click",r[15])],N=!0)},p(H,z){if(z[0]&65548){F=H[3].slice(0,4);let G;for(G=0;G<F.length;G+=1){const te=Uu(H,F,G);Z[G]?Z[G].p(te,z):(Z[G]=Gu(te),Z[G].c(),Z[G].m(i,s))}for(;G<Z.length;G+=1)Z[G].d(1);Z.length=F.length}H[3].length>4?K?K.p(H,z):(K=Ku(H),K.c(),K.m(i,null)):K&&(K.d(1),K=null),H[10]?ee?ee.p(H,z):(ee=ef(H),ee.c(),ee.m(a,o)):ee&&(ee.d(1),ee=null),z[0]&256&&b!==(b="join-item btn btn-sm btn-ghost h-8 min-h-0 hover:bg-base-200 tooltip tooltip-bottom "+(H[8]==="masonry"?"btn-active":"")+" svelte-jp1co1")&&f(h,"class",b),z[0]&256&&S!==(S="join-item btn btn-sm btn-ghost h-8 min-h-0 hover:bg-base-200 tooltip tooltip-bottom "+(H[8]==="full"?"btn-active":"")+" svelte-jp1co1")&&f(y,"class",S),H[7]?W&&(W.d(1),W=null):W||(W=tf(),W.c(),W.m(I,null)),z[0]&128&&L!==(L="btn btn-sm btn-ghost btn-square h-8 min-h-0 hover:bg-base-200 refresh-btn "+(H[7]?"loading":"")+" svelte-jp1co1")&&f(I,"class",L),z[0]&128&&(I.disabled=H[7]),H[0]==="favorites"||H[0]==="history"?Y?Y.p(H,z):(Y=sf(H),Y.c(),Y.m(a,null)):Y&&(Y.d(1),Y=null)},d(H){H&&E(e),qr(Z,H),K&&K.d(),ee&&ee.d(),W&&W.d(),Y&&Y.d(),N=!1,ct(R)}}}function Gu(r){let e,t=r[47].name+"",i,s,n,a,o;function l(){return r[30](r[47])}return{c(){e=O("button"),i=U(t),s=k(),f(e,"class",n="category-pill "+(r[2]===r[47].id?"active":"")+" svelte-jp1co1")},m(h,c){M(h,e,c),d(e,i),d(e,s),a||(o=B(e,"click",l),a=!0)},p(h,c){r=h,c[0]&8&&t!==(t=r[47].name+"")&&oe(i,t),c[0]&12&&n!==(n="category-pill "+(r[2]===r[47].id?"active":"")+" svelte-jp1co1")&&f(e,"class",n)},d(h){h&&E(e),a=!1,o()}}}function Ku(r){let e,t,i,s,n,a=r[3].slice(4),o=[];for(let l=0;l<a.length;l+=1)o[l]=Ju(zu(r,a,l));return{c(){e=O("div"),t=O("button"),t.innerHTML=`\u66F4\u591A
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>`,i=k(),s=O("div"),n=O("div");for(let l=0;l<o.length;l+=1)o[l].c();f(t,"class","category-pill more-btn svelte-jp1co1"),f(t,"tabindex","0"),f(n,"class","categories-grid svelte-jp1co1"),f(s,"tabindex","0"),f(s,"class","dropdown-content bg-base-200 rounded-box shadow-lg p-2 mt-1 svelte-jp1co1"),f(e,"class","dropdown dropdown-end svelte-jp1co1")},m(l,h){M(l,e,h),d(e,t),d(e,i),d(e,s),d(s,n);for(let c=0;c<o.length;c+=1)o[c].m(n,null)},p(l,h){if(h[0]&65548){a=l[3].slice(4);let c;for(c=0;c<a.length;c+=1){const u=zu(l,a,c);o[c]?o[c].p(u,h):(o[c]=Ju(u),o[c].c(),o[c].m(n,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=a.length}},d(l){l&&E(e),qr(o,l)}}}function Ju(r){let e,t=r[47].name+"",i,s,n,a,o;function l(){return r[31](r[47])}return{c(){e=O("button"),i=U(t),s=k(),f(e,"class",n="category-pill "+(r[2]===r[47].id?"active":"")+" svelte-jp1co1")},m(h,c){M(h,e,c),d(e,i),d(e,s),a||(o=B(e,"click",l),a=!0)},p(h,c){r=h,c[0]&8&&t!==(t=r[47].name+"")&&oe(i,t),c[0]&12&&n!==(n="category-pill "+(r[2]===r[47].id?"active":"")+" svelte-jp1co1")&&f(e,"class",n)},d(h){h&&E(e),a=!1,o()}}}function ef(r){let e,t,i,s,n,a,o;function l(u,p){return u[7]?lb:ob}let h=l(r),c=h(r);return{c(){e=O("div"),t=O("div"),i=O("input"),s=k(),n=O("button"),c.c(),f(i,"type","text"),f(i,"placeholder","\u641C\u7D22\u58C1\u7EB8..."),f(i,"class","input input-sm input-bordered h-8 w-40 focus:w-56 transition-all duration-300 ease-in-out focus:outline-none focus:border-primary bg-base-200 pr-8 svelte-jp1co1"),f(n,"class","btn btn-ghost btn-sm absolute right-0 top-0 h-8 svelte-jp1co1"),f(t,"class","relative"),f(e,"class","form-control flex-row gap-2 svelte-jp1co1")},m(u,p){M(u,e,p),d(e,t),d(t,i),at(i,r[4]),d(t,s),d(t,n),c.m(n,null),a||(o=[B(i,"input",r[32]),B(i,"keydown",r[33]),B(n,"click",r[19])],a=!0)},p(u,p){p[0]&16&&i.value!==u[4]&&at(i,u[4]),h!==(h=l(u))&&(c.d(1),c=h(u),c&&(c.c(),c.m(n,null)))},d(u){u&&E(e),c.d(),a=!1,ct(o)}}}function ob(r){let e,t;return{c(){e=V("svg"),t=V("path"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"stroke-width","2"),f(t,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"class","h-4 w-4 svelte-jp1co1"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke","currentColor")},m(i,s){M(i,e,s),d(e,t)},d(i){i&&E(e)}}}function lb(r){let e;return{c(){e=O("span"),f(e,"class","loading loading-spinner loading-xs svelte-jp1co1")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function tf(r){let e,t;return{c(){e=V("svg"),t=V("path"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"stroke-width","2"),f(t,"d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"class","h-4 w-4 refresh-icon svelte-jp1co1"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke","currentColor")},m(i,s){M(i,e,s),d(e,t)},d(i){i&&E(e)}}}function sf(r){let e,t,i,s,n,a;return{c(){e=O("button"),t=V("svg"),i=V("path"),f(i,"stroke-linecap","round"),f(i,"stroke-linejoin","round"),f(i,"stroke-width","2"),f(i,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"class","h-4 w-4 svelte-jp1co1"),f(t,"fill","none"),f(t,"viewBox","0 0 24 24"),f(t,"stroke","currentColor"),f(e,"class","btn btn-sm btn-ghost tooltip tooltip-bottom svelte-jp1co1"),f(e,"data-tip",s=r[0]==="favorites"?"\u6E05\u7A7A\u6536\u85CF":"\u6E05\u7A7A\u5386\u53F2")},m(o,l){M(o,e,l),d(e,t),d(t,i),n||(a=B(e,"click",r[20]),n=!0)},p(o,l){l[0]&1&&s!==(s=o[0]==="favorites"?"\u6E05\u7A7A\u6536\u85CF":"\u6E05\u7A7A\u5386\u53F2")&&f(e,"data-tip",s)},d(o){o&&E(e),n=!1,a()}}}function hb(r){let e,t,i;return t=new tb({}),{c(){e=O("div"),Qt(t.$$.fragment),f(e,"class","flex-1 overflow-y-auto p-4 bg-base-100 svelte-jp1co1")},m(s,n){M(s,e,n),Tt(t,e,null),i=!0},p:ge,i(s){i||(be(t.$$.fragment,s),i=!0)},o(s){ke(t.$$.fragment,s),i=!1},d(s){s&&E(e),Ct(t)}}}function cb(r){let e,t,i,s,n,a,o;const l=[fb,ub],h=[];function c(p,m){return p[8]==="masonry"?0:1}t=c(r),i=h[t]=l[t](r);let u=r[1].loading&&af();return{c(){e=O("div"),i.c(),s=k(),u&&u.c(),n=k(),a=O("div"),f(a,"id","sentinel"),f(a,"class","w-full max-w-4xl mx-auto h-20 border-t border-base-300 bg-base-200"),em(a,"visibility","hidden"),f(e,"id","gallery"),f(e,"class","flex-1 overflow-y-auto p-4 bg-base-100 relative svelte-jp1co1")},m(p,m){M(p,e,m),h[t].m(e,null),d(e,s),u&&u.m(e,null),d(e,n),d(e,a),r[36](e),o=!0},p(p,m){let g=t;t=c(p),t===g?h[t].p(p,m):(Nt(),ke(h[g],1,1,()=>{h[g]=null}),Lt(),i=h[t],i?i.p(p,m):(i=h[t]=l[t](p),i.c()),be(i,1),i.m(e,s)),p[1].loading?u||(u=af(),u.c(),u.m(e,n)):u&&(u.d(1),u=null)},i(p){o||(be(i),o=!0)},o(p){ke(i),o=!1},d(p){p&&E(e),h[t].d(),u&&u.d(),r[36](null)}}}function ub(r){let e,t=[],i=new Map,s,n=r[1].items;const a=o=>o[47].id;for(let o=0;o<n.length;o+=1){let l=Xu(r,n,o),h=a(l);i.set(h,t[o]=rf(h,l))}return{c(){e=O("div");for(let o=0;o<t.length;o+=1)t[o].c();f(e,"class","flex flex-col items-center")},m(o,l){M(o,e,l);for(let h=0;h<t.length;h+=1)t[h].m(e,null);s=!0},p(o,l){l[0]&4099&&(n=o[1].items,Nt(),t=os(t,l,a,1,o,n,i,e,Ur,rf,null,Xu),Lt())},i(o){if(!s){for(let l=0;l<n.length;l+=1)be(t[l]);s=!0}},o(o){for(let l=0;l<t.length;l+=1)ke(t[l]);s=!1},d(o){o&&E(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function fb(r){let e,t=[],i=new Map,s,n=r[1].items;const a=o=>o[47].id;for(let o=0;o<n.length;o+=1){let l=qu(r,n,o),h=a(l);i.set(h,t[o]=nf(h,l))}return{c(){e=O("div");for(let o=0;o<t.length;o+=1)t[o].c();f(e,"class","masonry-container svelte-jp1co1")},m(o,l){M(o,e,l);for(let h=0;h<t.length;h+=1)t[h].m(e,null);s=!0},p(o,l){l[0]&4099&&(n=o[1].items,Nt(),t=os(t,l,a,1,o,n,i,e,Ur,nf,null,qu),Lt())},i(o){if(!s){for(let l=0;l<n.length;l+=1)be(t[l]);s=!0}},o(o){for(let l=0;l<t.length;l+=1)ke(t[l]);s=!1},d(o){o&&E(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function rf(r,e){let t,i,s,n;return i=new R1({props:{item:e[47],currentSelect:e[0]}}),i.$on("viewer",e[12]),{key:r,first:null,c(){t=O("div"),Qt(i.$$.fragment),s=k(),f(t,"class","w-full mb-4 flex justify-center"),this.first=t},m(a,o){M(a,t,o),Tt(i,t,null),d(t,s),n=!0},p(a,o){e=a;const l={};o[0]&2&&(l.item=e[47]),o[0]&1&&(l.currentSelect=e[0]),i.$set(l)},i(a){n||(be(i.$$.fragment,a),n=!0)},o(a){ke(i.$$.fragment,a),n=!1},d(a){a&&E(t),Ct(i)}}}function nf(r,e){let t,i,s,n;return i=new gO({props:{item:e[47],currentSelect:e[0]}}),i.$on("viewer",e[12]),{key:r,first:null,c(){t=O("div"),Qt(i.$$.fragment),s=k(),f(t,"class","masonry-item svelte-jp1co1"),this.first=t},m(a,o){M(a,t,o),Tt(i,t,null),d(t,s),n=!0},p(a,o){e=a;const l={};o[0]&2&&(l.item=e[47]),o[0]&1&&(l.currentSelect=e[0]),i.$set(l)},i(a){n||(be(i.$$.fragment,a),n=!0)},o(a){ke(i.$$.fragment,a),n=!1},d(a){a&&E(t),Ct(i)}}}function af(r){let e;return{c(){e=O("div"),e.innerHTML='<svg role="status" class="inline w-16 h-16 mr-2 text-gray-200 animate-spin dark:text-gray-600 fill-pink-600" viewBox="0 0 100 101" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z" fill="currentColor"></path><path d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z" fill="currentFill"></path></svg>',f(e,"class","w-full max-w-4xl mx-auto py-12 flex justify-center")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function pb(r){let e,t,i,s,n,a=r[11].personal.title+"",o,l,h,c,u=[],p=new Map,m,g,b,w,y,v=r[11].sources.title+"",T,x,P,S,A=[],Q=new Map,I,L,$,N,R,F,Z,K,ee,W,Y,H,z,G,te,q,X,J,ae=r[11].personal.items;const fe=j=>j[47].id;for(let j=0;j<ae.length;j+=1){let ie=Fu(r,ae,j),ve=fe(ie);p.set(ve,u[j]=Wu(ve,ie))}let Me=r[11].sources.items;const le=j=>j[47].id;for(let j=0;j<Me.length;j+=1){let ie=Vu(r,Me,j),ve=le(ie);Q.set(ve,A[j]=Hu(ve,ie))}let ce=!r[5]&&Yu(r);const Ze=[cb,hb],Le=[];function D(j,ie){return j[5]?1:0}return G=D(r),te=Le[G]=Ze[G](r),{c(){e=O("div"),t=O("div"),i=O("div"),s=O("div"),n=O("h2"),o=U(a),h=k(),c=O("ul");for(let j=0;j<u.length;j+=1)u[j].c();m=k(),g=O("div"),b=k(),w=O("div"),y=O("h2"),T=U(v),P=k(),S=O("ul");for(let j=0;j<A.length;j+=1)A[j].c();I=k(),L=O("button"),$=V("svg"),N=V("path"),F=k(),Z=O("span"),K=U("\u811A\u672C\u7BA1\u7406"),Y=k(),H=O("div"),ce&&ce.c(),z=k(),te.c(),f(n,"class",l="font-medium text-xs uppercase tracking-wider text-base-content/70 mb-3 transition-opacity duration-200 "+(r[9]?"opacity-100":"opacity-0")+" svelte-jp1co1"),f(c,"class","space-y-1"),f(s,"class","px-3 mt-4"),f(g,"class","divider my-0 mx-3 svelte-jp1co1"),f(y,"class",x="font-medium text-xs uppercase tracking-wider text-base-content/70 mb-3 transition-opacity duration-200 "+(r[9]?"opacity-100":"opacity-0")+" svelte-jp1co1"),f(S,"class","space-y-1"),f(w,"class","px-3 mb-6"),f(i,"class","flex-1 py-4 overflow-y-auto overflow-x-hidden svelte-jp1co1"),f(N,"stroke-linecap","round"),f(N,"stroke-linejoin","round"),f(N,"stroke-width","2"),f(N,"d","M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"),f($,"xmlns","http://www.w3.org/2000/svg"),f($,"class",R="w-5 h-5 transition-transform duration-200 "+(r[9]?"":"scale-110")+" svelte-jp1co1"),f($,"fill","none"),f($,"viewBox","0 0 24 24"),f($,"stroke","currentColor"),f(Z,"class",ee="font-medium whitespace-nowrap transition-all duration-200 "+(r[9]?"opacity-100 translate-x-0":"opacity-0 -translate-x-4")+" svelte-jp1co1"),f(L,"class","flex items-center px-4 py-3 hover:bg-base-300 border-t border-base-300 transition-all duration-200 gap-2 text-base-content/90 group\\/manage hover:text-base-content svelte-jp1co1"),f(t,"class",W="h-full flex flex-col border-r border-base-300 bg-base-200 "+(r[9]?"w-56":"w-16")+" transition-all duration-300 ease-in-out relative group svelte-jp1co1"),f(H,"class","flex-1 flex flex-col"),f(e,"class","h-screen w-screen flex")},m(j,ie){M(j,e,ie),d(e,t),d(t,i),d(i,s),d(s,n),d(n,o),d(s,h),d(s,c);for(let ve=0;ve<u.length;ve+=1)u[ve].m(c,null);d(i,m),d(i,g),d(i,b),d(i,w),d(w,y),d(y,T),d(w,P),d(w,S);for(let ve=0;ve<A.length;ve+=1)A[ve].m(S,null);d(t,I),d(t,L),d(L,$),d($,N),d(L,F),d(L,Z),d(Z,K),d(e,Y),d(e,H),ce&&ce.m(H,null),d(H,z),Le[G].m(H,null),q=!0,X||(J=[B(L,"click",r[13]),B(t,"mouseenter",r[17]),B(t,"mouseleave",r[18])],X=!0)},p(j,ie){(!q||ie[0]&2048)&&a!==(a=j[11].personal.title+"")&&oe(o,a),(!q||ie[0]&512&&l!==(l="font-medium text-xs uppercase tracking-wider text-base-content/70 mb-3 transition-opacity duration-200 "+(j[9]?"opacity-100":"opacity-0")+" svelte-jp1co1"))&&f(n,"class",l),ie[0]&2099745&&(ae=j[11].personal.items,u=os(u,ie,fe,1,j,ae,p,c,Wa,Wu,null,Fu)),(!q||ie[0]&2048)&&v!==(v=j[11].sources.title+"")&&oe(T,v),(!q||ie[0]&512&&x!==(x="font-medium text-xs uppercase tracking-wider text-base-content/70 mb-3 transition-opacity duration-200 "+(j[9]?"opacity-100":"opacity-0")+" svelte-jp1co1"))&&f(y,"class",x),ie[0]&2099713&&(Me=j[11].sources.items,A=os(A,ie,le,1,j,Me,Q,S,Wa,Hu,null,Vu)),(!q||ie[0]&512&&R!==(R="w-5 h-5 transition-transform duration-200 "+(j[9]?"":"scale-110")+" svelte-jp1co1"))&&f($,"class",R),(!q||ie[0]&512&&ee!==(ee="font-medium whitespace-nowrap transition-all duration-200 "+(j[9]?"opacity-100 translate-x-0":"opacity-0 -translate-x-4")+" svelte-jp1co1"))&&f(Z,"class",ee),(!q||ie[0]&512&&W!==(W="h-full flex flex-col border-r border-base-300 bg-base-200 "+(j[9]?"w-56":"w-16")+" transition-all duration-300 ease-in-out relative group svelte-jp1co1"))&&f(t,"class",W),j[5]?ce&&(ce.d(1),ce=null):ce?ce.p(j,ie):(ce=Yu(j),ce.c(),ce.m(H,z));let ve=G;G=D(j),G===ve?Le[G].p(j,ie):(Nt(),ke(Le[ve],1,1,()=>{Le[ve]=null}),Lt(),te=Le[G],te?te.p(j,ie):(te=Le[G]=Ze[G](j),te.c()),be(te,1),te.m(H,null))},i(j){q||(be(te),q=!0)},o(j){ke(te),q=!1},d(j){j&&E(e);for(let ie=0;ie<u.length;ie+=1)u[ie].d();for(let ie=0;ie<A.length;ie+=1)A[ie].d();ce&&ce.d(),Le[G].d(),X=!1,ct(J)}}}function db(r,e,t){let i,s,n,a,o;Si(r,li,D=>t(26,a=D)),Si(r,Ai,D=>t(27,o=D));let l="popular",h={},c={loading:!0,items:[],page:1,noMore:!1},u=[],p="",m=!1,g,b,w=!1;function y(){w||(t(7,w=!0),h[l]&&t(22,h[l]={loading:!1,items:[],page:1,noMore:!1},h),$(l,!1),setTimeout(()=>{t(7,w=!1)},500))}let v;zr(async()=>{console.log("onMount start......");try{await xO(),await bn.init(),g=new IntersectionObserver(j=>{j.forEach(ie=>{ie.isIntersecting&&!c.loading&&(console.log("\u6EDA\u52A8\u5230\u5E95\u90E8\uFF0C\u52A0\u8F7D\u66F4\u591A\u6570\u636E...."),$(l,!0))})},{root:b,threshold:.1});const D=document.querySelector("#sentinel");D&&g.observe(D),setTimeout(()=>{t(9,Y=!1)},3e3)}catch(D){console.error("Error in onMount:",D)}});function T(D){const j=c.items.findIndex(ie=>ie.id===D.detail.id);j>=0&&(v&&(v.destroy(),t(23,v=null)),x(),v.show(),v.view(j))}function x(){t(23,v=new xm(document.getElementById("gallery"),{inline:!1,navbar:!0,title:!1,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,loading:!0,loop:!0,keyboard:!0,slideOnTouch:!0,toolbar:{zoomIn:!0,zoomOut:!0,oneToOne:!0,reset:!0,prev:!0,play:!1,next:!0,rotateLeft:!0,rotateRight:!0,flipHorizontal:!0,flipVertical:!0},className:"viewer-custom",hidden(){v&&(v.destroy(),t(23,v=null))},filter(D){return D.hasAttribute("data-id")},url(D){return D.dataset.originUrl||D.src}}))}function P(D){if(D==="square"){xe.info("\u529F\u80FD\u5F00\u53D1\u4E2D...");return}g&&(g.disconnect(),setTimeout(()=>{g.observe(document.querySelector("#sentinel"))},100)),t(0,l=D),Fi.trackHomeCategoryChange(D),b&&t(6,b.scrollTop=0,b)}let S={...$l};async function A(D){var ie;if(S[D])return S[D];const j=(ie=a[D])==null?void 0:ie.code;if(!j)return null;try{return console.log("\u521D\u59CB\u5316\u811A\u672C:",D),t(24,S[D]=await kt.loadPluginAsModule(j),S),S[D]}catch(ve){return xe.error(ve.message),console.error("\u811A\u672C\u52A0\u8F7D\u5931\u8D25: "+ve),null}}async function Q(D){try{const j=bO(D);if(j)return j;const ie=await kt.executeScript(S[D],"categories",[]);if(console.log("loadCategories:",ie),ie&&Array.isArray(ie))return OO(D,ie),ie}catch(j){console.error("\u52A0\u8F7D\u5206\u7C7B\u5931\u8D25:",j)}return[{id:"",name:"\u9ED8\u8BA4"}]}async function I(D){if(!S[D]){console.info("\u8DF3\u8FC7\u52A0\u8F7D\u5206\u7C7B\uFF0C\u811A\u672C\u6A21\u5757\u672A\u521D\u59CB\u5316:",D);return}t(3,u=await Q(D)),console.log("cats:",u),u.length>0&&t(2,ee=u[0].id)}async function L(D){if(console.log("initScript:",D),!await A(D)){console.error("\u811A\u672C\u6A21\u5757\u672A\u52A0\u8F7D:",D);return}await I(D)}async function $(D,j=!1){if(v&&v.isShown||(console.log("into loadData:",D,j),!D||h[D]&&h[D].loading||h[D]&&h[D].items.length>0&&!j))return;S[D]||await L(D),console.log("start loadData:",D,j);const ie=S[D];if(!ie){console.error("\u811A\u672C\u6A21\u672A\u52A0\u8F7D:",D);return}if(!h[D])t(22,h[D]={loading:!0,items:[],page:1,noMore:!1},h);else if(j){if(h[D].noMore){console.log("noMore:",D);return}t(22,h[D].loading=!0,h),t(22,h[D].page+=1,h)}let ve=!0;const Qe={push(...Ve){Ve.length>0&&(ve=!1);let $e=[...h[D].items];for(const Fe of Ve)typeof Fe=="object"&&(Fe.id||(Fe.id=window.Preload.licia.uuid()),$e.push(Fe));t(22,h[D].items=$e,h),v&&!v.isShown&&v.update()},done(Ve=[]){Array.isArray(Ve)&&this.push(...Ve),t(22,h[D].loading=!1,h)}};try{const Ve=p&&n?"search":"getData",$e={page:h[D].page,category:ee,...p&&{keyword:p}},Fe=await kt.executeScript(ie,Ve,[{push:Qe.push},$e]);Qe.done(Fe),t(22,h[D].noMore=ve,h)}catch(Ve){console.error("\u811A\u672C\u6267\u884C\u9519\u8BEF:",Ve),xe.error("\u811A\u672C\u6267\u884C\u8BEF: "+Ve.message),Qe.done()}}function N(){fm("/scripts")}let R;async function F(){var D,j;console.log("refreshDisplayMode",a[l]),t(8,R=await Ha.getOrSet(l,(j=(D=a[l])==null?void 0:D.displayMode)!=null?j:"masonry"))}function Z(D){t(8,R=D),Ha.set(l,R)}function K(){w||y()}let ee="";function W(D){console.log("handleCategoryChange:",D),t(2,ee=D),y()}let Y=!0;function H(){t(9,Y=!0)}function z(){t(9,Y=!1)}function G(){!n||w||y()}or(()=>{console.log("onDestroy start......");try{v&&(v.destroy(),t(23,v=null)),g&&(g.disconnect(),g=null),t(24,S={}),t(0,l=null),t(4,p=""),t(3,u=[]),t(2,ee=""),yO(),console.log("onDestroy completed")}catch(D){console.error("Error in onDestroy:",D)}});async function te(){const D=l==="favorites"?"\u6536\u85CF":"\u5386\u53F2\u8BB0\u5F55";Zi.confirm(`\u786E\u5B9A\u8981\u6E05\u7A7A\u5168\u90E8${D}\u6570\u636E\u5417\uFF1F\u6B64\u64CD\u4F5C\u4E0D\u53EF\u6062\u590D\uFF01`,async()=>{l==="favorites"?(await Ls.clear(),xe.success("\u5DF2\u6E05\u7A7A\u6536\u85CF\u5939")):l==="history"&&(await Ya.clear(),xe.success("\u5DF2\u6E05\u7A7A\u5386\u53F2\u8BB0\u5F55")),y()})}function q(D){if(D.id==="auto_wallpaper"){t(5,m=!0);return}t(5,m=!1),P(D.id)}const X=D=>q(D),J=D=>q(D),ae=D=>W(D.id),fe=D=>W(D.id);function Me(){p=this.value,t(4,p),t(2,ee)}const le=D=>{D.key==="Enter"&&G()},ce=()=>Z("masonry"),Ze=()=>Z("full");function Le(D){as[D?"unshift":"push"](()=>{b=D,t(6,b)})}return r.$$.update=()=>{var D;r.$$.dirty[0]&201326592&&t(25,i=Object.values(a).filter(j=>o[j.id])),r.$$.dirty[0]&33554432&&t(11,s={sources:{title:"\u58C1\u7EB8\u6E90",items:i||[]},personal:{title:"\u53D1\u73B0",items:[{id:"popular",title:"\u70ED\u95E8\u58C1\u7EB8",icon:"fire"},{id:"favorites",title:"\u6211\u7684\u6536\u85CF",icon:"heart"},{id:"history",title:"\u5386\u53F2\u8BB0\u5F55",icon:"clock"},{id:"auto_wallpaper",title:"\u81EA\u52A8\u58C1\u7EB8",icon:"icon-clock"}]}}),r.$$.dirty[0]&1&&$(l),r.$$.dirty[0]&4194304&&console.log("listData:",h),r.$$.dirty[0]&4194305&&h[l]&&t(1,c=h[l]),r.$$.dirty[0]&1&&(console.log("\u5207\u6362\u4E86\u58C1\u7EB8\u6E90\uFF0C\u91CD\u52A0\u8F7D\u5206\u7C7B:",l),I(l)),r.$$.dirty[0]&4194305&&(l==="favorites"||l==="history")&&setTimeout(()=>{h[l]&&y()},100),r.$$.dirty[0]&4&&ee&&t(4,p=""),r.$$.dirty[0]&16777217&&t(10,n=typeof((D=S[l])==null?void 0:D.search)=="function"),r.$$.dirty[0]&1&&l&&F(),r.$$.dirty[0]&8388610&&c.items&&v&&v.update()},[l,c,ee,u,p,m,b,w,R,Y,n,s,T,N,Z,K,W,H,z,G,te,q,h,v,S,i,a,o,X,J,ae,fe,Me,le,ce,Ze,Le]}class mb extends zt{constructor(e){super(),qt(this,e,db,pb,Dt,{},null,[-1,-1])}}function gb(r){let e,t,i=`<h1 id="ibox-\u811A\u672C\u63D2\u4EF6\u5F00\u53D1\u6307\u5357">IBox \u811A\u672C\u63D2\u4EF6\u5F00\u53D1\u6307\u5357</h1>
<h2 id="\u7B80\u4ECB">\u7B80\u4ECB</h2>
<p>IBox \u662F\u4E00\u6B3E\u652F\u6301\u591A\u6E90\u7684\u58C1\u7EB8\u5E94\u7528\uFF0C\u652F\u6301\u901A\u8FC7\u63D2\u4EF6\u6269\u5C55\u6765\u6DFB\u52A0\u66F4\u591A\u56FE\u7247\u6E90\u3002\u672C\u6307\u5357\u5C06\u5E2E\u52A9\u4F60\u5F00\u53D1\u81EA\u5DF1\u7684 IBox \u63D2\u4EF6\u3002</p>
<h2 id="\u63D2\u4EF6\u7ED3\u6784">\u63D2\u4EF6\u7ED3\u6784</h2>
<p>\u4E00\u4E2A\u57FA\u672C\u7684 IBox \u63D2\u4EF6\u662F\u4E00\u4E2A\u5305\u542B\u4EE5\u4E0B\u65B9\u6CD5\u7684 JavaScript \u5BF9\u8C61:</p>
<pre><code class="language-javascript">export default {
  // \u83B7\u53D6\u6570\u636E(\u5FC5\u9700)
  async getData(ibox, {page, category}) {
    // \u5B9E\u73B0\u83B7\u53D6\u56FE\u7247\u6570\u636E\u7684\u903B\u8F91
  },

  // \u83B7\u53D6\u5206\u7C7B\u5217\u8868(\u53EF\u9009)
  async categories(ibox) {
    // \u8FD4\u56DE\u5206\u7C7B\u5217\u8868
  },

  // \u641C\u7D22\u529F\u80FD(\u53EF\u9009) 
  async search(ibox, {keyword, page, category}) {
    // \u5B9E\u73B0\u641C\u7D22\u529F\u80FD
  }
};
</code></pre>
<h2 id="api-\u8BF4\u660E">API \u8BF4\u660E</h2>
<h3 id="getdataibox-params">getData(ibox, params)</h3>
<p>\u83B7\u53D6\u56FE\u7247\u6570\u636E\u7684\u4E3B\u8981\u65B9\u6CD5\uFF0C\u5FC5\u987B\u5B9E\u73B0\u3002</p>
<p>\u53C2\u6570:</p>
<ul>
<li><code>ibox</code>: IBox \u5B9E\u4F8B\uFF0C\u63D0\u4F9B\u5404\u79CD\u5DE5\u5177\u65B9\u6CD5</li>
<li><code>params</code>: \u5305\u542B\u4EE5\u4E0B\u5B57\u6BB5:<ul>
<li><code>page</code>: \u5F53\u524D\u9875\u7801(\u4ECE1\u5F00\u59CB)</li>
<li><code>category</code>: \u5F53\u524D\u5206\u7C7BID(\u5982\u679C\u63D2\u4EF6\u652F\u6301\u5206\u7C7B)</li>
</ul>
</li>
</ul>
<p>\u8FD4\u56DE\u503C: </p>
<ul>
<li>\u8FD4\u56DE\u4E00\u4E2A\u5305\u542B\u56FE\u7247\u4FE1\u606F\u7684\u6570\u7EC4\uFF0C\u6BCF\u4E2A\u56FE\u7247\u5BF9\u8C61\u5E94\u5305\u542B:<ul>
<li><code>url</code>: \u56FE\u7247\u5730\u5740(\u5FC5\u9700)</li>
<li><code>title</code>: \u56FE\u7247\u6807\u9898(\u53EF\u9009)</li>
<li><code>description</code>: \u56FE\u7247\u63CF\u8FF0(\u53EF\u9009)</li>
<li><code>link</code>: \u56FE\u7247\u6765\u6E90\u9875\u9762\u94FE\u63A5(\u53EF\u9009)</li>
<li><code>origin_url</code>: \u539F\u56FE\u5730\u5740(\u53EF\u9009\uFF0C\u5982\u679C\u4E0Eurl\u4E0D\u540C)</li>
</ul>
</li>
</ul>
<p>\u793A\u4F8B:</p>
<pre><code class="language-javascript">async getData(ibox, {page, category}) {
  // \u4E0D\u652F\u6301\u5206\u9875\u7684\u60C5\u51B5\u4E0B\u76F4\u63A5\u8FD4\u56DE\u7A7A\u6570\u7EC4
  if (page &gt; 1) return [];

  const response = await ibox.ky.get(&#39;https://api.example.com/images&#39;);
  const data = await response.json();
  
  return data.map(item =&gt; ({
    url: item.image_url,
    title: item.title || &#39;\u65E0\u6807\u9898&#39;,
    description: &grave;&dollar;{item.width}x&dollar;{item.height}&grave;,
    link: item.page_url
  }));
}
</code></pre>
<h3 id="categoriesibox">categories(ibox)</h3>
<p>\u8FD4\u56DE\u63D2\u4EF6\u652F\u6301\u7684\u5206\u7C7B\u5217\u8868\uFF0C\u53EF\u9009\u5B9E\u73B0\u3002</p>
<p>\u53C2\u6570:</p>
<ul>
<li><code>ibox</code>: IBox \u5B9E\u4F8B</li>
</ul>
<p>\u8FD4\u56DE\u503C:</p>
<ul>
<li>\u8FD4\u56DE\u4E00\u4E2A\u5206\u7C7B\u5BF9\u8C61\u6570\u7EC4\uFF0C\u6BCF\u4E2A\u5206\u7C7B\u5BF9\u8C61\u5305\u542B:<ul>
<li><code>id</code>: \u5206\u7C7BID</li>
<li><code>name</code>: \u5206\u7C7B\u540D\u79F0</li>
</ul>
</li>
</ul>
<p>\u793A\u4F8B:</p>
<pre><code class="language-javascript">async categories(ibox) {
  return [
    {id: &#39;latest&#39;, name: &#39;\u6700\u65B0&#39;},
    {id: &#39;nature&#39;, name: &#39;\u81EA\u7136&#39;},
    {id: &#39;city&#39;, name: &#39;\u57CE\u5E02&#39;}
  ];
}
</code></pre>
<h3 id="searchibox-params">search(ibox, params)</h3>
<p>\u5B9E\u73B0\u641C\u7D22\u529F\u80FD\uFF0C\u53EF\u9009\u5B9E\u73B0\u3002</p>
<p>\u53C2\u6570:</p>
<ul>
<li><code>ibox</code>: IBox \u5B9E\u4F8B</li>
<li><code>params</code>: \u5305\u542B\u4EE5\u4E0B\u5B57\u6BB5:<ul>
<li><code>keyword</code>: \u641C\u7D22\u5173\u952E\u8BCD</li>
<li><code>page</code>: \u5F53\u524D\u9875\u7801</li>
<li><code>category</code>: \u5F53\u524D\u5206\u7C7BID</li>
</ul>
</li>
</ul>
<p>\u8FD4\u56DE\u503C:</p>
<ul>
<li>\u8FD4\u56DE\u683C\u5F0F\u4E0E getData \u76F8\u540C</li>
</ul>
<p>\u793A\u4F8B:</p>
<pre><code class="language-javascript">async search(ibox, {keyword, page}) {
  if (page &gt; 1) return [];

  const response = await ibox.ky.get(&#39;https://api.example.com/search&#39;, {
    searchParams: { q: keyword }
  });
  const data = await response.json();
  
  return data.map(item =&gt; ({
    url: item.url,
    title: &grave;&dollar;{keyword} - &dollar;{item.title}&grave;
  }));
}
</code></pre>
<h2 id="ibox-\u5DE5\u5177\u65B9\u6CD5">IBox \u5DE5\u5177\u65B9\u6CD5</h2>
<p>IBox \u5B9E\u4F8B\u63D0\u4F9B\u4E86\u4EE5\u4E0B\u5E38\u7528\u5DE5\u5177\u65B9\u6CD5:</p>
<h3 id="\u6570\u636E\u63A8\u9001">\u6570\u636E\u63A8\u9001</h3>
<p>\u4F7F\u7528 <code>push</code> \u5B9E\u65F6\u63A8\u9001\u6570\u636E\u5230\u524D\u7AEF:</p>
<pre><code class="language-javascript">// \u5355\u6761\u6570\u636E\u63A8\u9001
ibox.push({
  url: &#39;https://example.com/image1.jpg&#39;,
  title: &#39;\u793A\u4F8B\u56FE\u72471&#39;
});

// \u591A\u6761\u6570\u636E\u63A8\u9001
ibox.push(
  {
    url: &#39;https://example.com/image1.jpg&#39;,
    title: &#39;\u793A\u4F8B\u56FE\u72471&#39;
  },
  {
    url: &#39;https://example.com/image2.jpg&#39;,
    title: &#39;\u793A\u4F8B\u56FE\u72472&#39;
  }
);

// \u5728\u5FAA\u73AF\u4E2D\u63A8\u9001\u6570\u636E
for (const item of items) {
  ibox.push({
    url: item.image_url,
    title: item.title
  });
}
</code></pre>
<p><code>push</code> \u65B9\u6CD5\u7528\u4E8E\u5728\u91C7\u96C6\u6570\u636E\u8FC7\u7A0B\u4E2D\u5B9E\u65F6\u63A8\u9001\u6570\u636E\u5230\u524D\u7AEF\u663E\u793A\uFF0C\u800C\u4E0D\u662F\u7B49\u5F85\u6240\u6709\u6570\u636E\u91C7\u96C6\u5B8C\u6210\u540E\u4E00\u6B21\u6027\u8FD4\u56DE\u3002\u8FD9\u79CD\u65B9\u5F0F\u53EF\u4EE5:</p>
<ul>
<li>\u63D0\u5347\u7528\u6237\u4F53\u9A8C\uFF0C\u7528\u6237\u53EF\u4EE5\u7ACB\u5373\u770B\u5230\u90E8\u5206\u7ED3\u679C</li>
<li>\u9002\u5408\u5904\u7406\u5927\u91CF\u6570\u636E\u7684\u573A\u666F</li>
<li>\u907F\u514D\u957F\u65F6\u95F4\u7B49\u5F85\u7684\u95EE\u9898</li>
<li>\u51CF\u5C11\u5185\u5B58\u5360\u7528\uFF0C\u65E0\u9700\u4E00\u6B21\u6027\u4FDD\u5B58\u6240\u6709\u6570\u636E</li>
</ul>
<p>\u6CE8\u610F\uFF1A\u4F7F\u7528 <code>push</code> \u65B9\u6CD5\u65F6\uFF0CgetData/search \u65B9\u6CD5\u53EF\u4EE5\u4E0D\u8FD4\u56DE\u6570\u636E\u6216\u8FD4\u56DE\u7A7A\u6570\u7EC4\u3002</p>
<h3 id="http-\u8BF7\u6C42">HTTP \u8BF7\u6C42</h3>
<p>\u4F7F\u7528 <code>ky</code> \u53D1\u8D77 HTTP \u8BF7\u6C42:</p>
<pre><code class="language-javascript">// GET \u8BF7\u6C42
const response = await ibox.ky.get(&#39;https://api.example.com/images&#39;);
const data = await response.json();

// \u5E26\u67E5\u8BE2\u53C2\u6570\u7684 GET \u8BF7\u6C42
const response = await ibox.ky.get(&#39;https://api.example.com/search&#39;, {
  searchParams: {
    q: &#39;nature&#39;,
    page: 1
  }
});
</code></pre>
<h3 id="\u9875\u9762\u89E3\u6790">\u9875\u9762\u89E3\u6790</h3>
<p>\u4F7F\u7528 <code>loadPage</code> \u52A0\u8F7D\u5E76\u89E3\u6790\u7F51\u9875:</p>
<pre><code class="language-javascript">// \u52A0\u8F7D\u9875\u9762
const &dollar; = await ibox.loadPage(&#39;https://example.com&#39;);

// \u4F7F\u7528 cheerio \u8BED\u6CD5\u9009\u62E9\u5143\u7D20
&dollar;(&#39;.image-container img&#39;).each(function() {
  const src = &dollar;(this).attr(&#39;src&#39;);
  const title = &dollar;(this).attr(&#39;alt&#39;);
});
</code></pre>
<h3 id="\u6D88\u606F\u63D0\u793A">\u6D88\u606F\u63D0\u793A</h3>
<p>\u4F7F\u7528 <code>toast</code> \u663E\u793A\u63D0\u793A\u4FE1\u606F:</p>
<pre><code class="language-javascript">ibox.toast.info(&#39;\u6B63\u5728\u52A0\u8F7D...&#39;);
ibox.toast.success(&#39;\u52A0\u8F7D\u6210\u529F&#39;);
ibox.toast.error(&#39;\u52A0\u8F7D\u5931\u8D25&#39;);
</code></pre>
<h3 id="\u5DE5\u5177\u51FD\u6570">\u5DE5\u5177\u51FD\u6570</h3>
<p>\u4F7F\u7528 <code>licia</code> \u63D0\u4F9B\u7684\u5DE5\u5177\u51FD\u6570:</p>
<pre><code class="language-javascript">// \u751F\u6210\u968F\u673A\u6570
const randomNum = ibox.licia.random(1, 100);

// \u5176\u4ED6\u5B9E\u7528\u51FD\u6570
const uuid = ibox.licia.uuid();
const now = ibox.licia.now();
</code></pre>
<h2 id="\u672C\u5730\u5F00\u53D1\u8C03\u8BD5">\u672C\u5730\u5F00\u53D1\u8C03\u8BD5</h2>
<ol>
<li>\u521B\u5EFA\u63D2\u4EF6\u811A\u672C\u6587\u4EF6</li>
</ol>
<pre><code class="language-javascript">// scripts/plugins/myplugin.js
export default {
  async getData(ibox, {page}) {
    if (page &gt; 1) return [];
    // \u5B9E\u73B0\u83B7\u53D6\u6570\u636E\u7684\u903B\u8F91
    return [{url: &#39;https://example.com/image.jpg&#39;}];
  }
};
</code></pre>
<ol start="2">
<li>\u521B\u5EFA\u6D4B\u8BD5\u6587\u4EF6</li>
</ol>
<pre><code class="language-javascript">// scripts/tests/myplugin.test.js
import IBox from &quot;ibox-mock&quot;;
import myplugin from &quot;../plugins/myplugin.js&quot;;

const ibox = new IBox();
const params = { page: 1 };

// \u6D4B\u8BD5\u83B7\u53D6\u6570\u636E
let data = await myplugin.getData(ibox, params);
console.log(data);
</code></pre>
<ol start="3">
<li>\u5B89\u88C5\u6D4B\u8BD5\u4F9D\u8D56</li>
</ol>
<pre><code class="language-bash">npm install ibox-mock --save-dev
</code></pre>
<ol start="4">
<li>\u6267\u884C\u6D4B\u8BD5</li>
</ol>
<pre><code class="language-bash">node scripts/tests/myplugin.test.js
</code></pre>
<ol start="5">
<li>IBox \u8FDC\u7A0B\u8C03\u8BD5\u6D41\u7A0B</li>
</ol>
<ul>
<li>\u5728\u672C\u5730\u542F\u52A8\u9759\u6001\u6587\u4EF6\u670D\u52A1\u5668(\u4F8B\u5982\u4F7F\u7528 http-server)</li>
</ul>
<pre><code class="language-bash">npx http-server . -p 3000
</code></pre>
<ul>
<li><p>\u5728 IBox \u5E94\u7528\u4E2D\u521B\u5EFA\u65B0\u811A\u672C:</p>
<ol>
<li>\u70B9\u51FB&quot;\u521B\u5EFA\u65B0\u811A\u672C&quot;</li>
<li>\u9009\u62E9\u811A\u672C\u7C7B\u578B\u4E3A&quot;\u8FDC\u7A0B\u811A\u672C&quot;</li>
<li>\u586B\u5199\u811A\u672C\u5730\u5740\uFF0C\u5982: <code>http://localhost:3000/scripts/plugins/myplugin.js</code></li>
</ol>
</li>
<li><p>\u5728 IBox \u5E94\u7528\u4E2D\u8FDB\u884C\u8FDC\u7A0B\u8C03\u8BD5\uFF0C\u786E\u8BA4\u529F\u80FD\u6B63\u5E38</p>
</li>
</ul>
<ol start="5">
<li>\u53D1\u5E03\u811A\u672C</li>
</ol>
<ul>
<li>\u5C06\u811A\u672C\u63A8\u9001\u5230 GitHub \u4ED3\u5E93</li>
<li>\u66F4\u65B0\u811A\u672C\u5730\u5740\u4E3A GitHub \u539F\u59CB\u6587\u4EF6\u5730\u5740:<pre><code>https://raw.githubusercontent.com/username/repo/main/myplugin.js
</code></pre>
</li>
<li>\u6216\u8005\u5C06\u811A\u672C\u7C7B\u578B\u6539\u4E3A&quot;\u672C\u5730\u811A\u672C&quot;</li>
</ul>
<h2 id="\u793A\u4F8B\u63D2\u4EF6">\u793A\u4F8B\u63D2\u4EF6</h2>
<p>\u8FD9\u662F\u4E00\u4E2A\u5B8C\u6574\u7684\u793A\u4F8B\u63D2\u4EF6\uFF0C\u5C55\u793A\u4E86\u5982\u4F55\u5B9E\u73B0\u4E00\u4E2A\u652F\u6301\u5206\u7C7B\u548C\u641C\u7D22\u7684\u56FE\u7247\u6E90:</p>
<pre><code class="language-javascript">export default {
  // \u83B7\u53D6\u5206\u7C7B\u5217\u8868
  async categories(ibox) {
    return [
      {id: &#39;latest&#39;, name: &#39;\u6700\u65B0&#39;},
      {id: &#39;nature&#39;, name: &#39;\u81EA\u7136&#39;},
      {id: &#39;city&#39;, name: &#39;\u57CE\u5E02&#39;}
    ];
  },

  // \u83B7\u53D6\u6570\u636E
  async getData(ibox, {page, category = &#39;latest&#39;}) {
    if (page &gt; 1) return [];

    const response = await ibox.ky.get(&#39;https://api.example.com/images&#39;, {
      searchParams: {
        category,
        limit: 30
      }
    });

    const data = await response.json();
    
    return data.map(item =&gt; ({
      url: item.url,
      title: item.title,
      description: item.description,
      link: item.source_url
    }));
  },

  // \u641C\u7D22\u529F\u80FD
  async search(ibox, {keyword, page}) {
    if (page &gt; 1) return [];

    const response = await ibox.ky.get(&#39;https://api.example.com/search&#39;, {
      searchParams: { q: keyword }
    });

    const data = await response.json();
    
    return data.map(item =&gt; ({
      url: item.url,
      title: &grave;&dollar;{keyword} - &dollar;{item.title}&grave;
    }));
  }
};
</code></pre>
<h2 id="\u6CE8\u610F\u4E8B\u9879">\u6CE8\u610F\u4E8B\u9879</h2>
<ol>
<li>\u786E\u4FDD\u9075\u5B88\u76EE\u6807\u7F51\u7AD9\u7684\u4F7F\u7528\u6761\u6B3E\u548C\u7248\u6743\u89C4\u5B9A</li>
<li>\u5408\u7406\u63A7\u5236\u8BF7\u6C42\u9891\u7387\uFF0C\u907F\u514D\u5BF9\u76EE\u6807\u7AD9\u70B9\u9020\u6210\u538B\u529B</li>
<li>\u4E0D\u9700\u8981\u624B\u52A8\u5904\u7406 HTTP \u8BF7\u6C42\u9519\u8BEF\uFF0C\u6846\u67B6\u4F1A\u7EDF\u4E00\u5904\u7406</li>
<li>\u5B9A\u671F\u7EF4\u62A4\u548C\u66F4\u65B0\u63D2\u4EF6\uFF0C\u786E\u4FDD\u5176\u6B63\u5E38\u5DE5\u4F5C</li>
<li>\u63D0\u4F9B\u6E05\u6670\u7684\u6CE8\u91CA\u548C\u6587\u6863\uFF0C\u65B9\u4FBF\u5176\u4ED6\u7528\u6237\u4F7F\u7528</li>
</ol>
<h2 id="\u53C2\u8003\u8D44\u6E90">\u53C2\u8003\u8D44\u6E90</h2>
<ul>
<li><a href="https://github.com/sindresorhus/ky">ky HTTP \u5BA2\u6237\u7AEF\u6587\u6863</a></li>
<li><a href="https://github.com/cheeriojs/cheerio">cheerio \u6587\u6863</a></li>
<li><a href="https://github.com/liriliri/licia">licia \u5DE5\u5177\u5E93\u6587\u6863</a></li>
</ul>
`;return{c(){e=O("div"),t=O("div"),f(t,"class","card-body p-8 overflow-auto prose max-w-none"),f(e,"class","card bg-base-100 shadow-xl max-w-4xl mx-auto")},m(s,n){M(s,e,n),d(e,t),t.innerHTML=i},p:ge,i:ge,o:ge,d(s){s&&E(e)}}}class km extends zt{constructor(e){super(),qt(this,e,null,gb,Dt,{})}}var of="./assets/logo.6f38824e.svg";function Ob(r){let e,t,i,s,n,a,o,l,h,c,u,p,m,g,b,w,y,v,T,x,P,S,A,Q,I,L;return{c(){e=O("div"),t=O("div"),i=O("div"),s=O("div"),n=O("div"),a=O("img"),l=k(),h=O("h1"),h.textContent="IBox",c=k(),u=O("p"),u.textContent="\u5F3A\u5927\u7684\u652F\u6301\u65E0\u9650\u6269\u5C55\u7684\u58C1\u7EB8\u5E94\u7528",p=k(),m=O("div"),g=O("div"),b=O("img"),y=k(),v=O("h2"),v.textContent="\u52A0\u5165 Telegram \u4EA4\u6D41\u7FA4",T=k(),x=O("p"),x.textContent="\u4E0E\u5176\u4ED6\u7528\u6237\u4EA4\u6D41\u7ECF\u9A8C\u3001\u5206\u4EAB\u811A\u672C\u3001\u83B7\u53D6\u5E2E\u52A9",P=k(),S=O("p"),S.textContent="\u7FA4\u53F7: @ibox_wallpaper",A=k(),Q=O("div"),Q.innerHTML=`<p class="text-base-content/60">\u7248\u672C 2.0.0</p> 
            <p class="text-base-content/60">\xA9 2024 IBox Team. All rights reserved.</p>`,ot(a.src,o=of)||f(a,"src",o),f(a,"alt","Logo"),f(n,"class","w-24 h-24 rounded-xl ring ring-primary ring-offset-base-100 ring-offset-2"),f(s,"class","avatar"),f(h,"class","text-3xl font-bold"),f(u,"class","text-lg text-base-content/70"),f(i,"class","space-y-4"),ot(b.src,w=of)||f(b,"src",w),f(b,"alt","Logo"),f(b,"class","w-12 h-12 mb-2 rounded-full"),f(v,"class","card-title text-2xl mb-2"),f(S,"class","text-sm mt-2"),f(g,"class","card-body items-center text-center py-6"),f(m,"class","card bg-primary text-primary-content shadow-lg hover:shadow-xl transition-shadow cursor-pointer"),f(Q,"class","space-y-2"),f(t,"class","max-w-2xl w-full space-y-8 text-center"),f(e,"class","h-full overflow-auto flex flex-col items-center justify-center p-8 bg-base-100")},m($,N){M($,e,N),d(e,t),d(t,i),d(i,s),d(s,n),d(n,a),d(i,l),d(i,h),d(i,c),d(i,u),d(t,p),d(t,m),d(m,g),d(g,b),d(g,y),d(g,v),d(g,T),d(g,x),d(g,P),d(g,S),d(t,A),d(t,Q),I||(L=B(m,"click",r[0]),I=!0)},p:ge,i:ge,o:ge,d($){$&&E(e),I=!1,L()}}}const bb="https://t.me/ibox_wallpaper";function yb(r){return[()=>ztools.shellOpenExternal(bb)]}class wb extends zt{constructor(e){super(),qt(this,e,yb,Ob,Dt,{})}}function vb(r){let e,t,i,s,n,a,o,l,h,c,u,p,m;return{c(){e=O("div"),t=O("div"),i=O("h3"),i.textContent="\u8F93\u5165\u56FE\u6807\u5730\u5740",s=k(),n=O("div"),a=O("input"),o=k(),l=O("div"),h=O("button"),h.textContent="\u53D6\u6D88",c=k(),u=O("button"),u.textContent="\u786E\u5B9A",f(i,"class","font-bold text-lg"),f(a,"type","text"),f(a,"placeholder","https://site.com/favicon.ico"),f(a,"class","input input-bordered w-full"),f(n,"class","my-3"),f(h,"class","btn btn-ghost"),f(u,"class","btn"),f(l,"class","modal-action"),f(t,"class","modal-box"),f(e,"class","modal"),Ae(e,"modal-open",r[0])},m(g,b){M(g,e,b),d(e,t),d(t,i),d(t,s),d(t,n),d(n,a),at(a,r[1]),d(t,o),d(t,l),d(l,h),d(l,c),d(l,u),p||(m=[B(a,"input",r[3]),B(h,"click",r[4]),B(u,"click",r[2])],p=!0)},p(g,[b]){b&2&&a.value!==g[1]&&at(a,g[1]),b&1&&Ae(e,"modal-open",g[0])},i:ge,o:ge,d(g){g&&E(e),p=!1,ct(m)}}}function xb(r,e,t){const i=Ss();let{open:s=!0}=e,{url:n=""}=e;function a(){i("changeIcon",n)}function o(){n=this.value,t(1,n)}const l=()=>t(0,s=!1);return r.$$set=h=>{"open"in h&&t(0,s=h.open),"url"in h&&t(1,n=h.url)},[s,n,a,o,l]}class kb extends zt{constructor(e){super(),qt(this,e,xb,vb,Dt,{open:0,url:1})}}let Nl=[],Pm=[];(()=>{let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<r.length;e++)(e%2?Pm:Nl).push(t=t+r[e])})();function Pb(r){if(r<768)return!1;for(let e=0,t=Nl.length;;){let i=e+t>>1;if(r<Nl[i])t=i;else if(r>=Pm[i])e=i+1;else return!0;if(e==t)return!1}}function lf(r){return r>=127462&&r<=127487}const hf=8205;function Sb(r,e,t=!0,i=!0){return(t?Sm:Ab)(r,e,i)}function Sm(r,e,t){if(e==r.length)return e;e&&Am(r.charCodeAt(e))&&Tm(r.charCodeAt(e-1))&&e--;let i=Ho(r,e);for(e+=cf(i);e<r.length;){let s=Ho(r,e);if(i==hf||s==hf||t&&Pb(s))e+=cf(s),i=s;else if(lf(s)){let n=0,a=e-2;for(;a>=0&&lf(Ho(r,a));)n++,a-=2;if(n%2==0)break;e+=2}else break}return e}function Ab(r,e,t){for(;e>0;){let i=Sm(r,e-2,t);if(i<e)return i;e--}return 0}function Ho(r,e){let t=r.charCodeAt(e);if(!Tm(t)||e+1==r.length)return t;let i=r.charCodeAt(e+1);return Am(i)?(t-55296<<10)+(i-56320)+65536:t}function Am(r){return r>=56320&&r<57344}function Tm(r){return r>=55296&&r<56320}function cf(r){return r<65536?1:2}class tt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=Nr(this,e,t);let s=[];return this.decompose(0,e,s,2),i.length&&i.decompose(0,i.length,s,3),this.decompose(t,this.length,s,1),ts.from(s,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Nr(this,e,t);let i=[];return this.decompose(e,t,i,0),ts.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),s=new yn(this),n=new yn(e);for(let a=t,o=t;;){if(s.next(a),n.next(a),a=0,s.lineBreak!=n.lineBreak||s.done!=n.done||s.value!=n.value)return!1;if(o+=s.value.length,s.done||o>=i)return!0}}iter(e=1){return new yn(this,e)}iterRange(e,t=this.length){return new Cm(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let s=this.line(e).from;i=this.iterRange(s,Math.max(s,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new _m(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?tt.empty:e.length<=32?new Mt(e):ts.from(Mt.split(e,[]))}}class Mt extends tt{constructor(e,t=Tb(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,s){for(let n=0;;n++){let a=this.text[n],o=s+a.length;if((t?i:o)>=e)return new Cb(s,o,i,a);s=o+1,i++}}decompose(e,t,i,s){let n=e<=0&&t>=this.length?this:new Mt(uf(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(s&1){let a=i.pop(),o=Qa(n.text,a.text.slice(),0,n.length);if(o.length<=32)i.push(new Mt(o,a.length+n.length));else{let l=o.length>>1;i.push(new Mt(o.slice(0,l)),new Mt(o.slice(l)))}}else i.push(n)}replace(e,t,i){if(!(i instanceof Mt))return super.replace(e,t,i);[e,t]=Nr(this,e,t);let s=Qa(this.text,Qa(i.text,uf(this.text,0,e)),t),n=this.length+i.length-(t-e);return s.length<=32?new Mt(s,n):ts.from(Mt.split(s,[]),n)}sliceString(e,t=this.length,i=`
`){[e,t]=Nr(this,e,t);let s="";for(let n=0,a=0;n<=t&&a<this.text.length;a++){let o=this.text[a],l=n+o.length;n>e&&a&&(s+=i),e<l&&t>n&&(s+=o.slice(Math.max(0,e-n),t-n)),n=l+1}return s}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],s=-1;for(let n of e)i.push(n),s+=n.length+1,i.length==32&&(t.push(new Mt(i,s)),i=[],s=-1);return s>-1&&t.push(new Mt(i,s)),t}}class ts extends tt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,s){for(let n=0;;n++){let a=this.children[n],o=s+a.length,l=i+a.lines-1;if((t?l:o)>=e)return a.lineInner(e,t,i,s);s=o+1,i=l+1}}decompose(e,t,i,s){for(let n=0,a=0;a<=t&&n<this.children.length;n++){let o=this.children[n],l=a+o.length;if(e<=l&&t>=a){let h=s&((a<=e?1:0)|(l>=t?2:0));a>=e&&l<=t&&!h?i.push(o):o.decompose(e-a,t-a,i,h)}a=l+1}}replace(e,t,i){if([e,t]=Nr(this,e,t),i.lines<this.lines)for(let s=0,n=0;s<this.children.length;s++){let a=this.children[s],o=n+a.length;if(e>=n&&t<=o){let l=a.replace(e-n,t-n,i),h=this.lines-a.lines+l.lines;if(l.lines<h>>5-1&&l.lines>h>>5+1){let c=this.children.slice();return c[s]=l,new ts(c,this.length-(t-e)+i.length)}return super.replace(n,o,l)}n=o+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=Nr(this,e,t);let s="";for(let n=0,a=0;n<this.children.length&&a<=t;n++){let o=this.children[n],l=a+o.length;a>e&&n&&(s+=i),e<l&&t>a&&(s+=o.sliceString(e-a,t-a,i)),a=l+1}return s}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof ts))return 0;let i=0,[s,n,a,o]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=t,n+=t){if(s==a||n==o)return i;let l=this.children[s],h=e.children[n];if(l!=h)return i+l.scanIdentical(h,t);i+=l.length+1}}static from(e,t=e.reduce((i,s)=>i+s.length+1,-1)){let i=0;for(let m of e)i+=m.lines;if(i<32){let m=[];for(let g of e)g.flatten(m);return new Mt(m,t)}let s=Math.max(32,i>>5),n=s<<1,a=s>>1,o=[],l=0,h=-1,c=[];function u(m){let g;if(m.lines>n&&m instanceof ts)for(let b of m.children)u(b);else m.lines>a&&(l>a||!l)?(p(),o.push(m)):m instanceof Mt&&l&&(g=c[c.length-1])instanceof Mt&&m.lines+g.lines<=32?(l+=m.lines,h+=m.length+1,c[c.length-1]=new Mt(g.text.concat(m.text),g.length+1+m.length)):(l+m.lines>s&&p(),l+=m.lines,h+=m.length+1,c.push(m))}function p(){l!=0&&(o.push(c.length==1?c[0]:ts.from(c,h)),h=-1,l=c.length=0)}for(let m of e)u(m);return p(),o.length==1?o[0]:new ts(o,t)}}tt.empty=new Mt([""],0);function Tb(r){let e=-1;for(let t of r)e+=t.length+1;return e}function Qa(r,e,t=0,i=1e9){for(let s=0,n=0,a=!0;n<r.length&&s<=i;n++){let o=r[n],l=s+o.length;l>=t&&(l>i&&(o=o.slice(0,i-s)),s<t&&(o=o.slice(t-s)),a?(e[e.length-1]+=o,a=!1):e.push(o)),s=l+1}return e}function uf(r,e,t){return Qa(r,[""],e,t)}class yn{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Mt?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,s=this.nodes[i],n=this.offsets[i],a=n>>1,o=s instanceof Mt?s.text.length:s.children.length;if(a==(t>0?o:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((n&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof Mt){let l=s.text[a+(t<0?-1:0)];if(this.offsets[i]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=s.children[a+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof Mt?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Cm{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new yn(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*t,this.value=s.length<=i?s:t<0?s.slice(s.length-i):s.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class _m{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:s}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol!="undefined"&&(tt.prototype[Symbol.iterator]=function(){return this.iter()},yn.prototype[Symbol.iterator]=Cm.prototype[Symbol.iterator]=_m.prototype[Symbol.iterator]=function(){return this});class Cb{constructor(e,t,i,s){this.from=e,this.to=t,this.number=i,this.text=s}get length(){return this.to-this.from}}function Nr(r,e,t){return e=Math.max(0,Math.min(r.length,e)),[e,Math.max(e,Math.min(r.length,t))]}function gs(r,e,t=!0,i=!0){return Sb(r,e,t,i)}function _b(r){return r>=56320&&r<57344}function Qb(r){return r>=55296&&r<56320}function Fs(r,e){let t=r.charCodeAt(e);if(!Qb(t)||e+1==r.length)return t;let i=r.charCodeAt(e+1);return _b(i)?(t-55296<<10)+(i-56320)+65536:t}function Eb(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}function mr(r){return r<65536?1:2}const Ll=/\r\n?|\n/;var ai=function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r}(ai||(ai={}));class ys{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,s=0;t<this.sections.length;){let n=this.sections[t++],a=this.sections[t++];a<0?(e(i,s,n),s+=n):s+=a,i+=n}}iterChangedRanges(e,t=!1){Dl(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];s<0?e.push(i,s):e.push(s,i)}return new ys(e)}composeDesc(e){return this.empty?e:e.empty?this:Qm(this,e)}mapDesc(e,t=!1){return e.empty?this:Rl(this,e,t)}mapPos(e,t=-1,i=ai.Simple){let s=0,n=0;for(let a=0;a<this.sections.length;){let o=this.sections[a++],l=this.sections[a++],h=s+o;if(l<0){if(h>e)return n+(e-s);n+=o}else{if(i!=ai.Simple&&h>=e&&(i==ai.TrackDel&&s<e&&h>e||i==ai.TrackBefore&&s<e||i==ai.TrackAfter&&h>e))return null;if(h>e||h==e&&t<0&&!o)return e==s||t<0?n:n+l;n+=l}s=h}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return n}touchesRange(e,t=e){for(let i=0,s=0;i<this.sections.length&&s<=t;){let n=this.sections[i++],a=this.sections[i++],o=s+n;if(a>=0&&s<=t&&o>=e)return s<e&&o>t?"cover":!0;s=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];e+=(e?" ":"")+i+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ys(e)}static create(e){return new ys(e)}}class Ht extends ys{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Dl(this,(t,i,s,n,a)=>e=e.replace(s,s+(i-t),a),!1),e}mapDesc(e,t=!1){return Rl(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let s=0,n=0;s<t.length;s+=2){let a=t[s],o=t[s+1];if(o>=0){t[s]=o,t[s+1]=a;let l=s>>1;for(;i.length<l;)i.push(tt.empty);i.push(a?e.slice(n,n+a):tt.empty)}n+=a}return new Ht(t,i)}compose(e){return this.empty?e:e.empty?this:Qm(this,e,!0)}map(e,t=!1){return e.empty?this:Rl(this,e,t,!0)}iterChanges(e,t=!1){Dl(this,e,t)}get desc(){return ys.create(this.sections)}filter(e){let t=[],i=[],s=[],n=new Cn(this);e:for(let a=0,o=0;;){let l=a==e.length?1e9:e[a++];for(;o<l||o==l&&n.len==0;){if(n.done)break e;let c=Math.min(n.len,l-o);ni(s,c,-1);let u=n.ins==-1?-1:n.off==0?n.ins:0;ni(t,c,u),u>0&&Ms(i,t,n.text),n.forward(c),o+=c}let h=e[a++];for(;o<h;){if(n.done)break e;let c=Math.min(n.len,h-o);ni(t,c,-1),ni(s,c,n.ins==-1?-1:n.off==0?n.ins:0),n.forward(c),o+=c}}return{changes:new Ht(t,i),filtered:ys.create(s)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],s=this.sections[t+1];s<0?e.push(i):s==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let s=[],n=[],a=0,o=null;function l(c=!1){if(!c&&!s.length)return;a<t&&ni(s,t-a,-1);let u=new Ht(s,n);o=o?o.compose(u.map(o)):u,s=[],n=[],a=0}function h(c){if(Array.isArray(c))for(let u of c)h(u);else if(c instanceof Ht){if(c.length!=t)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${t})`);l(),o=o?o.compose(c.map(o)):c}else{let{from:u,to:p=u,insert:m}=c;if(u>p||u<0||p>t)throw new RangeError(`Invalid change range ${u} to ${p} (in doc of length ${t})`);let g=m?typeof m=="string"?tt.of(m.split(i||Ll)):m:tt.empty,b=g.length;if(u==p&&b==0)return;u<a&&l(),u>a&&ni(s,u-a,-1),ni(s,p-u,b),Ms(n,s,g),a=p}}return h(e),l(!o),o}static empty(e){return new Ht(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let s=0;s<e.length;s++){let n=e[s];if(typeof n=="number")t.push(n,-1);else{if(!Array.isArray(n)||typeof n[0]!="number"||n.some((a,o)=>o&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(n.length==1)t.push(n[0],0);else{for(;i.length<s;)i.push(tt.empty);i[s]=tt.of(n.slice(1)),t.push(n[0],i[s].length)}}}return new Ht(t,i)}static createSet(e,t){return new Ht(e,t)}}function ni(r,e,t,i=!1){if(e==0&&t<=0)return;let s=r.length-2;s>=0&&t<=0&&t==r[s+1]?r[s]+=e:s>=0&&e==0&&r[s]==0?r[s+1]+=t:i?(r[s]+=e,r[s+1]+=t):r.push(e,t)}function Ms(r,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<r.length)r[r.length-1]=r[r.length-1].append(t);else{for(;r.length<i;)r.push(tt.empty);r.push(t)}}function Dl(r,e,t){let i=r.inserted;for(let s=0,n=0,a=0;a<r.sections.length;){let o=r.sections[a++],l=r.sections[a++];if(l<0)s+=o,n+=o;else{let h=s,c=n,u=tt.empty;for(;h+=o,c+=l,l&&i&&(u=u.append(i[a-2>>1])),!(t||a==r.sections.length||r.sections[a+1]<0);)o=r.sections[a++],l=r.sections[a++];e(s,h,n,c,u),s=h,n=c}}}function Rl(r,e,t,i=!1){let s=[],n=i?[]:null,a=new Cn(r),o=new Cn(e);for(let l=-1;;){if(a.done&&o.len||o.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&o.ins==-1){let h=Math.min(a.len,o.len);ni(s,h,-1),a.forward(h),o.forward(h)}else if(o.ins>=0&&(a.ins<0||l==a.i||a.off==0&&(o.len<a.len||o.len==a.len&&!t))){let h=o.len;for(ni(s,o.ins,-1);h;){let c=Math.min(a.len,h);a.ins>=0&&l<a.i&&a.len<=c&&(ni(s,0,a.ins),n&&Ms(n,s,a.text),l=a.i),a.forward(c),h-=c}o.next()}else if(a.ins>=0){let h=0,c=a.len;for(;c;)if(o.ins==-1){let u=Math.min(c,o.len);h+=u,c-=u,o.forward(u)}else if(o.ins==0&&o.len<c)c-=o.len,o.next();else break;ni(s,h,l<a.i?a.ins:0),n&&l<a.i&&Ms(n,s,a.text),l=a.i,a.forward(a.len-c)}else{if(a.done&&o.done)return n?Ht.createSet(s,n):ys.create(s);throw new Error("Mismatched change set lengths")}}}function Qm(r,e,t=!1){let i=[],s=t?[]:null,n=new Cn(r),a=new Cn(e);for(let o=!1;;){if(n.done&&a.done)return s?Ht.createSet(i,s):ys.create(i);if(n.ins==0)ni(i,n.len,0,o),n.next();else if(a.len==0&&!a.done)ni(i,0,a.ins,o),s&&Ms(s,i,a.text),a.next();else{if(n.done||a.done)throw new Error("Mismatched change set lengths");{let l=Math.min(n.len2,a.len),h=i.length;if(n.ins==-1){let c=a.ins==-1?-1:a.off?0:a.ins;ni(i,l,c,o),s&&c&&Ms(s,i,a.text)}else a.ins==-1?(ni(i,n.off?0:n.len,l,o),s&&Ms(s,i,n.textBit(l))):(ni(i,n.off?0:n.len,a.off?0:a.ins,o),s&&!a.off&&Ms(s,i,a.text));o=(n.ins>l||a.ins>=0&&a.len>l)&&(o||i.length>h),n.forward2(l),a.forward(l)}}}}class Cn{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?tt.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?tt.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Gs{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,s;return this.empty?i=s=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),i==this.from&&s==this.to?this:new Gs(i,s,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Oe.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Oe.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Oe.range(e.anchor,e.head)}static create(e,t,i){return new Gs(e,t,i)}}class Oe{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Oe.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Oe([this.main],0)}addRange(e,t=!0){return Oe.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,Oe.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Oe(e.ranges.map(t=>Gs.fromJSON(t)),e.main)}static single(e,t=e){return new Oe([Oe.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,s=0;s<e.length;s++){let n=e[s];if(n.empty?n.from<=i:n.from<i)return Oe.normalized(e.slice(),t);i=n.to}return new Oe(e,t)}static cursor(e,t=0,i,s){return Gs.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(s!=null?s:16777215)<<6)}static range(e,t,i,s){let n=(i!=null?i:16777215)<<6|(s==null?7:Math.min(6,s));return t<e?Gs.create(t,e,48|n):Gs.create(e,t,(t>e?8:0)|n)}static normalized(e,t=0){let i=e[t];e.sort((s,n)=>s.from-n.from),t=e.indexOf(i);for(let s=1;s<e.length;s++){let n=e[s],a=e[s-1];if(n.empty?n.from<=a.to:n.from<a.to){let o=a.from,l=Math.max(n.to,a.to);s<=t&&t--,e.splice(--s,2,n.anchor>n.head?Oe.range(l,o):Oe.range(o,l))}}return new Oe(e,t)}}function Em(r,e){for(let t of r.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Lh=0;class ye{constructor(e,t,i,s,n){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=s,this.id=Lh++,this.default=e([]),this.extensions=typeof n=="function"?n(this):n}get reader(){return this}static define(e={}){return new ye(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:Dh),!!e.static,e.enables)}of(e){return new Ea([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ea(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ea(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function Dh(r,e){return r==e||r.length==e.length&&r.every((t,i)=>t===e[i])}class Ea{constructor(e,t,i,s){this.dependencies=e,this.facet=t,this.type=i,this.value=s,this.id=Lh++}dynamicSlot(e){var t;let i=this.value,s=this.facet.compareInput,n=this.id,a=e[n]>>1,o=this.type==2,l=!1,h=!1,c=[];for(let u of this.dependencies)u=="doc"?l=!0:u=="selection"?h=!0:(((t=e[u.id])!==null&&t!==void 0?t:1)&1)==0&&c.push(e[u.id]);return{create(u){return u.values[a]=i(u),1},update(u,p){if(l&&p.docChanged||h&&(p.docChanged||p.selection)||Zl(u,c)){let m=i(u);if(o?!ff(m,u.values[a],s):!s(m,u.values[a]))return u.values[a]=m,1}return 0},reconfigure:(u,p)=>{let m,g=p.config.address[n];if(g!=null){let b=to(p,g);if(this.dependencies.every(w=>w instanceof ye?p.facet(w)===u.facet(w):w instanceof Ci?p.field(w,!1)==u.field(w,!1):!0)||(o?ff(m=i(u),b,s):s(m=i(u),b)))return u.values[a]=b,0}else m=i(u);return u.values[a]=m,1}}}}function ff(r,e,t){if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(!t(r[i],e[i]))return!1;return!0}function Zl(r,e){let t=!1;for(let i of e)wn(r,i)&1&&(t=!0);return t}function Ib(r,e,t){let i=t.map(l=>r[l.id]),s=t.map(l=>l.type),n=i.filter(l=>!(l&1)),a=r[e.id]>>1;function o(l){let h=[];for(let c=0;c<i.length;c++){let u=to(l,i[c]);if(s[c]==2)for(let p of u)h.push(p);else h.push(u)}return e.combine(h)}return{create(l){for(let h of i)wn(l,h);return l.values[a]=o(l),1},update(l,h){if(!Zl(l,n))return 0;let c=o(l);return e.compare(c,l.values[a])?0:(l.values[a]=c,1)},reconfigure(l,h){let c=Zl(l,i),u=h.config.facets[e.id],p=h.facet(e);if(u&&!c&&Dh(t,u))return l.values[a]=p,0;let m=o(l);return e.compare(m,p)?(l.values[a]=p,0):(l.values[a]=m,1)}}}const pf=ye.define({static:!0});class Ci{constructor(e,t,i,s,n){this.id=e,this.createF=t,this.updateF=i,this.compareF=s,this.spec=n,this.provides=void 0}static define(e){let t=new Ci(Lh++,e.create,e.update,e.compare||((i,s)=>i===s),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(pf).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,s)=>{let n=i.values[t],a=this.updateF(n,s);return this.compareF(n,a)?0:(i.values[t]=a,1)},reconfigure:(i,s)=>s.config.address[this.id]!=null?(i.values[t]=s.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,pf.of({field:this,create:e})]}get extension(){return this}}const Hs={lowest:4,low:3,default:2,high:1,highest:0};function Hr(r){return e=>new Im(e,r)}const Vr={highest:Hr(Hs.highest),high:Hr(Hs.high),default:Hr(Hs.default),low:Hr(Hs.low),lowest:Hr(Hs.lowest)};class Im{constructor(e,t){this.inner=e,this.prec=t}}class _o{of(e){return new jl(this,e)}reconfigure(e){return _o.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class jl{constructor(e,t){this.compartment=e,this.inner=t}}class eo{constructor(e,t,i,s,n,a){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=s,this.staticValues=n,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let s=[],n=Object.create(null),a=new Map;for(let p of Mb(e,t,a))p instanceof Ci?s.push(p):(n[p.facet.id]||(n[p.facet.id]=[])).push(p);let o=Object.create(null),l=[],h=[];for(let p of s)o[p.id]=h.length<<1,h.push(m=>p.slot(m));let c=i==null?void 0:i.config.facets;for(let p in n){let m=n[p],g=m[0].facet,b=c&&c[p]||[];if(m.every(w=>w.type==0))if(o[g.id]=l.length<<1|1,Dh(b,m))l.push(i.facet(g));else{let w=g.combine(m.map(y=>y.value));l.push(i&&g.compare(w,i.facet(g))?i.facet(g):w)}else{for(let w of m)w.type==0?(o[w.id]=l.length<<1|1,l.push(w.value)):(o[w.id]=h.length<<1,h.push(y=>w.dynamicSlot(y)));o[g.id]=h.length<<1,h.push(w=>Ib(w,g,m))}}let u=h.map(p=>p(o));return new eo(e,a,u,o,l,n)}}function Mb(r,e,t){let i=[[],[],[],[],[]],s=new Map;function n(a,o){let l=s.get(a);if(l!=null){if(l<=o)return;let h=i[l].indexOf(a);h>-1&&i[l].splice(h,1),a instanceof jl&&t.delete(a.compartment)}if(s.set(a,o),Array.isArray(a))for(let h of a)n(h,o);else if(a instanceof jl){if(t.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(a.compartment)||a.inner;t.set(a.compartment,h),n(h,o)}else if(a instanceof Im)n(a.inner,a.prec);else if(a instanceof Ci)i[o].push(a),a.provides&&n(a.provides,o);else if(a instanceof Ea)i[o].push(a),a.facet.extensions&&n(a.facet.extensions,Hs.default);else{let h=a.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);n(h,o)}}return n(r,Hs.default),i.reduce((a,o)=>a.concat(o))}function wn(r,e){if(e&1)return 2;let t=e>>1,i=r.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;r.status[t]=4;let s=r.computeSlot(r,r.config.dynamicSlots[t]);return r.status[t]=2|s}function to(r,e){return e&1?r.config.staticValues[e>>1]:r.values[e>>1]}const Mm=ye.define(),Bl=ye.define({combine:r=>r.some(e=>e),static:!0}),$m=ye.define({combine:r=>r.length?r[0]:void 0,static:!0}),Nm=ye.define(),Lm=ye.define(),Dm=ye.define(),Rm=ye.define({combine:r=>r.length?r[0]:!1});class cr{constructor(e,t){this.type=e,this.value=t}static define(){return new $b}}class $b{of(e){return new cr(this,e)}}class Nb{constructor(e){this.map=e}of(e){return new Ge(this,e)}}class Ge{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Ge(this.type,t)}is(e){return this.type==e}static define(e={}){return new Nb(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let s of e){let n=s.map(t);n&&i.push(n)}return i}}Ge.reconfigure=Ge.define();Ge.appendConfig=Ge.define();class ii{constructor(e,t,i,s,n,a){this.startState=e,this.changes=t,this.selection=i,this.effects=s,this.annotations=n,this.scrollIntoView=a,this._doc=null,this._state=null,i&&Em(i,t.newLength),n.some(o=>o.type==ii.time)||(this.annotations=n.concat(ii.time.of(Date.now())))}static create(e,t,i,s,n,a){return new ii(e,t,i,s,n,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(ii.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}ii.time=cr.define();ii.userEvent=cr.define();ii.addToHistory=cr.define();ii.remote=cr.define();function Lb(r,e){let t=[];for(let i=0,s=0;;){let n,a;if(i<r.length&&(s==e.length||e[s]>=r[i]))n=r[i++],a=r[i++];else if(s<e.length)n=e[s++],a=e[s++];else return t;!t.length||t[t.length-1]<n?t.push(n,a):t[t.length-1]<a&&(t[t.length-1]=a)}}function Zm(r,e,t){var i;let s,n,a;return t?(s=e.changes,n=Ht.empty(e.changes.length),a=r.changes.compose(e.changes)):(s=e.changes.map(r.changes),n=r.changes.mapDesc(e.changes,!0),a=r.changes.compose(s)),{changes:a,selection:e.selection?e.selection.map(n):(i=r.selection)===null||i===void 0?void 0:i.map(s),effects:Ge.mapEffects(r.effects,s).concat(Ge.mapEffects(e.effects,n)),annotations:r.annotations.length?r.annotations.concat(e.annotations):e.annotations,scrollIntoView:r.scrollIntoView||e.scrollIntoView}}function Xl(r,e,t){let i=e.selection,s=Ar(e.annotations);return e.userEvent&&(s=s.concat(ii.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ht?e.changes:Ht.of(e.changes||[],t,r.facet($m)),selection:i&&(i instanceof Oe?i:Oe.single(i.anchor,i.head)),effects:Ar(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function jm(r,e,t){let i=Xl(r,e.length?e[0]:{},r.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let n=1;n<e.length;n++){e[n].filter===!1&&(t=!1);let a=!!e[n].sequential;i=Zm(i,Xl(r,e[n],a?i.changes.newLength:r.doc.length),a)}let s=ii.create(r,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return Rb(t?Db(s):s)}function Db(r){let e=r.startState,t=!0;for(let s of e.facet(Nm)){let n=s(r);if(n===!1){t=!1;break}Array.isArray(n)&&(t=t===!0?n:Lb(t,n))}if(t!==!0){let s,n;if(t===!1)n=r.changes.invertedDesc,s=Ht.empty(e.doc.length);else{let a=r.changes.filter(t);s=a.changes,n=a.filtered.mapDesc(a.changes).invertedDesc}r=ii.create(e,s,r.selection&&r.selection.map(n),Ge.mapEffects(r.effects,n),r.annotations,r.scrollIntoView)}let i=e.facet(Lm);for(let s=i.length-1;s>=0;s--){let n=i[s](r);n instanceof ii?r=n:Array.isArray(n)&&n.length==1&&n[0]instanceof ii?r=n[0]:r=jm(e,Ar(n),!1)}return r}function Rb(r){let e=r.startState,t=e.facet(Dm),i=r;for(let s=t.length-1;s>=0;s--){let n=t[s](r);n&&Object.keys(n).length&&(i=Zm(i,Xl(e,n,r.changes.newLength),!0))}return i==r?r:ii.create(e,r.changes,r.selection,i.effects,i.annotations,i.scrollIntoView)}const Zb=[];function Ar(r){return r==null?Zb:Array.isArray(r)?r:[r]}var Os=function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r}(Os||(Os={}));const jb=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let ql;try{ql=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Bb(r){if(ql)return ql.test(r);for(let e=0;e<r.length;e++){let t=r[e];if(/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||jb.test(t)))return!0}return!1}function Xb(r){return e=>{if(!/\S/.test(e))return Os.Space;if(Bb(e))return Os.Word;for(let t=0;t<r.length;t++)if(e.indexOf(r[t])>-1)return Os.Word;return Os.Other}}class et{constructor(e,t,i,s,n,a){this.config=e,this.doc=t,this.selection=i,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=n,a&&(a._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)wn(this,o<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return wn(this,i),to(this,i)}update(...e){return jm(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:s}=t;for(let o of e.effects)o.is(_o.reconfigure)?(t&&(s=new Map,t.compartments.forEach((l,h)=>s.set(h,l)),t=null),s.set(o.value.compartment,o.value.extension)):o.is(Ge.reconfigure)?(t=null,i=o.value):o.is(Ge.appendConfig)&&(t=null,i=Ar(i).concat(o.value));let n;t?n=e.startState.values.slice():(t=eo.resolve(i,s,this),n=new et(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,h)=>h.reconfigure(l,this),null).values);let a=e.startState.facet(Bl)?e.newSelection:e.newSelection.asSingle();new et(t,e.newDoc,a,n,(o,l)=>l.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Oe.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),s=this.changes(i.changes),n=[i.range],a=Ar(i.effects);for(let o=1;o<t.ranges.length;o++){let l=e(t.ranges[o]),h=this.changes(l.changes),c=h.map(s);for(let p=0;p<o;p++)n[p]=n[p].map(c);let u=s.mapDesc(h,!0);n.push(l.range.map(u)),s=s.compose(c),a=Ge.mapEffects(a,c).concat(Ge.mapEffects(Ar(l.effects),u))}return{changes:s,selection:Oe.create(n,t.mainIndex),effects:a}}changes(e=[]){return e instanceof Ht?e:Ht.of(e,this.doc.length,this.facet(et.lineSeparator))}toText(e){return tt.of(e.split(this.facet(et.lineSeparator)||Ll))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(wn(this,t),to(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let s=e[i];s instanceof Ci&&this.config.address[s.id]!=null&&(t[i]=s.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(i){for(let n in i)if(Object.prototype.hasOwnProperty.call(e,n)){let a=i[n],o=e[n];s.push(a.init(l=>a.spec.fromJSON(o,l)))}}return et.create({doc:e.doc,selection:Oe.fromJSON(e.selection),extensions:t.extensions?s.concat([t.extensions]):s})}static create(e={}){let t=eo.resolve(e.extensions||[],new Map),i=e.doc instanceof tt?e.doc:tt.of((e.doc||"").split(t.staticFacet(et.lineSeparator)||Ll)),s=e.selection?e.selection instanceof Oe?e.selection:Oe.single(e.selection.anchor,e.selection.head):Oe.single(0);return Em(s,i.length),t.staticFacet(Bl)||(s=s.asSingle()),new et(t,i,s,t.dynamicSlots.map(()=>null),(n,a)=>a.create(n),null)}get tabSize(){return this.facet(et.tabSize)}get lineBreak(){return this.facet(et.lineSeparator)||`
`}get readOnly(){return this.facet(Rm)}phrase(e,...t){for(let i of this.facet(et.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,s)=>{if(s=="$")return"$";let n=+(s||1);return!n||n>t.length?i:t[n-1]})),e}languageDataAt(e,t,i=-1){let s=[];for(let n of this.facet(Mm))for(let a of n(this,t,i))Object.prototype.hasOwnProperty.call(a,e)&&s.push(a[e]);return s}charCategorizer(e){return Xb(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:s}=this.doc.lineAt(e),n=this.charCategorizer(e),a=e-i,o=e-i;for(;a>0;){let l=gs(t,a,!1);if(n(t.slice(l,a))!=Os.Word)break;a=l}for(;o<s;){let l=gs(t,o);if(n(t.slice(o,l))!=Os.Word)break;o=l}return a==o?null:Oe.range(a+i,o+i)}}et.allowMultipleSelections=Bl;et.tabSize=ye.define({combine:r=>r.length?r[0]:4});et.lineSeparator=$m;et.readOnly=Rm;et.phrases=ye.define({compare(r,e){let t=Object.keys(r),i=Object.keys(e);return t.length==i.length&&t.every(s=>r[s]==e[s])}});et.languageData=Mm;et.changeFilter=Nm;et.transactionFilter=Lm;et.transactionExtender=Dm;_o.reconfigure=Ge.define();function Qo(r,e,t={}){let i={};for(let s of r)for(let n of Object.keys(s)){let a=s[n],o=i[n];if(o===void 0)i[n]=a;else if(!(o===a||a===void 0))if(Object.hasOwnProperty.call(t,n))i[n]=t[n](o,a);else throw new Error("Config merge conflict for field "+n)}for(let s in e)i[s]===void 0&&(i[s]=e[s]);return i}class sr{eq(e){return this==e}range(e,t=e){return _n.create(e,t,this)}}sr.prototype.startSide=sr.prototype.endSide=0;sr.prototype.point=!1;sr.prototype.mapMode=ai.TrackDel;class _n{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new _n(e,t,i)}}function zl(r,e){return r.from-e.from||r.value.startSide-e.value.startSide}class Rh{constructor(e,t,i,s){this.from=e,this.to=t,this.value=i,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,s=0){let n=i?this.to:this.from;for(let a=s,o=n.length;;){if(a==o)return a;let l=a+o>>1,h=n[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-t;if(l==a)return h>=0?a:o;h>=0?o=l:a=l+1}}between(e,t,i,s){for(let n=this.findIndex(t,-1e9,!0),a=this.findIndex(i,1e9,!1,n);n<a;n++)if(s(this.from[n]+e,this.to[n]+e,this.value[n])===!1)return!1}map(e,t){let i=[],s=[],n=[],a=-1,o=-1;for(let l=0;l<this.value.length;l++){let h=this.value[l],c=this.from[l]+e,u=this.to[l]+e,p,m;if(c==u){let g=t.mapPos(c,h.startSide,h.mapMode);if(g==null||(p=m=g,h.startSide!=h.endSide&&(m=t.mapPos(c,h.endSide),m<p)))continue}else if(p=t.mapPos(c,h.startSide),m=t.mapPos(u,h.endSide),p>m||p==m&&h.startSide>0&&h.endSide<=0)continue;(m-p||h.endSide-h.startSide)<0||(a<0&&(a=p),h.point&&(o=Math.max(o,m-p)),i.push(h),s.push(p-a),n.push(m-a))}return{mapped:i.length?new Rh(s,n,i,o):null,pos:a}}}class Je{constructor(e,t,i,s){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=s}static create(e,t,i,s){return new Je(e,t,i,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:s=0,filterTo:n=this.length}=e,a=e.filter;if(t.length==0&&!a)return this;if(i&&(t=t.slice().sort(zl)),this.isEmpty)return t.length?Je.of(t):this;let o=new Bm(this,null,-1).goto(0),l=0,h=[],c=new Lr;for(;o.value||l<t.length;)if(l<t.length&&(o.from-t[l].from||o.startSide-t[l].value.startSide)>=0){let u=t[l++];c.addInner(u.from,u.to,u.value)||h.push(u)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(o.chunkIndex)<t[l].from)&&(!a||s>this.chunkEnd(o.chunkIndex)||n<this.chunkPos[o.chunkIndex])&&c.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!a||s>o.to||n<o.from||a(o.from,o.to,o.value))&&(c.addInner(o.from,o.to,o.value)||h.push(_n.create(o.from,o.to,o.value))),o.next());return c.finishInner(this.nextLayer.isEmpty&&!h.length?Je.empty:this.nextLayer.update({add:h,filter:a,filterFrom:s,filterTo:n}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],s=-1;for(let a=0;a<this.chunk.length;a++){let o=this.chunkPos[a],l=this.chunk[a],h=e.touchesRange(o,o+l.length);if(h===!1)s=Math.max(s,l.maxPoint),t.push(l),i.push(e.mapPos(o));else if(h===!0){let{mapped:c,pos:u}=l.map(o,e);c&&(s=Math.max(s,c.maxPoint),t.push(c),i.push(u))}}let n=this.nextLayer.map(e);return t.length==0?n:new Je(i,t,n||Je.empty,s)}between(e,t,i){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let n=this.chunkPos[s],a=this.chunk[s];if(t>=n&&e<=n+a.length&&a.between(n,e-n,t-n,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return Qn.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Qn.from(e).goto(t)}static compare(e,t,i,s,n=-1){let a=e.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=n),o=t.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=n),l=df(a,o,i),h=new Yr(a,l,n),c=new Yr(o,l,n);i.iterGaps((u,p,m)=>mf(h,u,c,p,m,s)),i.empty&&i.length==0&&mf(h,0,c,0,0,s)}static eq(e,t,i=0,s){s==null&&(s=1e9-1);let n=e.filter(c=>!c.isEmpty&&t.indexOf(c)<0),a=t.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(n.length!=a.length)return!1;if(!n.length)return!0;let o=df(n,a),l=new Yr(n,o,0).goto(i),h=new Yr(a,o,0).goto(i);for(;;){if(l.to!=h.to||!Ul(l.active,h.active)||l.point&&(!h.point||!l.point.eq(h.point)))return!1;if(l.to>s)return!0;l.next(),h.next()}}static spans(e,t,i,s,n=-1){let a=new Yr(e,null,n).goto(t),o=t,l=a.openStart;for(;;){let h=Math.min(a.to,i);if(a.point){let c=a.activeForPoint(a.to),u=a.pointFrom<t?c.length+1:a.point.startSide<0?c.length:Math.min(c.length,l);s.point(o,h,a.point,c,u,a.pointRank),l=Math.min(a.openEnd(h),c.length)}else h>o&&(s.span(o,h,a.active,l),l=a.openEnd(h));if(a.to>i)return l+(a.point&&a.to>i?1:0);o=a.to,a.next()}}static of(e,t=!1){let i=new Lr;for(let s of e instanceof _n?[e]:t?qb(e):e)i.add(s.from,s.to,s.value);return i.finish()}static join(e){if(!e.length)return Je.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let s=e[i];s!=Je.empty;s=s.nextLayer)t=new Je(s.chunkPos,s.chunk,t,Math.max(s.maxPoint,t.maxPoint));return t}}Je.empty=new Je([],[],null,-1);function qb(r){if(r.length>1)for(let e=r[0],t=1;t<r.length;t++){let i=r[t];if(zl(e,i)>0)return r.slice().sort(zl);e=i}return r}Je.empty.nextLayer=Je.empty;class Lr{finishChunk(e){this.chunks.push(new Rh(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Lr)).add(e,t,i)}addInner(e,t,i){let s=e-this.lastTo||i.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Je.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Je.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function df(r,e,t){let i=new Map;for(let n of r)for(let a=0;a<n.chunk.length;a++)n.chunk[a].maxPoint<=0&&i.set(n.chunk[a],n.chunkPos[a]);let s=new Set;for(let n of e)for(let a=0;a<n.chunk.length;a++){let o=i.get(n.chunk[a]);o!=null&&(t?t.mapPos(o):o)==n.chunkPos[a]&&!(t!=null&&t.touchesRange(o,o+n.chunk[a].length))&&s.add(n.chunk[a])}return s}class Bm{constructor(e,t,i,s=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Qn{constructor(e){this.heap=e}static from(e,t=null,i=-1){let s=[];for(let n=0;n<e.length;n++)for(let a=e[n];!a.isEmpty;a=a.nextLayer)a.maxPoint>=i&&s.push(new Bm(a,t,i,n));return s.length==1?s[0]:new Qn(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)Yo(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)Yo(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Yo(this.heap,0)}}}function Yo(r,e){for(let t=r[e];;){let i=(e<<1)+1;if(i>=r.length)break;let s=r[i];if(i+1<r.length&&s.compare(r[i+1])>=0&&(s=r[i+1],i++),t.compare(s)<0)break;r[i]=t,r[e]=s,e=i}}class Yr{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Qn.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){ra(this.active,e),ra(this.activeTo,e),ra(this.activeRank,e),this.minActive=gf(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:s,rank:n}=this.cursor;for(;t<this.activeRank.length&&(n-this.activeRank[t]||s-this.activeTo[t])>0;)t++;na(this.active,t,i),na(this.activeTo,t,s),na(this.activeRank,t,n),e&&na(e,t,this.cursor.from),this.minActive=gf(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),i&&ra(i,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let n=this.cursor.value;if(!n.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=n,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=n.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let s=i.length-1;s>=0&&i[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function mf(r,e,t,i,s,n){r.goto(e),t.goto(i);let a=i+s,o=i,l=i-e;for(;;){let h=r.to+l-t.to,c=h||r.endSide-t.endSide,u=c<0?r.to+l:t.to,p=Math.min(u,a);if(r.point||t.point?r.point&&t.point&&(r.point==t.point||r.point.eq(t.point))&&Ul(r.activeForPoint(r.to),t.activeForPoint(t.to))||n.comparePoint(o,p,r.point,t.point):p>o&&!Ul(r.active,t.active)&&n.compareRange(o,p,r.active,t.active),u>a)break;(h||r.openEnd!=t.openEnd)&&n.boundChange&&n.boundChange(u),o=u,c<=0&&r.next(),c>=0&&t.next()}}function Ul(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!=e[t]&&!r[t].eq(e[t]))return!1;return!0}function ra(r,e){for(let t=e,i=r.length-1;t<i;t++)r[t]=r[t+1];r.pop()}function na(r,e,t){for(let i=r.length-1;i>=e;i--)r[i+1]=r[i];r[e]=t}function gf(r,e){let t=-1,i=1e9;for(let s=0;s<e.length;s++)(e[s]-i||r[s].endSide-r[t].endSide)<0&&(t=s,i=e[s]);return t}function zb(r,e,t,i){for(let s=0,n=0;;){if(n>=e)return s;if(s==r.length)break;n+=r.charCodeAt(s)==9?t-n%t:1,s=gs(r,s)}return i===!0?-1:r.length}const Vl="\u037C",Of=typeof Symbol=="undefined"?"__"+Vl:Symbol.for(Vl),Fl=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),bf=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{};class js{constructor(e,t){this.rules=[];let{finish:i}=t||{};function s(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function n(a,o,l,h){let c=[],u=/^@(\w+)\b/.exec(a[0]),p=u&&u[1]=="keyframes";if(u&&o==null)return l.push(a[0]+";");for(let m in o){let g=o[m];if(/&/.test(m))n(m.split(/,\s*/).map(b=>a.map(w=>b.replace(/&/,w))).reduce((b,w)=>b.concat(w)),g,l);else if(g&&typeof g=="object"){if(!u)throw new RangeError("The value of a property ("+m+") should be a primitive value.");n(s(m),g,c,p)}else g!=null&&c.push(m.replace(/_.*/,"").replace(/[A-Z]/g,b=>"-"+b.toLowerCase())+": "+g+";")}(c.length||p)&&l.push((i&&!u&&!h?a.map(i):a).join(", ")+" {"+c.join(" ")+"}")}for(let a in e)n(s(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=bf[Of]||1;return bf[Of]=e+1,Vl+e.toString(36)}static mount(e,t,i){let s=e[Fl],n=i&&i.nonce;s?n&&s.setNonce(n):s=new Ub(e,n),s.mount(Array.isArray(t)?t:[t],e)}}let yf=new Map;class Ub{constructor(e,t){let i=e.ownerDocument||e,s=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let n=yf.get(i);if(n)return e[Fl]=n;this.sheet=new s.CSSStyleSheet,yf.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[Fl]=this}mount(e,t){let i=this.sheet,s=0,n=0;for(let a=0;a<e.length;a++){let o=e[a],l=this.modules.indexOf(o);if(l<n&&l>-1&&(this.modules.splice(l,1),n--,l=-1),l==-1){if(this.modules.splice(n++,0,o),i)for(let h=0;h<o.rules.length;h++)i.insertRule(o.rules[h],s++)}else{for(;n<l;)s+=this.modules[n++].rules.length;s+=o.rules.length,n++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let a="";for(let l=0;l<this.modules.length;l++)a+=this.modules[l].getRules()+`
`;this.styleTag.textContent=a;let o=t.head||t;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Bs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},En={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Vb=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),Fb=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ti=0;ti<10;ti++)Bs[48+ti]=Bs[96+ti]=String(ti);for(var ti=1;ti<=24;ti++)Bs[ti+111]="F"+ti;for(var ti=65;ti<=90;ti++)Bs[ti]=String.fromCharCode(ti+32),En[ti]=String.fromCharCode(ti);for(var Go in Bs)En.hasOwnProperty(Go)||(En[Go]=Bs[Go]);function Wb(r){var e=Vb&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||Fb&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?En:Bs)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function In(r){let e;return r.nodeType==11?e=r.getSelection?r:r.ownerDocument:e=r,e.getSelection()}function Wl(r,e){return e?r==e||r.contains(e.nodeType!=1?e.parentNode:e):!1}function Ia(r,e){if(!e.anchorNode)return!1;try{return Wl(r,e.anchorNode)}catch{return!1}}function Mn(r){return r.nodeType==3?nr(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function vn(r,e,t,i){return t?wf(r,e,t,i,-1)||wf(r,e,t,i,1):!1}function rr(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e}function io(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}function wf(r,e,t,i,s){for(;;){if(r==t&&e==i)return!0;if(e==(s<0?0:ls(r))){if(r.nodeName=="DIV")return!1;let n=r.parentNode;if(!n||n.nodeType!=1)return!1;e=rr(r)+(s<0?0:1),r=n}else if(r.nodeType==1){if(r=r.childNodes[e+(s<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;e=s<0?ls(r):0}else return!1}}function ls(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Eo(r,e){let t=e?r.left:r.right;return{left:t,right:t,top:r.top,bottom:r.bottom}}function Hb(r){let e=r.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function Xm(r,e){let t=e.width/r.offsetWidth,i=e.height/r.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-r.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-r.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function Yb(r,e,t,i,s,n,a,o){let l=r.ownerDocument,h=l.defaultView||window;for(let c=r,u=!1;c&&!u;)if(c.nodeType==1){let p,m=c==l.body,g=1,b=1;if(m)p=Hb(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(u=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let v=c.getBoundingClientRect();({scaleX:g,scaleY:b}=Xm(c,v)),p={left:v.left,right:v.left+c.clientWidth*g,top:v.top,bottom:v.top+c.clientHeight*b}}let w=0,y=0;if(s=="nearest")e.top<p.top?(y=-(p.top-e.top+a),t>0&&e.bottom>p.bottom+y&&(y=e.bottom-p.bottom+y+a)):e.bottom>p.bottom&&(y=e.bottom-p.bottom+a,t<0&&e.top-y<p.top&&(y=-(p.top+y-e.top+a)));else{let v=e.bottom-e.top,T=p.bottom-p.top;y=(s=="center"&&v<=T?e.top+v/2-T/2:s=="start"||s=="center"&&t<0?e.top-a:e.bottom-T+a)-p.top}if(i=="nearest"?e.left<p.left?(w=-(p.left-e.left+n),t>0&&e.right>p.right+w&&(w=e.right-p.right+w+n)):e.right>p.right&&(w=e.right-p.right+n,t<0&&e.left<p.left+w&&(w=-(p.left+w-e.left+n))):w=(i=="center"?e.left+(e.right-e.left)/2-(p.right-p.left)/2:i=="start"==o?e.left-n:e.right-(p.right-p.left)+n)-p.left,w||y)if(m)h.scrollBy(w,y);else{let v=0,T=0;if(y){let x=c.scrollTop;c.scrollTop+=y/b,T=(c.scrollTop-x)*b}if(w){let x=c.scrollLeft;c.scrollLeft+=w/g,v=(c.scrollLeft-x)*g}e={left:e.left-v,top:e.top-T,right:e.right-v,bottom:e.bottom-T},v&&Math.abs(v-w)<1&&(i="nearest"),T&&Math.abs(T-y)<1&&(s="nearest")}if(m)break;c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function Gb(r){let e=r.ownerDocument,t,i;for(let s=r.parentNode;s&&!(s==e.body||t&&i);)if(s.nodeType==1)!i&&s.scrollHeight>s.clientHeight&&(i=s),!t&&s.scrollWidth>s.clientWidth&&(t=s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;return{x:t,y:i}}class Kb{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?ls(t):0),i,Math.min(e.focusOffset,i?ls(i):0))}set(e,t,i,s){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=s}}let pr=null;function qm(r){if(r.setActive)return r.setActive();if(pr)return r.focus(pr);let e=[];for(let t=r;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(r.focus(pr==null?{get preventScroll(){return pr={preventScroll:!0},!0}}:void 0),!pr){pr=!1;for(let t=0;t<e.length;){let i=e[t++],s=e[t++],n=e[t++];i.scrollTop!=s&&(i.scrollTop=s),i.scrollLeft!=n&&(i.scrollLeft=n)}}}let vf;function nr(r,e,t=e){let i=vf||(vf=document.createRange());return i.setEnd(r,t),i.setStart(r,e),i}function Tr(r,e,t,i){let s={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=i);let n=new KeyboardEvent("keydown",s);n.synthetic=!0,r.dispatchEvent(n);let a=new KeyboardEvent("keyup",s);return a.synthetic=!0,r.dispatchEvent(a),n.defaultPrevented||a.defaultPrevented}function Jb(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function zm(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}function ey(r,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,ls(t));;)if(i){if(t.nodeType!=1)return!1;let s=t.childNodes[i-1];s.contentEditable=="false"?i--:(t=s,i=ls(t))}else{if(t==r)return!0;i=rr(t),t=t.parentNode}}function Um(r){return r.scrollTop>Math.max(1,r.scrollHeight-r.clientHeight-4)}function Vm(r,e){for(let t=r,i=e;;){if(t.nodeType==3&&i>0)return{node:t,offset:i};if(t.nodeType==1&&i>0){if(t.contentEditable=="false")return null;t=t.childNodes[i-1],i=ls(t)}else if(t.parentNode&&!io(t))i=rr(t),t=t.parentNode;else return null}}function Fm(r,e){for(let t=r,i=e;;){if(t.nodeType==3&&i<t.nodeValue.length)return{node:t,offset:i};if(t.nodeType==1&&i<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[i],i=0}else if(t.parentNode&&!io(t))i=rr(t)+1,t=t.parentNode;else return null}}class oi{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new oi(e.parentNode,rr(e),t)}static after(e,t){return new oi(e.parentNode,rr(e)+1,t)}}const Zh=[];class yt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let i=this.dom,s=null,n;for(let a of this.children){if(a.flags&7){if(!a.dom&&(n=s?s.nextSibling:i.firstChild)){let o=yt.get(n);(!o||!o.parent&&o.canReuseDOM(a))&&a.reuseDOM(n)}a.sync(e,t),a.flags&=-8}if(n=s?s.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&n!=a.dom&&(t.written=!0),a.dom.parentNode==i)for(;n&&n!=a.dom;)n=xf(n);else i.insertBefore(a.dom,n);s=a.dom}for(n=s?s.nextSibling:i.firstChild,n&&t&&t.node==i&&(t.written=!0);n;)n=xf(n)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let s=ls(e)==0?0:t==0?-1:1;for(;;){let n=e.parentNode;if(n==this.dom)break;s==0&&n.firstChild!=n.lastChild&&(e==n.firstChild?s=-1:s=1),e=n}s<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!yt.get(i);)i=i.nextSibling;if(!i)return this.length;for(let s=0,n=0;;s++){let a=this.children[s];if(a.dom==i)return n;n+=a.length+a.breakAfter}}domBoundsAround(e,t,i=0){let s=-1,n=-1,a=-1,o=-1;for(let l=0,h=i,c=i;l<this.children.length;l++){let u=this.children[l],p=h+u.length;if(h<e&&p>t)return u.domBoundsAround(e,t,h);if(p>=e&&s==-1&&(s=l,n=h),h>t&&u.dom.parentNode==this.dom){a=l,o=c;break}c=p,h=p+u.breakAfter}return{from:n,to:o<0?i+this.length:o,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=Zh){this.markDirty();for(let s=e;s<t;s++){let n=this.children[s];n.parent==this&&i.indexOf(n)<0&&n.destroy()}i.length<250?this.children.splice(e,t-e,...i):this.children=[].concat(this.children.slice(0,e),i,this.children.slice(t));for(let s=0;s<i.length;s++)i[s].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Wm(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,s,n,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}yt.prototype.breakAfter=0;function xf(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class Wm{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function Hm(r,e,t,i,s,n,a,o,l){let{children:h}=r,c=h.length?h[e]:null,u=n.length?n[n.length-1]:null,p=u?u.breakAfter:a;if(!(e==i&&c&&!a&&!p&&n.length<2&&c.merge(t,s,n.length?u:null,t==0,o,l))){if(i<h.length){let m=h[i];m&&(s<m.length||m.breakAfter&&(u==null?void 0:u.breakAfter))?(e==i&&(m=m.split(s),s=0),!p&&u&&m.merge(0,s,u,!0,0,l)?n[n.length-1]=m:((s||m.children.length&&!m.children[0].length)&&m.merge(0,s,null,!1,0,l),n.push(m))):m!=null&&m.breakAfter&&(u?u.breakAfter=1:a=1),i++}for(c&&(c.breakAfter=a,t>0&&(!a&&n.length&&c.merge(t,c.length,n[0],!1,o,0)?c.breakAfter=n.shift().breakAfter:(t<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(t,c.length,null,!1,o,0),e++));e<i&&n.length;)if(h[i-1].become(n[n.length-1]))i--,n.pop(),l=n.length?0:o;else if(h[e].become(n[0]))e++,n.shift(),o=n.length?0:l;else break;!n.length&&e&&i<h.length&&!h[e-1].breakAfter&&h[i].merge(0,0,h[e-1],!1,o,l)&&e--,(e<i||n.length)&&r.replaceChildren(e,i,n)}}function Ym(r,e,t,i,s,n){let a=r.childCursor(),{i:o,off:l}=a.findPos(t,1),{i:h,off:c}=a.findPos(e,-1),u=e-t;for(let p of i)u+=p.length;r.length+=u,Hm(r,h,c,o,l,i,0,s,n)}let gi=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},Hl=typeof document!="undefined"?document:{documentElement:{style:{}}};const Yl=/Edge\/(\d+)/.exec(gi.userAgent),Gm=/MSIE \d/.test(gi.userAgent),Gl=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(gi.userAgent),Io=!!(Gm||Gl||Yl),kf=!Io&&/gecko\/(\d+)/i.test(gi.userAgent),Ko=!Io&&/Chrome\/(\d+)/.exec(gi.userAgent),Pf="webkitFontSmoothing"in Hl.documentElement.style,Km=!Io&&/Apple Computer/.test(gi.vendor),Sf=Km&&(/Mobile\/\w+/.test(gi.userAgent)||gi.maxTouchPoints>2);var ue={mac:Sf||/Mac/.test(gi.platform),windows:/Win/.test(gi.platform),linux:/Linux|X11/.test(gi.platform),ie:Io,ie_version:Gm?Hl.documentMode||6:Gl?+Gl[1]:Yl?+Yl[1]:0,gecko:kf,gecko_version:kf?+(/Firefox\/(\d+)/.exec(gi.userAgent)||[0,0])[1]:0,chrome:!!Ko,chrome_version:Ko?+Ko[1]:0,ios:Sf,android:/Android\b/.test(gi.userAgent),webkit:Pf,safari:Km,webkit_version:Pf?+(/\bAppleWebKit\/(\d+)/.exec(gi.userAgent)||[0,0])[1]:0,tabSize:Hl.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const ty=256;class zi extends yt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return this.flags&8||i&&(!(i instanceof zi)||this.length-(t-e)+i.length>ty||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new zi(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new oi(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return iy(this.dom,e,t)}}class ks extends yt{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let s of t)s.setParent(this)}setAttrs(e){if(zm(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,s,n,a){return i&&(!(i instanceof ks&&i.mark.eq(this.mark))||e&&n<=0||t<this.length&&a<=0)?!1:(Ym(this,e,t,i?i.children.slice():[],n-1,a-1),this.markDirty(),!0)}split(e){let t=[],i=0,s=-1,n=0;for(let o of this.children){let l=i+o.length;l>e&&t.push(i<e?o.split(e-i):o),s<0&&i>=e&&(s=n),i=l,n++}let a=this.length-e;return this.length=e,s>-1&&(this.children.length=s,this.markDirty()),new ks(this.mark,t,a)}domAtPos(e){return Jm(this,e)}coordsAt(e,t){return t0(this,e,t)}}function iy(r,e,t){let i=r.nodeValue.length;e>i&&(e=i);let s=e,n=e,a=0;e==0&&t<0||e==i&&t>=0?ue.chrome||ue.gecko||(e?(s--,a=1):n<i&&(n++,a=-1)):t<0?s--:n<i&&n++;let o=nr(r,s,n).getClientRects();if(!o.length)return null;let l=o[(a?a<0:t>=0)?0:o.length-1];return ue.safari&&!a&&l.width==0&&(l=Array.prototype.find.call(o,h=>h.width)||l),a?Eo(l,a<0):l||null}class $s extends yt{static create(e,t,i){return new $s(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=$s.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,i,s,n,a){return i&&(!(i instanceof $s)||!this.widget.compare(i.widget)||e>0&&n<=0||t<this.length&&a<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof $s&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return tt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,s=this.posAtStart;return i?i.slice(s,s+this.length):tt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?oi.before(this.dom):oi.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let s=this.dom.getClientRects(),n=null;if(!s.length)return null;let a=this.side?this.side<0:e>0;for(let o=a?s.length-1:0;n=s[o],!(e>0?o==0:o==s.length-1||n.top<n.bottom);o+=a?-1:1);return Eo(n,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Dr extends yt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Dr&&e.side==this.side}split(){return new Dr(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?oi.before(this.dom):oi.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return tt.empty}get isHidden(){return!0}}zi.prototype.children=$s.prototype.children=Dr.prototype.children=Zh;function Jm(r,e){let t=r.dom,{children:i}=r,s=0;for(let n=0;s<i.length;s++){let a=i[s],o=n+a.length;if(!(o==n&&a.getSide()<=0)){if(e>n&&e<o&&a.dom.parentNode==t)return a.domAtPos(e-n);if(e<=n)break;n=o}}for(let n=s;n>0;n--){let a=i[n-1];if(a.dom.parentNode==t)return a.domAtPos(a.length)}for(let n=s;n<i.length;n++){let a=i[n];if(a.dom.parentNode==t)return a.domAtPos(0)}return new oi(t,0)}function e0(r,e,t){let i,{children:s}=r;t>0&&e instanceof ks&&s.length&&(i=s[s.length-1])instanceof ks&&i.mark.eq(e.mark)?e0(i,e.children[0],t-1):(s.push(e),e.setParent(r)),r.length+=e.length}function t0(r,e,t){let i=null,s=-1,n=null,a=-1;function o(h,c){for(let u=0,p=0;u<h.children.length&&p<=c;u++){let m=h.children[u],g=p+m.length;g>=c&&(m.children.length?o(m,c-p):(!n||n.isHidden&&t>0)&&(g>c||p==g&&m.getSide()>0)?(n=m,a=c-p):(p<c||p==g&&m.getSide()<0&&!m.isHidden)&&(i=m,s=c-p)),p=g}}o(r,e);let l=(t<0?i:n)||i||n;return l?l.coordsAt(Math.max(0,l==i?s:a),t):sy(r)}function sy(r){let e=r.dom.lastChild;if(!e)return r.dom.getBoundingClientRect();let t=Mn(e);return t[t.length-1]||null}function Kl(r,e){for(let t in r)t=="class"&&e.class?e.class+=" "+r.class:t=="style"&&e.style?e.style+=";"+r.style:e[t]=r[t];return e}const Af=Object.create(null);function so(r,e,t){if(r==e)return!0;r||(r=Af),e||(e=Af);let i=Object.keys(r),s=Object.keys(e);if(i.length-(t&&i.indexOf(t)>-1?1:0)!=s.length-(t&&s.indexOf(t)>-1?1:0))return!1;for(let n of i)if(n!=t&&(s.indexOf(n)==-1||r[n]!==e[n]))return!1;return!0}function Jl(r,e,t){let i=!1;if(e)for(let s in e)t&&s in t||(i=!0,s=="style"?r.style.cssText="":r.removeAttribute(s));if(t)for(let s in t)e&&e[s]==t[s]||(i=!0,s=="style"?r.style.cssText=t[s]:r.setAttribute(s,t[s]));return i}function ry(r){let e=Object.create(null);for(let t=0;t<r.attributes.length;t++){let i=r.attributes[t];e[i.name]=i.value}return e}class Zn{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Mi=function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r}(Mi||(Mi={}));class pt extends sr{constructor(e,t,i,s){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=s}get heightRelevant(){return!1}static mark(e){return new jn(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Xs(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,s;if(e.isBlockGap)i=-5e8,s=4e8;else{let{start:n,end:a}=i0(e,t);i=(n?t?-3e8:-1:5e8)-1,s=(a?t?2e8:1:-6e8)+1}return new Xs(e,i,s,t,e.widget||null,!0)}static line(e){return new Bn(e)}static set(e,t=!1){return Je.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}pt.none=Je.empty;class jn extends pt{constructor(e){let{start:t,end:i}=i0(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof jn&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&so(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}jn.prototype.point=!1;class Bn extends pt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Bn&&this.spec.class==e.spec.class&&so(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Bn.prototype.mapMode=ai.TrackBefore;Bn.prototype.point=!0;class Xs extends pt{constructor(e,t,i,s,n,a){super(t,i,n,e),this.block=s,this.isReplace=a,this.mapMode=s?t<=0?ai.TrackBefore:ai.TrackAfter:ai.TrackDel}get type(){return this.startSide!=this.endSide?Mi.WidgetRange:this.startSide<=0?Mi.WidgetBefore:Mi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Xs&&ny(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Xs.prototype.point=!0;function i0(r,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=r;return t==null&&(t=r.inclusive),i==null&&(i=r.inclusive),{start:t!=null?t:e,end:i!=null?i:e}}function ny(r,e){return r==e||!!(r&&e&&r.compare(e))}function Ma(r,e,t,i=0){let s=t.length-1;s>=0&&t[s]+i>=r?t[s]=Math.max(t[s],e):t.push(r,e)}class jt extends yt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,s,n,a){if(i){if(!(i instanceof jt))return!1;this.dom||i.transferDOM(this)}return s&&this.setDeco(i?i.attrs:null),Ym(this,e,t,i?i.children.slice():[],n,a),!0}split(e){let t=new jt;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:s}=this.childPos(e);s&&(t.append(this.children[i].split(s),0),this.children[i].merge(s,this.children[i].length,null,!1,0,0),i++);for(let n=i;n<this.children.length;n++)t.append(this.children[n],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){!this.dom||(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){so(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){e0(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=Kl(t,this.attrs||{})),i&&(this.attrs=Kl({class:i},this.attrs||{}))}domAtPos(e){return Jm(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?this.flags&4&&(zm(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Jl(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let s=this.dom.lastChild;for(;s&&yt.get(s)instanceof ks;)s=s.lastChild;if(!s||!this.length||s.nodeName!="BR"&&((i=yt.get(s))===null||i===void 0?void 0:i.isEditable)==!1&&(!ue.ios||!this.children.some(n=>n instanceof zi))){let n=document.createElement("BR");n.cmIgnore=!0,this.dom.appendChild(n)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof zi)||/[^ -~]/.test(i.text))return null;let s=Mn(i.dom);if(s.length!=1)return null;e+=s[0].width,t=s[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=t0(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:s}=this.parent.view.viewState,n=i.bottom-i.top;if(Math.abs(n-s.lineHeight)<2&&s.textHeight<n){let a=(n-s.textHeight)/2;return{top:i.top+a,bottom:i.bottom-a,left:i.left,right:i.left}}}return i}become(e){return e instanceof jt&&this.children.length==0&&e.children.length==0&&so(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let i=0,s=0;i<e.children.length;i++){let n=e.children[i],a=s+n.length;if(a>=t){if(n instanceof jt)return n;if(a>t)break}s=a+n.breakAfter}return null}}class ws extends yt{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,s,n,a){return i&&(!(i instanceof ws)||!this.widget.compare(i.widget)||e>0&&n<=0||t<this.length&&a<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?oi.before(this.dom):oi.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new ws(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return Zh}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):tt.empty}domBoundsAround(){return null}become(e){return e instanceof ws&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);return i||(this.widget instanceof eh?null:Eo(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t==i?!1:e<0?t<0:i>0}}class eh extends Zn{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class xn{constructor(e,t,i,s){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof ws&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new jt),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(aa(new Dr(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof ws)&&this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:n,lineBreak:a,done:o}=this.cursor.next(this.skip);if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=n,this.textOff=0}let s=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(aa(new zi(this.text.slice(this.textOff,this.textOff+s)),t),i),this.atCursorPos=!0,this.textOff+=s,e-=s,i=0}}span(e,t,i,s){this.buildText(t-e,i,s),this.pos=t,this.openStart<0&&(this.openStart=s)}point(e,t,i,s,n,a){if(this.disallowBlockEffectsFor[a]&&i instanceof Xs){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=t-e;if(i instanceof Xs)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ws(i.widget||Rr.block,o,i));else{let l=$s.create(i.widget||Rr.inline,o,o?0:i.startSide),h=this.atCursorPos&&!l.isEditable&&n<=s.length&&(e<t||i.startSide>0),c=!l.isEditable&&(e<t||n>s.length||i.startSide<=0),u=this.getLine();this.pendingBuffer==2&&!h&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(s),h&&(u.append(aa(new Dr(1),s),n),n=s.length+Math.max(0,n-s.length)),u.append(aa(l,s),n),this.atCursorPos=c,this.pendingBuffer=c?e<t||n>s.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=n)}static build(e,t,i,s,n){let a=new xn(e,t,i,n);return a.openEnd=Je.spans(s,t,i,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function aa(r,e){for(let t of e)r=new ks(t,[r],r.length);return r}class Rr extends Zn{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Rr.inline=new Rr("span");Rr.block=new Rr("div");var $t=function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r}($t||($t={}));const ar=$t.LTR,jh=$t.RTL;function s0(r){let e=[];for(let t=0;t<r.length;t++)e.push(1<<+r[t]);return e}const ay=s0("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),oy=s0("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),th=Object.create(null),Gi=[];for(let r of["()","[]","{}"]){let e=r.charCodeAt(0),t=r.charCodeAt(1);th[e]=t,th[t]=-e}function r0(r){return r<=247?ay[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?oy[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8204?256:64336<=r&&r<=65023?4:1}const ly=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Ns{get dir(){return this.level%2?jh:ar}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,s){let n=-1;for(let a=0;a<e.length;a++){let o=e[a];if(o.from<=t&&o.to>=t){if(o.level==i)return a;(n<0||(s!=0?s<0?o.from<t:o.to>t:e[n].level>o.level))&&(n=a)}}if(n<0)throw new RangeError("Index out of range");return n}}function n0(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++){let i=r[t],s=e[t];if(i.from!=s.from||i.to!=s.to||i.direction!=s.direction||!n0(i.inner,s.inner))return!1}return!0}const bt=[];function hy(r,e,t,i,s){for(let n=0;n<=i.length;n++){let a=n?i[n-1].to:e,o=n<i.length?i[n].from:t,l=n?256:s;for(let h=a,c=l,u=l;h<o;h++){let p=r0(r.charCodeAt(h));p==512?p=c:p==8&&u==4&&(p=16),bt[h]=p==4?2:p,p&7&&(u=p),c=p}for(let h=a,c=l,u=l;h<o;h++){let p=bt[h];if(p==128)h<o-1&&c==bt[h+1]&&c&24?p=bt[h]=c:bt[h]=256;else if(p==64){let m=h+1;for(;m<o&&bt[m]==64;)m++;let g=h&&c==8||m<t&&bt[m]==8?u==1?1:8:256;for(let b=h;b<m;b++)bt[b]=g;h=m-1}else p==8&&u==1&&(bt[h]=1);c=p,p&7&&(u=p)}}}function cy(r,e,t,i,s){let n=s==1?2:1;for(let a=0,o=0,l=0;a<=i.length;a++){let h=a?i[a-1].to:e,c=a<i.length?i[a].from:t;for(let u=h,p,m,g;u<c;u++)if(m=th[p=r.charCodeAt(u)])if(m<0){for(let b=o-3;b>=0;b-=3)if(Gi[b+1]==-m){let w=Gi[b+2],y=w&2?s:w&4?w&1?n:s:0;y&&(bt[u]=bt[Gi[b]]=y),o=b;break}}else{if(Gi.length==189)break;Gi[o++]=u,Gi[o++]=p,Gi[o++]=l}else if((g=bt[u])==2||g==1){let b=g==s;l=b?0:1;for(let w=o-3;w>=0;w-=3){let y=Gi[w+2];if(y&2)break;if(b)Gi[w+2]|=2;else{if(y&4)break;Gi[w+2]|=4}}}}}function uy(r,e,t,i){for(let s=0,n=i;s<=t.length;s++){let a=s?t[s-1].to:r,o=s<t.length?t[s].from:e;for(let l=a;l<o;){let h=bt[l];if(h==256){let c=l+1;for(;;)if(c==o){if(s==t.length)break;c=t[s++].to,o=s<t.length?t[s].from:e}else if(bt[c]==256)c++;else break;let u=n==1,p=(c<e?bt[c]:i)==1,m=u==p?u?1:2:i;for(let g=c,b=s,w=b?t[b-1].to:r;g>l;)g==w&&(g=t[--b].from,w=b?t[b-1].to:r),bt[--g]=m;l=c}else n=h,l++}}}function ih(r,e,t,i,s,n,a){let o=i%2?2:1;if(i%2==s%2)for(let l=e,h=0;l<t;){let c=!0,u=!1;if(h==n.length||l<n[h].from){let b=bt[l];b!=o&&(c=!1,u=b==16)}let p=!c&&o==1?[]:null,m=c?i:i+1,g=l;e:for(;;)if(h<n.length&&g==n[h].from){if(u)break e;let b=n[h];if(!c)for(let w=b.to,y=h+1;;){if(w==t)break e;if(y<n.length&&n[y].from==w)w=n[y++].to;else{if(bt[w]==o)break e;break}}if(h++,p)p.push(b);else{b.from>l&&a.push(new Ns(l,b.from,m));let w=b.direction==ar!=!(m%2);sh(r,w?i+1:i,s,b.inner,b.from,b.to,a),l=b.to}g=b.to}else{if(g==t||(c?bt[g]!=o:bt[g]==o))break;g++}p?ih(r,l,g,i+1,s,p,a):l<g&&a.push(new Ns(l,g,m)),l=g}else for(let l=t,h=n.length;l>e;){let c=!0,u=!1;if(!h||l>n[h-1].to){let b=bt[l-1];b!=o&&(c=!1,u=b==16)}let p=!c&&o==1?[]:null,m=c?i:i+1,g=l;e:for(;;)if(h&&g==n[h-1].to){if(u)break e;let b=n[--h];if(!c)for(let w=b.from,y=h;;){if(w==e)break e;if(y&&n[y-1].to==w)w=n[--y].from;else{if(bt[w-1]==o)break e;break}}if(p)p.push(b);else{b.to<l&&a.push(new Ns(b.to,l,m));let w=b.direction==ar!=!(m%2);sh(r,w?i+1:i,s,b.inner,b.from,b.to,a),l=b.from}g=b.from}else{if(g==e||(c?bt[g-1]!=o:bt[g-1]==o))break;g--}p?ih(r,g,l,i+1,s,p,a):g<l&&a.push(new Ns(g,l,m)),l=g}}function sh(r,e,t,i,s,n,a){let o=e%2?2:1;hy(r,s,n,i,o),cy(r,s,n,i,o),uy(s,n,i,o),ih(r,s,n,e,t,i,a)}function fy(r,e,t){if(!r)return[new Ns(0,0,e==jh?1:0)];if(e==ar&&!t.length&&!ly.test(r))return a0(r.length);if(t.length)for(;r.length>bt.length;)bt[bt.length]=256;let i=[],s=e==ar?0:1;return sh(r,s,s,t,0,r.length,i),i}function a0(r){return[new Ns(0,r,0)]}let o0="";function py(r,e,t,i,s){var n;let a=i.head-r.from,o=Ns.find(e,a,(n=i.bidiLevel)!==null&&n!==void 0?n:-1,i.assoc),l=e[o],h=l.side(s,t);if(a==h){let p=o+=s?1:-1;if(p<0||p>=e.length)return null;l=e[o=p],a=l.side(!s,t),h=l.side(s,t)}let c=gs(r.text,a,l.forward(s,t));(c<l.from||c>l.to)&&(c=h),o0=r.text.slice(Math.min(a,c),Math.max(a,c));let u=o==(s?e.length-1:0)?null:e[o+(s?1:-1)];return u&&c==h&&u.level+(s?0:1)<l.level?Oe.cursor(u.side(!s,t)+r.from,u.forward(s,t)?1:-1,u.level):Oe.cursor(c+r.from,l.forward(s,t)?-1:1,l.level)}function dy(r,e,t){for(let i=e;i<t;i++){let s=r0(r.charCodeAt(i));if(s==1)return ar;if(s==2||s==4)return jh}return ar}const l0=ye.define(),h0=ye.define(),c0=ye.define(),u0=ye.define(),rh=ye.define(),f0=ye.define(),p0=ye.define(),Bh=ye.define(),Xh=ye.define(),d0=ye.define({combine:r=>r.some(e=>e)}),my=ye.define({combine:r=>r.some(e=>e)}),m0=ye.define();class Cr{constructor(e,t="nearest",i="nearest",s=5,n=5,a=!1){this.range=e,this.y=t,this.x=i,this.yMargin=s,this.xMargin=n,this.isSnapshot=a}map(e){return e.empty?this:new Cr(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Cr(Oe.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const oa=Ge.define({map:(r,e)=>r.map(e)}),g0=Ge.define();function fi(r,e,t){let i=r.facet(u0);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const ps=ye.define({combine:r=>r.length?r[0]:!0});let gy=0;const hn=ye.define();class Ti{constructor(e,t,i,s,n){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=s,this.extension=n(this)}static define(e,t){const{eventHandlers:i,eventObservers:s,provide:n,decorations:a}=t||{};return new Ti(gy++,e,i,s,o=>{let l=[hn.of(o)];return a&&l.push($n.of(h=>{let c=h.plugin(o);return c?a(c):pt.none})),n&&l.push(n(o)),l})}static fromClass(e,t){return Ti.define(i=>new e(i),t)}}class Jo{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(fi(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){fi(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){fi(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const O0=ye.define(),qh=ye.define(),$n=ye.define(),b0=ye.define(),zh=ye.define(),y0=ye.define();function Tf(r,e){let t=r.state.facet(y0);if(!t.length)return t;let i=t.map(n=>n instanceof Function?n(r):n),s=[];return Je.spans(i,e.from,e.to,{point(){},span(n,a,o,l){let h=n-e.from,c=a-e.from,u=s;for(let p=o.length-1;p>=0;p--,l--){let m=o[p].spec.bidiIsolate,g;if(m==null&&(m=dy(e.text,h,c)),l>0&&u.length&&(g=u[u.length-1]).to==h&&g.direction==m)g.to=c,u=g.inner;else{let b={from:h,to:c,direction:m,inner:[]};u.push(b),u=b.inner}}}}),s}const w0=ye.define();function Uh(r){let e=0,t=0,i=0,s=0;for(let n of r.state.facet(w0)){let a=n(r);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(t=Math.max(t,a.right)),a.top!=null&&(i=Math.max(i,a.top)),a.bottom!=null&&(s=Math.max(s,a.bottom)))}return{left:e,right:t,top:i,bottom:s}}const cn=ye.define();class $i{constructor(e,t,i,s){this.fromA=e,this.toA=t,this.fromB=i,this.toB=s}join(e){return new $i(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let s=e[t-1];if(!(s.fromA>i.toA)){if(s.toA<i.fromA)break;i=i.join(s),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let s=0,n=0,a=0,o=0;;s++){let l=s==e.length?null:e[s],h=a-o,c=l?l.fromB:1e9;for(;n<t.length&&t[n]<c;){let u=t[n],p=t[n+1],m=Math.max(o,u),g=Math.min(c,p);if(m<=g&&new $i(m+h,g+h,m,g).addToSet(i),p>c)break;n+=2}if(!l)return i;new $i(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),a=l.toA,o=l.toB}}}class ro{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Ht.empty(this.startState.doc.length);for(let n of i)this.changes=this.changes.compose(n.changes);let s=[];this.changes.iterChangedRanges((n,a,o,l)=>s.push(new $i(n,a,o,l))),this.changedRanges=s}static create(e,t,i){return new ro(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Cf extends yt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=pt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new jt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new $i(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:h,toA:c})=>c<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let s=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?s=this.domChanged.newSel.head:!ky(e.changes,this.hasComposition)&&!e.selectionSet&&(s=e.state.selection.main.head));let n=s>-1?by(this.view,e.changes,s):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:h,to:c}=this.hasComposition;i=new $i(h,c,e.changes.mapPos(h,-1),e.changes.mapPos(c,1)).addToSet(i.slice())}this.hasComposition=n?{from:n.range.fromB,to:n.range.toB}:null,(ue.ie||ue.chrome)&&!n&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,o=this.updateDeco(),l=vy(a,o,e.changes);return i=$i.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,n),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:s}=this.view;s.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=ue.chrome||ue.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||s.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let n=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof ws&&a.widget instanceof eh&&n.push(a.dom);s.updateGaps(n)}updateChildren(e,t,i){let s=i?i.range.addToSet(e.slice()):e,n=this.childCursor(t);for(let a=s.length-1;;a--){let o=a>=0?s[a]:null;if(!o)break;let{fromA:l,toA:h,fromB:c,toB:u}=o,p,m,g,b;if(i&&i.range.fromB<u&&i.range.toB>c){let x=xn.build(this.view.state.doc,c,i.range.fromB,this.decorations,this.dynamicDecorationMap),P=xn.build(this.view.state.doc,i.range.toB,u,this.decorations,this.dynamicDecorationMap);m=x.breakAtStart,g=x.openStart,b=P.openEnd;let S=this.compositionView(i);P.breakAtStart?S.breakAfter=1:P.content.length&&S.merge(S.length,S.length,P.content[0],!1,P.openStart,0)&&(S.breakAfter=P.content[0].breakAfter,P.content.shift()),x.content.length&&S.merge(0,0,x.content[x.content.length-1],!0,0,x.openEnd)&&x.content.pop(),p=x.content.concat(S).concat(P.content)}else({content:p,breakAtStart:m,openStart:g,openEnd:b}=xn.build(this.view.state.doc,c,u,this.decorations,this.dynamicDecorationMap));let{i:w,off:y}=n.findPos(h,1),{i:v,off:T}=n.findPos(l,-1);Hm(this,v,T,w,y,p,m,g,b)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let i of t.effects)i.is(g0)&&(this.editContextFormatting=i.value)}compositionView(e){let t=new zi(e.text.nodeValue);t.flags|=8;for(let{deco:s}of e.marks)t=new ks(s,[t],t.length);let i=new jt;return i.append(t,0),i}fixCompositionDOM(e){let t=(n,a)=>{a.flags|=8|(a.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(a);let o=yt.get(n);o&&o!=a&&(o.dom=null),a.setDOM(n)},i=this.childPos(e.range.fromB,1),s=this.children[i.i];t(e.line,s);for(let n=e.marks.length-1;n>=-1;n--)i=s.childPos(i.off,1),s=s.children[i.i],t(n>=0?e.marks[n].node:e.text,s)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,s=i==this.dom,n=!s&&!(this.view.state.facet(ps)||this.dom.tabIndex>-1)&&Ia(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(s||t||n))return;let a=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(o.anchor)),h=o.empty?l:this.moveToLine(this.domAtPos(o.head));if(ue.gecko&&o.empty&&!this.hasComposition&&Oy(l)){let u=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(u,l.node.childNodes[l.offset]||null)),l=h=new oi(u,0),a=!0}let c=this.view.observer.selectionRange;(a||!c.focusNode||(!vn(l.node,l.offset,c.anchorNode,c.anchorOffset)||!vn(h.node,h.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,o))&&(this.view.observer.ignore(()=>{ue.android&&ue.chrome&&this.dom.contains(c.focusNode)&&xy(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let u=In(this.view.root);if(u)if(o.empty){if(ue.gecko){let p=yy(l.node,l.offset);if(p&&p!=3){let m=(p==1?Vm:Fm)(l.node,l.offset);m&&(l=new oi(m.node,m.offset))}}u.collapse(l.node,l.offset),o.bidiLevel!=null&&u.caretBidiLevel!==void 0&&(u.caretBidiLevel=o.bidiLevel)}else if(u.extend){u.collapse(l.node,l.offset);try{u.extend(h.node,h.offset)}catch{}}else{let p=document.createRange();o.anchor>o.head&&([l,h]=[h,l]),p.setEnd(h.node,h.offset),p.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(p)}n&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,h)),this.impreciseAnchor=l.precise?null:new oi(c.anchorNode,c.anchorOffset),this.impreciseHead=h.precise?null:new oi(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&vn(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=In(e.root),{anchorNode:s,anchorOffset:n}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let a=jt.find(this,t.head);if(!a)return;let o=a.posAtStart;if(t.head==o||t.head==o+a.length)return;let l=this.coordsAt(t.head,-1),h=this.coordsAt(t.head,1);if(!l||!h||l.bottom>h.top)return;let c=this.domAtPos(t.head+t.assoc);i.collapse(c.node,c.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=t.from&&i.collapse(s,n)}moveToLine(e){let t=this.dom,i;if(e.node!=t)return e;for(let s=e.offset;!i&&s<t.childNodes.length;s++){let n=yt.get(t.childNodes[s]);n instanceof jt&&(i=n.domAtPos(0))}for(let s=e.offset-1;!i&&s>=0;s--){let n=yt.get(t.childNodes[s]);n instanceof jt&&(i=n.domAtPos(n.length))}return i?new oi(i.node,i.offset,!0):e}nearest(e){for(let t=e;t;){let i=yt.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let s=this.children[t];if(i<s.length||s instanceof jt)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,s=0;for(let n=this.length,a=this.children.length-1;a>=0;a--){let o=this.children[a],l=n-o.breakAfter,h=l-o.length;if(l<e)break;if(h<=e&&(h<e||o.covers(-1))&&(l>e||o.covers(1))&&(!i||o instanceof jt&&!(i instanceof jt&&t>=0)))i=o,s=h;else if(i&&h==e&&l==e&&o instanceof ws&&Math.abs(t)<2){if(o.deco.startSide<0)break;a&&(i=null)}n=h}return i?i.coordsAt(e-s,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),s=this.children[t];if(!(s instanceof jt))return null;for(;s.children.length;){let{i:o,off:l}=s.childPos(i,1);for(;;o++){if(o==s.children.length)return null;if((s=s.children[o]).length)break}i=l}if(!(s instanceof zi))return null;let n=gs(s.text,i);if(n==i)return null;let a=nr(s.dom,i,n).getClientRects();for(let o=0;o<a.length;o++){let l=a[o];if(o==a.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:s}=e,n=this.view.contentDOM.clientWidth,a=n>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,l=this.view.textDirection==$t.LTR;for(let h=0,c=0;c<this.children.length;c++){let u=this.children[c],p=h+u.length;if(p>s)break;if(h>=i){let m=u.dom.getBoundingClientRect();if(t.push(m.height),a){let g=u.dom.lastChild,b=g?Mn(g):[];if(b.length){let w=b[b.length-1],y=l?w.right-m.left:m.right-w.left;y>o&&(o=y,this.minWidth=n,this.minWidthFrom=h,this.minWidthTo=p)}}}h=p+u.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?$t.RTL:$t.LTR}measureTextSize(){for(let n of this.children)if(n instanceof jt){let a=n.measureTextSize();if(a)return a}let e=document.createElement("div"),t,i,s;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let n=Mn(e.firstChild)[0];t=e.getBoundingClientRect().height,i=n?n.width/27:7,s=n?n.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:s}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Wm(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,s=0;;s++){let n=s==t.viewports.length?null:t.viewports[s],a=n?n.from-1:this.length;if(a>i){let o=(t.lineBlockAt(a).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(pt.replace({widget:new eh(o),block:!0,inclusive:!0,isBlockGap:!0}).range(i,a))}if(!n)break;i=n.to+1}return pt.set(e)}updateDeco(){let e=1,t=this.view.state.facet($n).map(n=>(this.dynamicDecorationMap[e++]=typeof n=="function")?n(this.view):n),i=!1,s=this.view.state.facet(b0).map((n,a)=>{let o=typeof n=="function";return o&&(i=!0),o?n(this.view):n});for(s.length&&(this.dynamicDecorationMap[e++]=i,t.push(Je.join(s))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(m0))try{if(h(this.view,e.range,e))return!0}catch(c){fi(this.view.state,c,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),s;if(!i)return;!t.empty&&(s=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,s.left),top:Math.min(i.top,s.top),right:Math.max(i.right,s.right),bottom:Math.max(i.bottom,s.bottom)});let n=Uh(this.view),a={left:i.left-n.left,top:i.top-n.top,right:i.right+n.right,bottom:i.bottom+n.bottom},{offsetWidth:o,offsetHeight:l}=this.view.scrollDOM;Yb(this.view.scrollDOM,a,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==$t.LTR)}}function Oy(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}function v0(r,e){let t=r.observer.selectionRange;if(!t.focusNode)return null;let i=Vm(t.focusNode,t.focusOffset),s=Fm(t.focusNode,t.focusOffset),n=i||s;if(s&&i&&s.node!=i.node){let o=yt.get(s.node);if(!o||o instanceof zi&&o.text!=s.node.nodeValue)n=s;else if(r.docView.lastCompositionAfterCursor){let l=yt.get(i.node);!l||l instanceof zi&&l.text!=i.node.nodeValue||(n=s)}}if(r.docView.lastCompositionAfterCursor=n!=i,!n)return null;let a=e-n.offset;return{from:a,to:a+n.node.nodeValue.length,node:n.node}}function by(r,e,t){let i=v0(r,t);if(!i)return null;let{node:s,from:n,to:a}=i,o=s.nodeValue;if(/[\n\r]/.test(o)||r.state.doc.sliceString(i.from,i.to)!=o)return null;let l=e.invertedDesc,h=new $i(l.mapPos(n),l.mapPos(a),n,a),c=[];for(let u=s.parentNode;;u=u.parentNode){let p=yt.get(u);if(p instanceof ks)c.push({node:u,deco:p.mark});else{if(p instanceof jt||u.nodeName=="DIV"&&u.parentNode==r.contentDOM)return{range:h,text:s,marks:c,line:u};if(u!=r.contentDOM)c.push({node:u,deco:new jn({inclusive:!0,attributes:ry(u),tagName:u.tagName.toLowerCase()})});else return null}}}function yy(r,e){return r.nodeType!=1?0:(e&&r.childNodes[e-1].contentEditable=="false"?1:0)|(e<r.childNodes.length&&r.childNodes[e].contentEditable=="false"?2:0)}let wy=class{constructor(){this.changes=[]}compareRange(e,t){Ma(e,t,this.changes)}comparePoint(e,t){Ma(e,t,this.changes)}boundChange(e){Ma(e,e,this.changes)}};function vy(r,e,t){let i=new wy;return Je.compare(r,e,t,i),i.changes}function xy(r,e){for(let t=r;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function ky(r,e){let t=!1;return e&&r.iterChangedRanges((i,s)=>{i<e.to&&s>e.from&&(t=!0)}),t}function Py(r,e,t=1){let i=r.charCategorizer(e),s=r.doc.lineAt(e),n=e-s.from;if(s.length==0)return Oe.cursor(e);n==0?t=1:n==s.length&&(t=-1);let a=n,o=n;t<0?a=gs(s.text,n,!1):o=gs(s.text,n);let l=i(s.text.slice(a,o));for(;a>0;){let h=gs(s.text,a,!1);if(i(s.text.slice(h,a))!=l)break;a=h}for(;o<s.length;){let h=gs(s.text,o);if(i(s.text.slice(o,h))!=l)break;o=h}return Oe.range(a+s.from,o+s.from)}function Sy(r,e){return e.left>r?e.left-r:Math.max(0,r-e.right)}function Ay(r,e){return e.top>r?e.top-r:Math.max(0,r-e.bottom)}function el(r,e){return r.top<e.bottom-1&&r.bottom>e.top+1}function _f(r,e){return e<r.top?{top:e,left:r.left,right:r.right,bottom:r.bottom}:r}function Qf(r,e){return e>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:e}:r}function nh(r,e,t){let i,s,n,a,o=!1,l,h,c,u;for(let g=r.firstChild;g;g=g.nextSibling){let b=Mn(g);for(let w=0;w<b.length;w++){let y=b[w];s&&el(s,y)&&(y=_f(Qf(y,s.bottom),s.top));let v=Sy(e,y),T=Ay(t,y);if(v==0&&T==0)return g.nodeType==3?Ef(g,e,t):nh(g,e,t);if(!i||a>T||a==T&&n>v){i=g,s=y,n=v,a=T;let x=T?t<y.top?-1:1:v?e<y.left?-1:1:0;o=!x||(x>0?w<b.length-1:w>0)}v==0?t>y.bottom&&(!c||c.bottom<y.bottom)?(l=g,c=y):t<y.top&&(!u||u.top>y.top)&&(h=g,u=y):c&&el(c,y)?c=Qf(c,y.bottom):u&&el(u,y)&&(u=_f(u,y.top))}}if(c&&c.bottom>=t?(i=l,s=c):u&&u.top<=t&&(i=h,s=u),!i)return{node:r,offset:0};let p=Math.max(s.left,Math.min(s.right,e));if(i.nodeType==3)return Ef(i,p,t);if(o&&i.contentEditable!="false")return nh(i,p,t);let m=Array.prototype.indexOf.call(r.childNodes,i)+(e>=(s.left+s.right)/2?1:0);return{node:r,offset:m}}function Ef(r,e,t){let i=r.nodeValue.length,s=-1,n=1e9,a=0;for(let o=0;o<i;o++){let l=nr(r,o,o+1).getClientRects();for(let h=0;h<l.length;h++){let c=l[h];if(c.top==c.bottom)continue;a||(a=e-c.left);let u=(c.top>t?c.top-t:t-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&u<n){let p=e>=(c.left+c.right)/2,m=p;if((ue.chrome||ue.gecko)&&nr(r,o).getBoundingClientRect().left==c.right&&(m=!p),u<=0)return{node:r,offset:o+(m?1:0)};s=o+(m?1:0),n=u}}}return{node:r,offset:s>-1?s:a>0?r.nodeValue.length:0}}function x0(r,e,t,i=-1){var s,n;let a=r.contentDOM.getBoundingClientRect(),o=a.top+r.viewState.paddingTop,l,{docHeight:h}=r.viewState,{x:c,y:u}=e,p=u-o;if(p<0)return 0;if(p>h)return r.state.doc.length;for(let x=r.viewState.heightOracle.textHeight/2,P=!1;l=r.elementAtHeight(p),l.type!=Mi.Text;)for(;p=i>0?l.bottom+x:l.top-x,!(p>=0&&p<=h);){if(P)return t?null:0;P=!0,i=-i}u=o+p;let m=l.from;if(m<r.viewport.from)return r.viewport.from==0?0:t?null:If(r,a,l,c,u);if(m>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:t?null:If(r,a,l,c,u);let g=r.dom.ownerDocument,b=r.root.elementFromPoint?r.root:g,w=b.elementFromPoint(c,u);w&&!r.contentDOM.contains(w)&&(w=null),w||(c=Math.max(a.left+1,Math.min(a.right-1,c)),w=b.elementFromPoint(c,u),w&&!r.contentDOM.contains(w)&&(w=null));let y,v=-1;if(w&&((s=r.docView.nearest(w))===null||s===void 0?void 0:s.isEditable)!=!1){if(g.caretPositionFromPoint){let x=g.caretPositionFromPoint(c,u);x&&({offsetNode:y,offset:v}=x)}else if(g.caretRangeFromPoint){let x=g.caretRangeFromPoint(c,u);x&&({startContainer:y,startOffset:v}=x,(!r.contentDOM.contains(y)||ue.safari&&Ty(y,v,c)||ue.chrome&&Cy(y,v,c))&&(y=void 0))}y&&(v=Math.min(ls(y),v))}if(!y||!r.docView.dom.contains(y)){let x=jt.find(r.docView,m);if(!x)return p>l.top+l.height/2?l.to:l.from;({node:y,offset:v}=nh(x.dom,c,u))}let T=r.docView.nearest(y);if(!T)return null;if(T.isWidget&&((n=T.dom)===null||n===void 0?void 0:n.nodeType)==1){let x=T.dom.getBoundingClientRect();return e.y<x.top||e.y<=x.bottom&&e.x<=(x.left+x.right)/2?T.posAtStart:T.posAtEnd}else return T.localPosFromDOM(y,v)+T.posAtStart}function If(r,e,t,i,s){let n=Math.round((i-e.left)*r.defaultCharacterWidth);if(r.lineWrapping&&t.height>r.defaultLineHeight*1.5){let o=r.viewState.heightOracle.textHeight;n+=Math.floor((s-t.top-(r.defaultLineHeight-o)*.5)/o)*r.viewState.heightOracle.lineLength}let a=r.state.sliceDoc(t.from,t.to);return t.from+zb(a,n,r.state.tabSize)}function Ty(r,e,t){let i;if(r.nodeType!=3||e!=(i=r.nodeValue.length))return!1;for(let s=r.nextSibling;s;s=s.nextSibling)if(s.nodeType!=1||s.nodeName!="BR")return!1;return nr(r,i-1,i).getBoundingClientRect().left>t}function Cy(r,e,t){if(e!=0)return!1;for(let s=r;;){let n=s.parentNode;if(!n||n.nodeType!=1||n.firstChild!=s)return!1;if(n.classList.contains("cm-line"))break;s=n}let i=r.nodeType==1?r.getBoundingClientRect():nr(r,0,Math.max(r.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function _y(r,e){let t=r.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==Mi.Text))return i}return t}function Qy(r,e,t,i){let s=_y(r,e.head),n=!i||s.type!=Mi.Text||!(r.lineWrapping||s.widgetLineBreaks)?null:r.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(n){let a=r.dom.getBoundingClientRect(),o=r.textDirectionAt(s.from),l=r.posAtCoords({x:t==(o==$t.LTR)?a.right-1:a.left+1,y:(n.top+n.bottom)/2});if(l!=null)return Oe.cursor(l,t?-1:1)}return Oe.cursor(t?s.to:s.from,t?-1:1)}function Mf(r,e,t,i){let s=r.state.doc.lineAt(e.head),n=r.bidiSpans(s),a=r.textDirectionAt(s.from);for(let o=e,l=null;;){let h=py(s,n,a,o,t),c=o0;if(!h){if(s.number==(t?r.state.doc.lines:1))return o;c=`
`,s=r.state.doc.line(s.number+(t?1:-1)),n=r.bidiSpans(s),h=r.visualLineSide(s,!t)}if(l){if(!l(c))return o}else{if(!i)return h;l=i(c)}o=h}}function Ey(r,e,t){let i=r.state.charCategorizer(e),s=i(t);return n=>{let a=i(n);return s==Os.Space&&(s=a),s==a}}function Iy(r,e,t,i){let s=e.head,n=t?1:-1;if(s==(t?r.state.doc.length:0))return Oe.cursor(s,e.assoc);let a=e.goalColumn,o,l=r.contentDOM.getBoundingClientRect(),h=r.coordsAtPos(s,e.assoc||-1),c=r.documentTop;if(h)a==null&&(a=h.left-l.left),o=n<0?h.top:h.bottom;else{let m=r.viewState.lineBlockAt(s);a==null&&(a=Math.min(l.right-l.left,r.defaultCharacterWidth*(s-m.from))),o=(n<0?m.top:m.bottom)+c}let u=l.left+a,p=i!=null?i:r.viewState.heightOracle.textHeight>>1;for(let m=0;;m+=10){let g=o+(p+m)*n,b=x0(r,{x:u,y:g},!1,n);if(g<l.top||g>l.bottom||(n<0?b<s:b>s)){let w=r.docView.coordsForChar(b),y=!w||g<w.top?-1:1;return Oe.cursor(b,y,void 0,a)}}}function $a(r,e,t){for(;;){let i=0;for(let s of r)s.between(e-1,e+1,(n,a,o)=>{if(e>n&&e<a){let l=i||t||(e-n<a-e?-1:1);e=l<0?n:a,i=l}});if(!i)return e}}function tl(r,e,t){let i=$a(r.state.facet(zh).map(s=>s(r)),t.from,e.head>t.from?-1:1);return i==t.from?t:Oe.cursor(i,i<t.from?1:-1)}const un="\uFFFF";class My{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(et.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=un}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let s=e;;){this.findPointBefore(i,s);let n=this.text.length;this.readNode(s);let a=s.nextSibling;if(a==t)break;let o=yt.get(s),l=yt.get(a);(o&&l?o.breakAfter:(o?o.breakAfter:io(s))||io(a)&&(s.nodeName!="BR"||s.cmIgnore)&&this.text.length>n)&&this.lineBreak(),s=a}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let n=-1,a=1,o;if(this.lineSeparator?(n=t.indexOf(this.lineSeparator,i),a=this.lineSeparator.length):(o=s.exec(t))&&(n=o.index,a=o[0].length),this.append(t.slice(i,n<0?t.length:n)),n<0)break;if(this.lineBreak(),a>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=a-1);i=n+a}}readNode(e){if(e.cmIgnore)return;let t=yt.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let s=i.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+($y(e,i.node,i.offset)?t:0))}}function $y(r,e,t){for(;;){if(!e||t<ls(e))return!1;if(e==r)return!0;t=rr(e)+1,e=e.parentNode}}class $f{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Ny{constructor(e,t,i,s){this.typeOver=s,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:n,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let o=n||a?[]:Ry(e),l=new My(o,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Zy(o,this.bounds.from)}else{let o=e.observer.selectionRange,l=n&&n.node==o.focusNode&&n.offset==o.focusOffset||!Wl(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),h=a&&a.node==o.anchorNode&&a.offset==o.anchorOffset||!Wl(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset),c=e.viewport;if((ue.ios||ue.chrome)&&e.state.selection.main.empty&&l!=h&&(c.from>0||c.to<e.state.doc.length)){let u=Math.min(l,h),p=Math.max(l,h),m=c.from-u,g=c.to-p;(m==0||m==1||u==0)&&(g==0||g==-1||p==e.state.doc.length)&&(l=0,h=e.state.doc.length)}this.newSel=Oe.single(h,l)}}}function k0(r,e){let t,{newSel:i}=e,s=r.state.selection.main,n=r.inputState.lastKeyTime>Date.now()-100?r.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:o}=e.bounds,l=s.from,h=null;(n===8||ue.android&&e.text.length<o-a)&&(l=s.to,h="end");let c=Dy(r.state.doc.sliceString(a,o,un),e.text,l-a,h);c&&(ue.chrome&&n==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==un+un&&c.toB--,t={from:a+c.from,to:a+c.toA,insert:tt.of(e.text.slice(c.from,c.toB).split(un))})}else i&&(!r.hasFocus&&r.state.facet(ps)||i.main.eq(s))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!s.empty&&i&&i.main.empty?t={from:s.from,to:s.to,insert:r.state.doc.slice(s.from,s.to)}:t&&t.from>=s.from&&t.to<=s.to&&(t.from!=s.from||t.to!=s.to)&&s.to-s.from-(t.to-t.from)<=4?t={from:s.from,to:s.to,insert:r.state.doc.slice(s.from,t.from).append(t.insert).append(r.state.doc.slice(t.to,s.to))}:(ue.mac||ue.android)&&t&&t.from==t.to&&t.from==s.head-1&&/^\. ?$/.test(t.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=Oe.single(i.main.anchor-1,i.main.head-1)),t={from:s.from,to:s.to,insert:tt.of([" "])}):ue.chrome&&t&&t.from==t.to&&t.from==s.head&&t.insert.toString()==`
 `&&r.lineWrapping&&(i&&(i=Oe.single(i.main.anchor-1,i.main.head-1)),t={from:s.from,to:s.to,insert:tt.of([" "])}),t)return Vh(r,t,i,n);if(i&&!i.main.eq(s)){let a=!1,o="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(a=!0),o=r.inputState.lastSelectionOrigin),r.dispatch({selection:i,scrollIntoView:a,userEvent:o}),!0}else return!1}function Vh(r,e,t,i=-1){if(ue.ios&&r.inputState.flushIOSKey(e))return!0;let s=r.state.selection.main;if(ue.android&&(e.to==s.to&&(e.from==s.from||e.from==s.from-1&&r.state.sliceDoc(e.from,s.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Tr(r.contentDOM,"Enter",13)||(e.from==s.from-1&&e.to==s.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>s.head)&&Tr(r.contentDOM,"Backspace",8)||e.from==s.from&&e.to==s.to+1&&e.insert.length==0&&Tr(r.contentDOM,"Delete",46)))return!0;let n=e.insert.toString();r.inputState.composing>=0&&r.inputState.composing++;let a,o=()=>a||(a=Ly(r,e,t));return r.state.facet(f0).some(l=>l(r,e.from,e.to,n,o))||r.dispatch(o()),!0}function Ly(r,e,t){let i,s=r.state,n=s.selection.main;if(e.from>=n.from&&e.to<=n.to&&e.to-e.from>=(n.to-n.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&r.inputState.composing<0){let o=n.from<e.from?s.sliceDoc(n.from,e.from):"",l=n.to>e.to?s.sliceDoc(e.to,n.to):"";i=s.replaceSelection(r.state.toText(o+e.insert.sliceString(0,void 0,r.state.lineBreak)+l))}else{let o=s.changes(e),l=t&&t.main.to<=o.newLength?t.main:void 0;if(s.selection.ranges.length>1&&r.inputState.composing>=0&&e.to<=n.to&&e.to>=n.to-10){let h=r.state.sliceDoc(e.from,e.to),c,u=t&&v0(r,t.main.head);if(u){let g=e.insert.length-(e.to-e.from);c={from:u.from,to:u.to-g}}else c=r.state.doc.lineAt(n.head);let p=n.to-e.to,m=n.to-n.from;i=s.changeByRange(g=>{if(g.from==n.from&&g.to==n.to)return{changes:o,range:l||g.map(o)};let b=g.to-p,w=b-h.length;if(g.to-g.from!=m||r.state.sliceDoc(w,b)!=h||g.to>=c.from&&g.from<=c.to)return{range:g};let y=s.changes({from:w,to:b,insert:e.insert}),v=g.to-n.to;return{changes:y,range:l?Oe.range(Math.max(0,l.anchor+v),Math.max(0,l.head+v)):g.map(y)}})}else i={changes:o,selection:l&&s.selection.replaceRange(l)}}let a="input.type";return(r.composing||r.inputState.compositionPendingChange&&r.inputState.compositionEndedAt>Date.now()-50)&&(r.inputState.compositionPendingChange=!1,a+=".compose",r.inputState.compositionFirstChange&&(a+=".start",r.inputState.compositionFirstChange=!1)),s.update(i,{userEvent:a,scrollIntoView:!0})}function Dy(r,e,t,i){let s=Math.min(r.length,e.length),n=0;for(;n<s&&r.charCodeAt(n)==e.charCodeAt(n);)n++;if(n==s&&r.length==e.length)return null;let a=r.length,o=e.length;for(;a>0&&o>0&&r.charCodeAt(a-1)==e.charCodeAt(o-1);)a--,o--;if(i=="end"){let l=Math.max(0,n-Math.min(a,o));t-=a+l-n}return a<n&&r.length<e.length?(n-=t<=n&&t>=a?n-t:0,o=n+(o-a),a=n):o<n&&(n-=t<=n&&t>=o?n-t:0,a=n+(a-o),o=n),{from:n,toA:a,toB:o}}function Ry(r){let e=[];if(r.root.activeElement!=r.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:s,focusOffset:n}=r.observer.selectionRange;return t&&(e.push(new $f(t,i)),(s!=t||n!=i)&&e.push(new $f(s,n))),e}function Zy(r,e){if(r.length==0)return null;let t=r[0].pos,i=r.length==2?r[1].pos:t;return t>-1&&i>-1?Oe.single(t+e,i+e):null}class jy{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ue.safari&&e.contentDOM.addEventListener("input",()=>null),ue.gecko&&iw(e.contentDOM.ownerDocument)}handleEvent(e){!Wy(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){let i=this.handlers[e];if(i){for(let s of i.observers)s(this.view,t);for(let s of i.handlers){if(t.defaultPrevented)break;if(s(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=By(e),i=this.handlers,s=this.view.contentDOM;for(let n in t)if(n!="scroll"){let a=!t[n].handlers.length,o=i[n];o&&a!=!o.handlers.length&&(s.removeEventListener(n,this.handleEvent),o=null),o||s.addEventListener(n,this.handleEvent,{passive:a})}for(let n in i)n!="scroll"&&!t[n]&&s.removeEventListener(n,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&S0.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ue.android&&ue.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return ue.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=P0.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||Xy.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Tr(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ue.safari&&!ue.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Nf(r,e){return(t,i)=>{try{return e.call(r,i,t)}catch(s){fi(t.state,s)}}}function By(r){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of r){let s=i.spec;if(s&&s.domEventHandlers)for(let n in s.domEventHandlers){let a=s.domEventHandlers[n];a&&t(n).handlers.push(Nf(i.value,a))}if(s&&s.domEventObservers)for(let n in s.domEventObservers){let a=s.domEventObservers[n];a&&t(n).observers.push(Nf(i.value,a))}}for(let i in Ui)t(i).handlers.push(Ui[i]);for(let i in Ni)t(i).observers.push(Ni[i]);return e}const P0=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Xy="dthko",S0=[16,17,18,20,91,92,224,225],la=6;function ha(r){return Math.max(0,r)*.7+8}function qy(r,e){return Math.max(Math.abs(r.clientX-e.clientX),Math.abs(r.clientY-e.clientY))}class zy{constructor(e,t,i,s){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=Gb(e.contentDOM),this.atoms=e.state.facet(zh).map(a=>a(e));let n=e.contentDOM.ownerDocument;n.addEventListener("mousemove",this.move=this.move.bind(this)),n.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(et.allowMultipleSelections)&&Uy(e,t),this.dragging=Fy(e,t)&&C0(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&qy(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,i=0,s=0,n=0,a=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:n,bottom:o}=this.scrollParents.y.getBoundingClientRect());let l=Uh(this.view);e.clientX-l.left<=s+la?t=-ha(s-e.clientX):e.clientX+l.right>=a-la&&(t=ha(e.clientX-a)),e.clientY-l.top<=n+la?i=-ha(n-e.clientY):e.clientY+l.bottom>=o-la&&(i=ha(e.clientY-o)),this.setScrollSpeed(t,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let s=e.ranges[i],n=null;if(s.empty){let a=$a(this.atoms,s.from,0);a!=s.from&&(n=Oe.cursor(a,-1))}else{let a=$a(this.atoms,s.from,-1),o=$a(this.atoms,s.to,1);(a!=s.from||o!=s.to)&&(n=Oe.range(s.from==s.anchor?a:o,s.from==s.head?a:o))}n&&(t||(t=e.ranges.slice()),t[i]=n)}return t?Oe.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Uy(r,e){let t=r.state.facet(l0);return t.length?t[0](e):ue.mac?e.metaKey:e.ctrlKey}function Vy(r,e){let t=r.state.facet(h0);return t.length?t[0](e):ue.mac?!e.altKey:!e.ctrlKey}function Fy(r,e){let{main:t}=r.state.selection;if(t.empty)return!1;let i=In(r.root);if(!i||i.rangeCount==0)return!0;let s=i.getRangeAt(0).getClientRects();for(let n=0;n<s.length;n++){let a=s[n];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function Wy(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=r.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=yt.get(t))&&i.ignoreEvent(e))return!1;return!0}const Ui=Object.create(null),Ni=Object.create(null),A0=ue.ie&&ue.ie_version<15||ue.ios&&ue.webkit_version<604;function Hy(r){let e=r.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{r.focus(),t.remove(),T0(r,t.value)},50)}function Mo(r,e,t){for(let i of r.facet(e))t=i(t,r);return t}function T0(r,e){e=Mo(r.state,Bh,e);let{state:t}=r,i,s=1,n=t.toText(e),a=n.lines==t.selection.ranges.length;if(ah!=null&&t.selection.ranges.every(l=>l.empty)&&ah==n.toString()){let l=-1;i=t.changeByRange(h=>{let c=t.doc.lineAt(h.from);if(c.from==l)return{range:h};l=c.from;let u=t.toText((a?n.line(s++).text:e)+t.lineBreak);return{changes:{from:c.from,insert:u},range:Oe.cursor(h.from+u.length)}})}else a?i=t.changeByRange(l=>{let h=n.line(s++);return{changes:{from:l.from,to:l.to,insert:h.text},range:Oe.cursor(l.from+h.length)}}):i=t.replaceSelection(n);r.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Ni.scroll=r=>{r.inputState.lastScrollTop=r.scrollDOM.scrollTop,r.inputState.lastScrollLeft=r.scrollDOM.scrollLeft};Ui.keydown=(r,e)=>(r.inputState.setSelectionOrigin("select"),e.keyCode==27&&r.inputState.tabFocusMode!=0&&(r.inputState.tabFocusMode=Date.now()+2e3),!1);Ni.touchstart=(r,e)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};Ni.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};Ui.mousedown=(r,e)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of r.state.facet(c0))if(t=i(r,e),t)break;if(!t&&e.button==0&&(t=Ky(r,e)),t){let i=!r.hasFocus;r.inputState.startMouseSelection(new zy(r,e,t,i)),i&&r.observer.ignore(()=>{qm(r.contentDOM);let n=r.root.activeElement;n&&!n.contains(r.contentDOM)&&n.blur()});let s=r.inputState.mouseSelection;if(s)return s.start(e),s.dragging===!1}return!1};function Lf(r,e,t,i){if(i==1)return Oe.cursor(e,t);if(i==2)return Py(r.state,e,t);{let s=jt.find(r.docView,e),n=r.state.doc.lineAt(s?s.posAtEnd:e),a=s?s.posAtStart:n.from,o=s?s.posAtEnd:n.to;return o<r.state.doc.length&&o==n.to&&o++,Oe.range(a,o)}}let Df=(r,e,t)=>e>=t.top&&e<=t.bottom&&r>=t.left&&r<=t.right;function Yy(r,e,t,i){let s=jt.find(r.docView,e);if(!s)return 1;let n=e-s.posAtStart;if(n==0)return 1;if(n==s.length)return-1;let a=s.coordsAt(n,-1);if(a&&Df(t,i,a))return-1;let o=s.coordsAt(n,1);return o&&Df(t,i,o)?1:a&&a.bottom>=i?-1:1}function Rf(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:Yy(r,t,e.clientX,e.clientY)}}const Gy=ue.ie&&ue.ie_version<=11;let Zf=null,jf=0,Bf=0;function C0(r){if(!Gy)return r.detail;let e=Zf,t=Bf;return Zf=r,Bf=Date.now(),jf=!e||t>Date.now()-400&&Math.abs(e.clientX-r.clientX)<2&&Math.abs(e.clientY-r.clientY)<2?(jf+1)%3:1}function Ky(r,e){let t=Rf(r,e),i=C0(e),s=r.state.selection;return{update(n){n.docChanged&&(t.pos=n.changes.mapPos(t.pos),s=s.map(n.changes))},get(n,a,o){let l=Rf(r,n),h,c=Lf(r,l.pos,l.bias,i);if(t.pos!=l.pos&&!a){let u=Lf(r,t.pos,t.bias,i),p=Math.min(u.from,c.from),m=Math.max(u.to,c.to);c=p<c.from?Oe.range(p,m):Oe.range(m,p)}return a?s.replaceRange(s.main.extend(c.from,c.to)):o&&i==1&&s.ranges.length>1&&(h=Jy(s,l.pos))?h:o?s.addRange(c):Oe.create([c])}}}function Jy(r,e){for(let t=0;t<r.ranges.length;t++){let{from:i,to:s}=r.ranges[t];if(i<=e&&s>=e)return Oe.create(r.ranges.slice(0,t).concat(r.ranges.slice(t+1)),r.mainIndex==t?0:r.mainIndex-(r.mainIndex>t?1:0))}return null}Ui.dragstart=(r,e)=>{let{selection:{main:t}}=r.state;if(e.target.draggable){let s=r.docView.nearest(e.target);if(s&&s.isWidget){let n=s.posAtStart,a=n+s.length;(n>=t.to||a<=t.from)&&(t=Oe.range(n,a))}}let{inputState:i}=r;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Mo(r.state,Xh,r.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Ui.dragend=r=>(r.inputState.draggedContent=null,!1);function Xf(r,e,t,i){if(t=Mo(r.state,Bh,t),!t)return;let s=r.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:n}=r.inputState,a=i&&n&&Vy(r,e)?{from:n.from,to:n.to}:null,o={from:s,insert:t},l=r.state.changes(a?[a,o]:o);r.focus(),r.dispatch({changes:l,selection:{anchor:l.mapPos(s,-1),head:l.mapPos(s,1)},userEvent:a?"move.drop":"input.drop"}),r.inputState.draggedContent=null}Ui.drop=(r,e)=>{if(!e.dataTransfer)return!1;if(r.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),s=0,n=()=>{++s==t.length&&Xf(r,e,i.filter(a=>a!=null).join(r.state.lineBreak),!1)};for(let a=0;a<t.length;a++){let o=new FileReader;o.onerror=n,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(i[a]=o.result),n()},o.readAsText(t[a])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return Xf(r,e,i,!0),!0}return!1};Ui.paste=(r,e)=>{if(r.state.readOnly)return!0;r.observer.flush();let t=A0?null:e.clipboardData;return t?(T0(r,t.getData("text/plain")||t.getData("text/uri-list")),!0):(Hy(r),!1)};function ew(r,e){let t=r.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),r.focus()},50)}function tw(r){let e=[],t=[],i=!1;for(let s of r.selection.ranges)s.empty||(e.push(r.sliceDoc(s.from,s.to)),t.push(s));if(!e.length){let s=-1;for(let{from:n}of r.selection.ranges){let a=r.doc.lineAt(n);a.number>s&&(e.push(a.text),t.push({from:a.from,to:Math.min(r.doc.length,a.to+1)})),s=a.number}i=!0}return{text:Mo(r,Xh,e.join(r.lineBreak)),ranges:t,linewise:i}}let ah=null;Ui.copy=Ui.cut=(r,e)=>{let{text:t,ranges:i,linewise:s}=tw(r.state);if(!t&&!s)return!1;ah=s?t:null,e.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let n=A0?null:e.clipboardData;return n?(n.clearData(),n.setData("text/plain",t),!0):(ew(r,t),!1)};const _0=cr.define();function Q0(r,e){let t=[];for(let i of r.facet(p0)){let s=i(r,e);s&&t.push(s)}return t?r.update({effects:t,annotations:_0.of(!0)}):null}function E0(r){setTimeout(()=>{let e=r.hasFocus;if(e!=r.inputState.notifiedFocused){let t=Q0(r.state,e);t?r.dispatch(t):r.update([])}},10)}Ni.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),E0(r)};Ni.blur=r=>{r.observer.clearSelectionRange(),E0(r)};Ni.compositionstart=Ni.compositionupdate=r=>{r.observer.editContext||(r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0))};Ni.compositionend=r=>{r.observer.editContext||(r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionPendingKey=!0,r.inputState.compositionPendingChange=r.observer.pendingRecords().length>0,r.inputState.compositionFirstChange=null,ue.chrome&&ue.android?r.observer.flushSoon():r.inputState.compositionPendingChange?Promise.resolve().then(()=>r.observer.flush()):setTimeout(()=>{r.inputState.composing<0&&r.docView.hasComposition&&r.update([])},50))};Ni.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};Ui.beforeinput=(r,e)=>{var t,i;if(e.inputType=="insertReplacementText"&&r.observer.editContext){let n=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),a=e.getTargetRanges();if(n&&a.length){let o=a[0],l=r.posAtDOM(o.startContainer,o.startOffset),h=r.posAtDOM(o.endContainer,o.endOffset);return Vh(r,{from:l,to:h,insert:r.state.toText(n)},null),!0}}let s;if(ue.chrome&&ue.android&&(s=P0.find(n=>n.inputType==e.inputType))&&(r.observer.delayAndroidKey(s.key,s.keyCode),s.key=="Backspace"||s.key=="Delete")){let n=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>n+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}return ue.ios&&e.inputType=="deleteContentForward"&&r.observer.flushSoon(),ue.safari&&e.inputType=="insertText"&&r.inputState.composing>=0&&setTimeout(()=>Ni.compositionend(r,e),20),!1};const qf=new Set;function iw(r){qf.has(r)||(qf.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}const zf=["pre-wrap","normal","pre-line","break-spaces"];let Zr=!1;function Uf(){Zr=!1}class sw{constructor(e){this.lineWrapping=e,this.doc=tt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return zf.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let s=e[i];s<0?i++:this.heightSamples[Math.floor(s*10)]||(t=!0,this.heightSamples[Math.floor(s*10)]=!0)}return t}refresh(e,t,i,s,n,a){let o=zf.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=i,this.textHeight=s,this.lineLength=n,l){this.heightSamples={};for(let h=0;h<a.length;h++){let c=a[h];c<0?h++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class rw{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class is{constructor(e,t,i,s,n){this.from=e,this.length=t,this.top=i,this.height=s,this._content=n}get type(){return typeof this._content=="number"?Mi.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Xs?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new is(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var At=function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r}(At||(At={}));const Na=.001;class pi{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Na&&(Zr=!0),this.height=e)}replace(e,t,i){return pi.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,s){let n=this,a=i.doc;for(let o=s.length-1;o>=0;o--){let{fromA:l,toA:h,fromB:c,toB:u}=s[o],p=n.lineAt(l,At.ByPosNoHeight,i.setDoc(t),0,0),m=p.to>=h?p:n.lineAt(h,At.ByPosNoHeight,i,0,0);for(u+=m.to-h,h=m.to;o>0&&p.from<=s[o-1].toA;)l=s[o-1].fromA,c=s[o-1].fromB,o--,l<p.from&&(p=n.lineAt(l,At.ByPosNoHeight,i,0,0));c+=p.from-l,l=p.from;let g=Fh.build(i.setDoc(a),e,c,u);n=no(n,n.replace(l,h,g))}return n.updateHeight(i,0)}static empty(){return new ki(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,s=0,n=0;for(;;)if(t==i)if(s>n*2){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),i+=1+o.break,s-=o.size}else if(n>s*2){let o=e[i];o.break?e.splice(i,1,o.left,null,o.right):e.splice(i,1,o.left,o.right),i+=2+o.break,n-=o.size}else break;else if(s<n){let o=e[t++];o&&(s+=o.size)}else{let o=e[--i];o&&(n+=o.size)}let a=0;return e[t-1]==null?(a=1,t--):e[t]==null&&(a=1,i++),new nw(pi.of(e.slice(0,t)),a,pi.of(e.slice(i)))}}function no(r,e){return r==e?r:(r.constructor!=e.constructor&&(Zr=!0),e)}pi.prototype.size=1;class I0 extends pi{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,s){return new is(s,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,s,n){return this.blockAt(0,i,s,n)}forEachLine(e,t,i,s,n,a){e<=n+this.length&&t>=n&&a(this.blockAt(0,i,s,n))}updateHeight(e,t=0,i=!1,s){return s&&s.from<=t&&s.more&&this.setHeight(s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ki extends I0{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,s){return new is(s,this.length,i,this.height,this.breaks)}replace(e,t,i){let s=i[0];return i.length==1&&(s instanceof ki||s instanceof ei&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof ei?s=new ki(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):pi.of(i)}updateHeight(e,t=0,i=!1,s){return s&&s.from<=t&&s.more?this.setHeight(s.heights[s.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ei extends pi{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,s=e.doc.lineAt(t+this.length).number,n=s-i+1,a,o=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*n);a=l/n,this.length>n+1&&(o=(this.height-l)/(this.length-n-1))}else a=this.height/n;return{firstLine:i,lastLine:s,perLine:a,perChar:o}}blockAt(e,t,i,s){let{firstLine:n,lastLine:a,perLine:o,perChar:l}=this.heightMetrics(t,s);if(t.lineWrapping){let h=s+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),c=t.doc.lineAt(h),u=o+c.length*l,p=Math.max(i,e-u/2);return new is(c.from,c.length,p,u,0)}else{let h=Math.max(0,Math.min(a-n,Math.floor((e-i)/o))),{from:c,length:u}=t.doc.line(n+h);return new is(c,u,i+o*h,o,0)}}lineAt(e,t,i,s,n){if(t==At.ByHeight)return this.blockAt(e,i,s,n);if(t==At.ByPosNoHeight){let{from:m,to:g}=i.doc.lineAt(e);return new is(m,g-m,0,0,0)}let{firstLine:a,perLine:o,perChar:l}=this.heightMetrics(i,n),h=i.doc.lineAt(e),c=o+h.length*l,u=h.number-a,p=s+o*u+l*(h.from-n-u);return new is(h.from,h.length,Math.max(s,Math.min(p,s+this.height-c)),c,0)}forEachLine(e,t,i,s,n,a){e=Math.max(e,n),t=Math.min(t,n+this.length);let{firstLine:o,perLine:l,perChar:h}=this.heightMetrics(i,n);for(let c=e,u=s;c<=t;){let p=i.doc.lineAt(c);if(c==e){let g=p.number-o;u+=l*g+h*(e-n-g)}let m=l+h*p.length;a(new is(p.from,p.length,u,m,0)),u+=m,c=p.to+1}}replace(e,t,i){let s=this.length-t;if(s>0){let n=i[i.length-1];n instanceof ei?i[i.length-1]=new ei(n.length+s):i.push(null,new ei(s-1))}if(e>0){let n=i[0];n instanceof ei?i[0]=new ei(e+n.length):i.unshift(new ei(e-1),null)}return pi.of(i)}decomposeLeft(e,t){t.push(new ei(e-1),null)}decomposeRight(e,t){t.push(null,new ei(this.length-e-1))}updateHeight(e,t=0,i=!1,s){let n=t+this.length;if(s&&s.from<=t+this.length&&s.more){let a=[],o=Math.max(t,s.from),l=-1;for(s.from>t&&a.push(new ei(s.from-t-1).updateHeight(e,t));o<=n&&s.more;){let c=e.doc.lineAt(o).length;a.length&&a.push(null);let u=s.heights[s.index++];l==-1?l=u:Math.abs(u-l)>=Na&&(l=-2);let p=new ki(c,u);p.outdated=!1,a.push(p),o+=c+1}o<=n&&a.push(null,new ei(n-o).updateHeight(e,o));let h=pi.of(a);return(l<0||Math.abs(h.height-this.height)>=Na||Math.abs(l-this.heightMetrics(e,t).perLine)>=Na)&&(Zr=!0),no(this,h)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class nw extends pi{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,s){let n=i+this.left.height;return e<n?this.left.blockAt(e,t,i,s):this.right.blockAt(e,t,n,s+this.left.length+this.break)}lineAt(e,t,i,s,n){let a=s+this.left.height,o=n+this.left.length+this.break,l=t==At.ByHeight?e<a:e<o,h=l?this.left.lineAt(e,t,i,s,n):this.right.lineAt(e,t,i,a,o);if(this.break||(l?h.to<o:h.from>o))return h;let c=t==At.ByPosNoHeight?At.ByPosNoHeight:At.ByPos;return l?h.join(this.right.lineAt(o,c,i,a,o)):this.left.lineAt(o,c,i,s,n).join(h)}forEachLine(e,t,i,s,n,a){let o=s+this.left.height,l=n+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,i,s,n,a),t>=l&&this.right.forEachLine(e,t,i,o,l,a);else{let h=this.lineAt(l,At.ByPos,i,s,n);e<h.from&&this.left.forEachLine(e,h.from-1,i,s,n,a),h.to>=e&&h.from<=t&&a(h),t>h.to&&this.right.forEachLine(h.to+1,t,i,o,l,a)}}replace(e,t,i){let s=this.left.length+this.break;if(t<s)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,t-s,i));let n=[];e>0&&this.decomposeLeft(e,n);let a=n.length;for(let o of i)n.push(o);if(e>0&&Vf(n,a-1),t<this.length){let o=n.length;this.decomposeRight(t,n),Vf(n,o)}return pi.of(n)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,s=i+this.break;if(e>=s)return this.right.decomposeRight(e-s,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<s&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?pi.of(this.break?[e,null,t]:[e,t]):(this.left=no(this.left,e),this.right=no(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,s){let{left:n,right:a}=this,o=t+n.length+this.break,l=null;return s&&s.from<=t+n.length&&s.more?l=n=n.updateHeight(e,t,i,s):n.updateHeight(e,t,i),s&&s.from<=o+a.length&&s.more?l=a=a.updateHeight(e,o,i,s):a.updateHeight(e,o,i),l?this.balanced(n,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Vf(r,e){let t,i;r[e]==null&&(t=r[e-1])instanceof ei&&(i=r[e+1])instanceof ei&&r.splice(e-1,3,new ei(t.length+1+i.length))}const aw=5;class Fh{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof ki?s.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new ki(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let s=i.widget?i.widget.estimatedHeight:0,n=i.widget?i.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let a=t-e;i.block?this.addBlock(new I0(a,s,i)):(a||n||s>=aw)&&this.addLineDeco(s,n,a)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ki(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new ei(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ki)return e;let t=new ki(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let s=this.ensureLine();s.length+=i,s.collapsed+=i,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof ki)&&!this.isCovered?this.nodes.push(new ki(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let s of this.nodes)s instanceof ki&&s.updateHeight(this.oracle,i),i+=s?s.length:1;return this.nodes}static build(e,t,i,s){let n=new Fh(i,e);return Je.spans(t,i,s,n,0),n.finish(i)}}function ow(r,e,t){let i=new lw;return Je.compare(r,e,t,i,0),i.changes}class lw{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,s){(e<t||i&&i.heightRelevant||s&&s.heightRelevant)&&Ma(e,t,this.changes,5)}}function hw(r,e){let t=r.getBoundingClientRect(),i=r.ownerDocument,s=i.defaultView||window,n=Math.max(0,t.left),a=Math.min(s.innerWidth,t.right),o=Math.max(0,t.top),l=Math.min(s.innerHeight,t.bottom);for(let h=r.parentNode;h&&h!=i.body;)if(h.nodeType==1){let c=h,u=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&u.overflow!="visible"){let p=c.getBoundingClientRect();n=Math.max(n,p.left),a=Math.min(a,p.right),o=Math.max(o,p.top),l=Math.min(h==r.parentNode?s.innerHeight:l,p.bottom)}h=u.position=="absolute"||u.position=="fixed"?c.offsetParent:c.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:n-t.left,right:Math.max(n,a)-t.left,top:o-(t.top+e),bottom:Math.max(o,l)-(t.top+e)}}function cw(r,e){let t=r.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class il{constructor(e,t,i,s){this.from=e,this.to=t,this.size=i,this.displaySize=s}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let s=e[i],n=t[i];if(s.from!=n.from||s.to!=n.to||s.size!=n.size)return!1}return!0}draw(e,t){return pt.replace({widget:new uw(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class uw extends Zn{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Ff{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Wf,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=$t.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(qh).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new sw(t),this.stateDeco=e.facet($n).filter(i=>typeof i!="function"),this.heightMap=pi.empty().applyChanges(this.stateDeco,tt.empty,this.heightOracle.setDoc(e.doc),[new $i(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=pt.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let s=i?t.head:t.anchor;if(!e.some(({from:n,to:a})=>s>=n&&s<=a)){let{from:n,to:a}=this.lineBlockAt(s);e.push(new ca(n,a))}}return this.viewports=e.sort((i,s)=>i.from-s.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Wf:new Wh(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(fn(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet($n).filter(c=>typeof c!="function");let s=e.changedRanges,n=$i.extendWithRanges(s,ow(i,this.stateDeco,e?e.changes:Ht.empty(this.state.doc.length))),a=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Uf(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),n),(this.heightMap.height!=a||Zr)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=n.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let h=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(my)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),s=this.heightOracle,n=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?$t.RTL:$t.LTR;let a=this.heightOracle.mustRefreshForWrapping(n),o=t.getBoundingClientRect(),l=a||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let h=0,c=0;if(o.width&&o.height){let{scaleX:x,scaleY:P}=Xm(t,o);(x>.005&&Math.abs(this.scaleX-x)>.005||P>.005&&Math.abs(this.scaleY-P)>.005)&&(this.scaleX=x,this.scaleY=P,h|=16,a=l=!0)}let u=(parseInt(i.paddingTop)||0)*this.scaleY,p=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=u||this.paddingBottom!=p)&&(this.paddingTop=u,this.paddingBottom=p,h|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=16);let m=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=m&&(this.scrollAnchorHeight=-1,this.scrollTop=m),this.scrolledToBottom=Um(e.scrollDOM);let g=(this.printing?cw:hw)(t,this.paddingTop),b=g.top-this.pixelViewport.top,w=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let v=o.width;if((this.contentDOMWidth!=v||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,h|=16),l){let x=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(x)&&(a=!0),a||s.lineWrapping&&Math.abs(v-this.contentDOMWidth)>s.charWidth){let{lineHeight:P,charWidth:S,textHeight:A}=e.docView.measureTextSize();a=P>0&&s.refresh(n,P,S,A,v/S,x),a&&(e.docView.minWidth=0,h|=16)}b>0&&w>0?c=Math.max(b,w):b<0&&w<0&&(c=Math.min(b,w)),Uf();for(let P of this.viewports){let S=P.from==this.viewport.from?x:e.docView.measureVisibleLineHeights(P);this.heightMap=(a?pi.empty().applyChanges(this.stateDeco,tt.empty,this.heightOracle,[new $i(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,a,new rw(P.from,S))}Zr&&(h|=2)}let T=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return T&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),h|=this.updateForViewport()),(h&2||T)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,n=this.heightOracle,{visibleTop:a,visibleBottom:o}=this,l=new ca(s.lineAt(a-i*1e3,At.ByHeight,n,0,0).from,s.lineAt(o+(1-i)*1e3,At.ByHeight,n,0,0).to);if(t){let{head:h}=t.range;if(h<l.from||h>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),u=s.lineAt(h,At.ByPos,n,0,0),p;t.y=="center"?p=(u.top+u.bottom)/2-c/2:t.y=="start"||t.y=="nearest"&&h<l.from?p=u.top:p=u.bottom-c,l=new ca(s.lineAt(p-1e3/2,At.ByHeight,n,0,0).from,s.lineAt(p+c+1e3/2,At.ByHeight,n,0,0).to)}}return l}mapViewport(e,t){let i=t.mapPos(e.from,-1),s=t.mapPos(e.to,1);return new ca(this.heightMap.lineAt(i,At.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,At.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,At.ByPos,this.heightOracle,0,0),{bottom:n}=this.heightMap.lineAt(t,At.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:o}=this;return(e==0||s<=a-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||n>=o+Math.max(10,Math.min(i,250)))&&s>a-2*1e3&&n<o+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let s of e)t.touchesRange(s.from,s.to)||i.push(new il(t.mapPos(s.from),t.mapPos(s.to),s.size,s.displaySize));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,s=i?1e4:2e3,n=s>>1,a=s<<1;if(this.defaultTextDirection!=$t.LTR&&!i)return[];let o=[],l=(c,u,p,m)=>{if(u-c<n)return;let g=this.state.selection.main,b=[g.from];g.empty||b.push(g.to);for(let y of b)if(y>c&&y<u){l(c,y-10,p,m),l(y+10,u,p,m);return}let w=pw(e,y=>y.from>=p.from&&y.to<=p.to&&Math.abs(y.from-c)<n&&Math.abs(y.to-u)<n&&!b.some(v=>y.from<v&&y.to>v));if(!w){if(u<p.to&&t&&i&&t.visibleRanges.some(T=>T.from<=u&&T.to>=u)){let T=t.moveToLineBoundary(Oe.cursor(u),!1,!0).head;T>c&&(u=T)}let y=this.gapSize(p,c,u,m),v=i||y<2e6?y:2e6;w=new il(c,u,y,v)}o.push(w)},h=c=>{if(c.length<a||c.type!=Mi.Text)return;let u=fw(c.from,c.to,this.stateDeco);if(u.total<a)return;let p=this.scrollTarget?this.scrollTarget.range.head:null,m,g;if(i){let b=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,w,y;if(p!=null){let v=fa(u,p),T=((this.visibleBottom-this.visibleTop)/2+b)/c.height;w=v-T,y=v+T}else w=(this.visibleTop-c.top-b)/c.height,y=(this.visibleBottom-c.top+b)/c.height;m=ua(u,w),g=ua(u,y)}else{let b=u.total*this.heightOracle.charWidth,w=s*this.heightOracle.charWidth,y=0;if(b>2e6)for(let S of e)S.from>=c.from&&S.from<c.to&&S.size!=S.displaySize&&S.from*this.heightOracle.charWidth+y<this.pixelViewport.left&&(y=S.size-S.displaySize);let v=this.pixelViewport.left+y,T=this.pixelViewport.right+y,x,P;if(p!=null){let S=fa(u,p),A=((T-v)/2+w)/b;x=S-A,P=S+A}else x=(v-w)/b,P=(T+w)/b;m=ua(u,x),g=ua(u,P)}m>c.from&&l(c.from,m,c,u),g<c.to&&l(g,c.to,c,u)};for(let c of this.viewportLines)Array.isArray(c.type)?c.type.forEach(h):h(c);return o}gapSize(e,t,i,s){let n=fa(s,i)-fa(s,t);return this.heightOracle.lineWrapping?e.height*n:s.total*this.heightOracle.charWidth*n}updateLineGaps(e){il.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=pt.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];Je.spans(t,this.viewport.from,this.viewport.to,{span(n,a){i.push({from:n,to:a})},point(){}},20);let s=0;if(i.length!=this.visibleRanges.length)s=12;else for(let n=0;n<i.length&&!(s&8);n++){let a=this.visibleRanges[n],o=i[n];(a.from!=o.from||a.to!=o.to)&&(s|=4,e&&e.mapPos(a.from,-1)==o.from&&e.mapPos(a.to,1)==o.to||(s|=8))}return this.visibleRanges=i,s}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||fn(this.heightMap.lineAt(e,At.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||fn(this.heightMap.lineAt(this.scaler.fromDOM(e),At.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return fn(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class ca{constructor(e,t){this.from=e,this.to=t}}function fw(r,e,t){let i=[],s=r,n=0;return Je.spans(t,r,e,{span(){},point(a,o){a>s&&(i.push({from:s,to:a}),n+=a-s),s=o}},20),s<e&&(i.push({from:s,to:e}),n+=e-s),{total:n,ranges:i}}function ua({total:r,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(r*t);for(let s=0;;s++){let{from:n,to:a}=e[s],o=a-n;if(i<=o)return n+i;i-=o}}function fa(r,e){let t=0;for(let{from:i,to:s}of r.ranges){if(e<=s){t+=e-i;break}t+=s-i}return t/r.total}function pw(r,e){for(let t of r)if(e(t))return t}const Wf={toDOM(r){return r},fromDOM(r){return r},scale:1,eq(r){return r==this}};class Wh{constructor(e,t,i){let s=0,n=0,a=0;this.viewports=i.map(({from:o,to:l})=>{let h=t.lineAt(o,At.ByPos,e,0,0).top,c=t.lineAt(l,At.ByPos,e,0,0).bottom;return s+=c-h,{from:o,to:l,top:h,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(t.height-s);for(let o of this.viewports)o.domTop=a+(o.top-n)*this.scale,a=o.domBottom=o.domTop+(o.bottom-o.top),n=o.bottom}toDOM(e){for(let t=0,i=0,s=0;;t++){let n=t<this.viewports.length?this.viewports[t]:null;if(!n||e<n.top)return s+(e-i)*this.scale;if(e<=n.bottom)return n.domTop+(e-n.top);i=n.bottom,s=n.domBottom}}fromDOM(e){for(let t=0,i=0,s=0;;t++){let n=t<this.viewports.length?this.viewports[t]:null;if(!n||e<n.domTop)return i+(e-s)/this.scale;if(e<=n.domBottom)return n.top+(e-n.domTop);i=n.bottom,s=n.domBottom}}eq(e){return e instanceof Wh?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to):!1}}function fn(r,e){if(e.scale==1)return r;let t=e.toDOM(r.top),i=e.toDOM(r.bottom);return new is(r.from,r.length,t,i-t,Array.isArray(r._content)?r._content.map(s=>fn(s,e)):r._content)}const pa=ye.define({combine:r=>r.join(" ")}),oh=ye.define({combine:r=>r.indexOf(!0)>-1}),lh=js.newName(),M0=js.newName(),$0=js.newName(),N0={"&light":"."+M0,"&dark":"."+$0};function hh(r,e,t){return new js(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,s=>{if(s=="&")return r;if(!t||!t[s])throw new RangeError(`Unsupported selector: ${s}`);return t[s]}):r+" "+i}})}const dw=hh("."+lh,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},N0),mw={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},sl=ue.ie&&ue.ie_version<=11;class gw{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Kb,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(ue.ie&&ue.ie_version<=11||ue.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(ue.chrome&&ue.chrome_version<126)&&(this.editContext=new bw(e),e.state.facet(ps)&&(e.contentDOM.editContext=this.editContext.editContext)),sl&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,s=this.selectionRange;if(i.state.facet(ps)?i.root.activeElement!=this.dom:!Ia(this.dom,s))return;let n=s.anchorNode&&i.docView.nearest(s.anchorNode);if(n&&n.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(ue.ie&&ue.ie_version<=11||ue.android&&ue.chrome)&&!i.state.selection.main.empty&&s.focusNode&&vn(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=In(e.root);if(!t)return!1;let i=ue.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Ow(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let s=Ia(this.dom,i);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&ey(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,mw),sl&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){!this.active||(this.active=!1,this.observer.disconnect(),sl&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let s=()=>{let n=this.delayedAndroidKey;n&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=n.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&n.force&&Tr(this.dom,n.key,n.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,s=!1;for(let n of e){let a=this.readMutation(n);!a||(a.typeOver&&(s=!0),t==-1?{from:t,to:i}=a:(t=Math.min(a.from,t),i=Math.max(a.to,i)))}return{from:t,to:i,typeOver:s}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),s=this.selectionChanged&&Ia(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let n=new Ny(this.view,e,t,i);return this.view.docView.domChanged={newSel:n.newSel?n.newSel.main:null},n}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,s=k0(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),s}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let i=Hf(t,e.previousSibling||e.target.previousSibling,-1),s=Hf(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:s?t.posBefore(s):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ps)!=e.state.facet(ps)&&(e.view.contentDOM.editContext=e.state.facet(ps)?this.editContext.editContext:null))}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Hf(r,e,t){for(;e;){let i=yt.get(e);if(i&&i.parent==r)return i;let s=e.parentNode;e=s!=r.dom?s:t>0?e.nextSibling:e.previousSibling}return null}function Yf(r,e){let t=e.startContainer,i=e.startOffset,s=e.endContainer,n=e.endOffset,a=r.docView.domAtPos(r.state.selection.main.anchor);return vn(a.node,a.offset,s,n)&&([t,i,s,n]=[s,n,t,i]),{anchorNode:t,anchorOffset:i,focusNode:s,focusOffset:n}}function Ow(r,e){if(e.getComposedRanges){let s=e.getComposedRanges(r.root)[0];if(s)return Yf(r,s)}let t=null;function i(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return r.contentDOM.addEventListener("beforeinput",i,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",i,!0),t?Yf(r,t):null}class bw{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let{anchor:s}=e.state.selection.main,n=this.toEditorPos(i.updateRangeStart),a=this.toEditorPos(i.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:n,drifted:!1});let o={from:n,to:a,insert:tt.of(i.text.split(`
`))};if(o.from==this.from&&s<this.from?o.from=s:o.to==this.to&&s>this.to&&(o.to=s),!(o.from==o.to&&!o.insert.length)){if(this.pendingContextChange=o,!e.state.readOnly){let l=this.to-this.from+(o.to-o.from+o.insert.length);Vh(e,o,Oe.single(this.toEditorPos(i.selectionStart,l),this.toEditorPos(i.selectionEnd,l)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))}},this.handlers.characterboundsupdate=i=>{let s=[],n=null;for(let a=this.toEditorPos(i.rangeStart),o=this.toEditorPos(i.rangeEnd);a<o;a++){let l=e.coordsForChar(a);n=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||n||new DOMRect,s.push(n)}t.updateCharacterBounds(i.rangeStart,s)},this.handlers.textformatupdate=i=>{let s=[];for(let n of i.getTextFormats()){let a=n.underlineStyle,o=n.underlineThickness;if(a!="None"&&o!="None"){let l=this.toEditorPos(n.rangeStart),h=this.toEditorPos(n.rangeEnd);if(l<h){let c=`text-decoration: underline ${a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${o=="Thin"?1:2}px`;s.push(pt.mark({attributes:{style:c}}).range(l,h))}}}e.dispatch({effects:g0.of(pt.set(s))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(e.state)}};for(let i in this.handlers)t.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let s=In(i.root);s&&s.rangeCount&&this.editContext.updateSelectionBounds(s.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,i=!1,s=this.pendingContextChange;return e.changes.iterChanges((n,a,o,l,h)=>{if(i)return;let c=h.length-(a-n);if(s&&a>=s.to)if(s.from==n&&s.to==a&&s.insert.eq(h)){s=this.pendingContextChange=null,t+=c,this.to+=c;return}else s=null,this.revertPending(e.state);if(n+=t,a+=t,a<=this.from)this.from+=c,this.to+=c;else if(n<this.to){if(n<this.from||a>this.to||this.to-this.from+h.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(n),this.toContextPos(a),h.toString()),this.to+=c}t+=c}),s&&!i&&this.revertPending(e.state),!i}update(e){let t=this.pendingContextChange;this.composing&&(this.composing.drifted||e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),s=this.toContextPos(t.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=s)&&this.editContext.updateSelection(i,s)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let i=this.composing;return i&&i.drifted?i.editorBase+(e-i.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Te{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(s=>s.forEach(n=>i(n,this)))||(s=>this.update(s)),this.dispatch=this.dispatch.bind(this),this._root=e.root||Jb(e.parent)||document,this.viewState=new Ff(e.state||et.create(e)),e.scrollTo&&e.scrollTo.is(oa)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(hn).map(s=>new Jo(s));for(let s of this.plugins)s.update(this);this.observer=new gw(this),this.inputState=new jy(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Cf(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof ii?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,s,n=this.state;for(let p of e){if(p.startState!=n)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");n=p.state}if(this.destroyed){this.viewState.state=n;return}let a=this.hasFocus,o=0,l=null;e.some(p=>p.annotation(_0))?(this.inputState.notifiedFocused=a,o=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,l=Q0(n,a),l||(o=1));let h=this.observer.delayedAndroidKey,c=null;if(h?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(n.doc)||!this.state.selection.eq(n.selection))&&(c=null)):this.observer.clear(),n.facet(et.phrases)!=this.state.facet(et.phrases))return this.setState(n);s=ro.create(this,n,e),s.flags|=o;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let p of e){if(u&&(u=u.map(p.changes)),p.scrollIntoView){let{main:m}=p.state.selection;u=new Cr(m.empty?m:Oe.cursor(m.head,m.head>m.anchor?-1:1))}for(let m of p.effects)m.is(oa)&&(u=m.value.clip(this.state))}this.viewState.update(s,u),this.bidiCache=ao.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),t=this.docView.update(s),this.state.facet(cn)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(p=>p.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(pa)!=s.state.facet(pa)&&(this.viewState.mustMeasureContent=!0),(t||i||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!s.empty)for(let p of this.state.facet(rh))try{p(s)}catch(m){fi(this.state,m,"update listener")}(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!k0(this,c)&&h.force&&Tr(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new Ff(e),this.plugins=e.facet(hn).map(i=>new Jo(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new Cf(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(hn),i=e.state.facet(hn);if(t!=i){let s=[];for(let n of i){let a=t.indexOf(n);if(a<0)s.push(new Jo(n));else{let o=this.plugins[a];o.mustUpdate=e,s.push(o)}}for(let n of this.plugins)n.mustUpdate!=e&&n.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){fi(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,s=i.scrollTop*this.scaleY,{scrollAnchorPos:n,scrollAnchorHeight:a}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(a<0)if(Um(i))n=-1,a=this.viewState.heightMap.height;else{let m=this.viewState.scrollAnchorAt(s);n=m.from,a=m.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];l&4||([this.measureRequests,h]=[h,this.measureRequests]);let c=h.map(m=>{try{return m.read(this)}catch(g){return fi(this.state,g),Gf}}),u=ro.create(this,this.state,[]),p=!1;u.flags|=l,t?t.flags|=l:t=u,this.updateState=2,u.empty||(this.updatePlugins(u),this.inputState.update(u),this.updateAttrs(),p=this.docView.update(u),p&&this.docViewUpdate());for(let m=0;m<h.length;m++)if(c[m]!=Gf)try{let g=h[m];g.write&&g.write(c[m],this)}catch(g){fi(this.state,g)}if(p&&this.docView.updateSelection(!0),!u.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let g=(n<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(n).top)-a;if(g>1||g<-1){s=s+g,i.scrollTop=s/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let o of this.state.facet(rh))o(t)}get themeClasses(){return lh+" "+(this.state.facet(oh)?$0:M0)+" "+this.state.facet(pa)}updateAttrs(){let e=Kf(this,O0,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ps)?"true":"false",class:"cm-content",style:`${ue.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Kf(this,qh,t);let i=this.observer.ignore(()=>{let s=Jl(this.contentDOM,this.contentAttrs,t),n=Jl(this.dom,this.editorAttrs,e);return s||n});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let s of i.effects)if(s.is(Te.announce)){t&&(this.announceDOM.textContent=""),t=!1;let n=this.announceDOM.appendChild(document.createElement("div"));n.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(cn);let e=this.state.facet(Te.cspNonce);js.mount(this.root,this.styleModules.concat(dw).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return tl(this,e,Mf(this,e,t,i))}moveByGroup(e,t){return tl(this,e,Mf(this,e,t,i=>Ey(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),s=this.textDirectionAt(e.from),n=i[t?i.length-1:0];return Oe.cursor(n.side(t,s)+e.from,n.forward(!t,s)?1:-1)}moveToLineBoundary(e,t,i=!0){return Qy(this,e,t,i)}moveVertically(e,t,i){return tl(this,e,Iy(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),x0(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let s=this.state.doc.lineAt(e),n=this.bidiSpans(s),a=n[Ns.find(n,e-s.from,-1,t)];return Eo(i,a.dir==$t.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(d0)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>yw)return a0(e.length);let t=this.textDirectionAt(e.from),i;for(let n of this.bidiCache)if(n.from==e.from&&n.dir==t&&(n.fresh||n0(n.isolates,i=Tf(this,e))))return n.order;i||(i=Tf(this,e));let s=fy(e.text,t,i);return this.bidiCache.push(new ao(e.from,e.to,t,i,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ue.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{qm(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return oa.of(new Cr(typeof e=="number"?Oe.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return oa.of(new Cr(Oe.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Ti.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Ti.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=js.newName(),s=[pa.of(i),cn.of(hh(`.${i}`,e))];return t&&t.dark&&s.push(oh.of(!0)),s}static baseTheme(e){return Vr.lowest(cn.of(hh("."+lh,e,N0)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),s=i&&yt.get(i)||yt.get(e);return((t=s==null?void 0:s.rootView)===null||t===void 0?void 0:t.view)||null}}Te.styleModule=cn;Te.inputHandler=f0;Te.clipboardInputFilter=Bh;Te.clipboardOutputFilter=Xh;Te.scrollHandler=m0;Te.focusChangeEffect=p0;Te.perLineTextDirection=d0;Te.exceptionSink=u0;Te.updateListener=rh;Te.editable=ps;Te.mouseSelectionStyle=c0;Te.dragMovesSelection=h0;Te.clickAddsSelectionRange=l0;Te.decorations=$n;Te.outerDecorations=b0;Te.atomicRanges=zh;Te.bidiIsolatedRanges=y0;Te.scrollMargins=w0;Te.darkTheme=oh;Te.cspNonce=ye.define({combine:r=>r.length?r[0]:""});Te.contentAttributes=qh;Te.editorAttributes=O0;Te.lineWrapping=Te.contentAttributes.of({class:"cm-lineWrapping"});Te.announce=Ge.define();const yw=4096,Gf={};class ao{constructor(e,t,i,s,n,a){this.from=e,this.to=t,this.dir=i,this.isolates=s,this.fresh=n,this.order=a}static update(e,t){if(t.empty&&!e.some(n=>n.fresh))return e;let i=[],s=e.length?e[e.length-1].dir:$t.LTR;for(let n=Math.max(0,e.length-10);n<e.length;n++){let a=e[n];a.dir==s&&!t.touchesRange(a.from,a.to)&&i.push(new ao(t.mapPos(a.from,1),t.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return i}}function Kf(r,e,t){for(let i=r.state.facet(e),s=i.length-1;s>=0;s--){let n=i[s],a=typeof n=="function"?n(r):n;a&&Kl(a,t)}return t}const ww=ue.mac?"mac":ue.windows?"win":ue.linux?"linux":"key";function vw(r,e){const t=r.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let s,n,a,o;for(let l=0;l<t.length-1;++l){const h=t[l];if(/^(cmd|meta|m)$/i.test(h))o=!0;else if(/^a(lt)?$/i.test(h))s=!0;else if(/^(c|ctrl|control)$/i.test(h))n=!0;else if(/^s(hift)?$/i.test(h))a=!0;else if(/^mod$/i.test(h))e=="mac"?o=!0:n=!0;else throw new Error("Unrecognized modifier name: "+h)}return s&&(i="Alt-"+i),n&&(i="Ctrl-"+i),o&&(i="Meta-"+i),a&&(i="Shift-"+i),i}function da(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}const xw=Vr.default(Te.domEventHandlers({keydown(r,e){return Aw(kw(e.state),r,e,"editor")}})),Hh=ye.define({enables:xw}),Jf=new WeakMap;function kw(r){let e=r.facet(Hh),t=Jf.get(e);return t||Jf.set(e,t=Sw(e.reduce((i,s)=>i.concat(s),[]))),t}let Is=null;const Pw=4e3;function Sw(r,e=ww){let t=Object.create(null),i=Object.create(null),s=(a,o)=>{let l=i[a];if(l==null)i[a]=o;else if(l!=o)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},n=(a,o,l,h,c)=>{var u,p;let m=t[a]||(t[a]=Object.create(null)),g=o.split(/ (?!$)/).map(y=>vw(y,e));for(let y=1;y<g.length;y++){let v=g.slice(0,y).join(" ");s(v,!0),m[v]||(m[v]={preventDefault:!0,stopPropagation:!1,run:[T=>{let x=Is={view:T,prefix:v,scope:a};return setTimeout(()=>{Is==x&&(Is=null)},Pw),!0}]})}let b=g.join(" ");s(b,!1);let w=m[b]||(m[b]={preventDefault:!1,stopPropagation:!1,run:((p=(u=m._any)===null||u===void 0?void 0:u.run)===null||p===void 0?void 0:p.slice())||[]});l&&w.run.push(l),h&&(w.preventDefault=!0),c&&(w.stopPropagation=!0)};for(let a of r){let o=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let h of o){let c=t[h]||(t[h]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:u}=a;for(let p in c)c[p].run.push(m=>u(m,ch))}let l=a[e]||a.key;if(!!l)for(let h of o)n(h,l,a.run,a.preventDefault,a.stopPropagation),a.shift&&n(h,"Shift-"+l,a.shift,a.preventDefault,a.stopPropagation)}return t}let ch=null;function Aw(r,e,t,i){ch=e;let s=Wb(e),n=Fs(s,0),a=mr(n)==s.length&&s!=" ",o="",l=!1,h=!1,c=!1;Is&&Is.view==t&&Is.scope==i&&(o=Is.prefix+" ",S0.indexOf(e.keyCode)<0&&(h=!0,Is=null));let u=new Set,p=w=>{if(w){for(let y of w.run)if(!u.has(y)&&(u.add(y),y(t)))return w.stopPropagation&&(c=!0),!0;w.preventDefault&&(w.stopPropagation&&(c=!0),h=!0)}return!1},m=r[i],g,b;return m&&(p(m[o+da(s,e,!a)])?l=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ue.windows&&e.ctrlKey&&e.altKey)&&(g=Bs[e.keyCode])&&g!=s?(p(m[o+da(g,e,!0)])||e.shiftKey&&(b=En[e.keyCode])!=s&&b!=g&&p(m[o+da(b,e,!1)]))&&(l=!0):a&&e.shiftKey&&p(m[o+da(s,e,!0)])&&(l=!0),!l&&p(m._any)&&(l=!0)),h&&(l=!0),l&&c&&e.stopPropagation(),ch=null,l}const Tw=!(ue.ios&&ue.webkit&&ue.webkit_version<534),ep={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};Tw&&(ep[".cm-line"].caretColor=ep[".cm-content"].caretColor="transparent !important");const Gr="-10000px";class L0{constructor(e,t,i,s){this.facet=t,this.createTooltipView=i,this.removeTooltipView=s,this.input=e.state.facet(t),this.tooltips=this.input.filter(a=>a);let n=null;this.tooltipViews=this.tooltips.map(a=>n=i(a,n))}update(e,t){var i;let s=e.state.facet(this.facet),n=s.filter(l=>l);if(s===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let a=[],o=t?[]:null;for(let l=0;l<n.length;l++){let h=n[l],c=-1;if(!!h){for(let u=0;u<this.tooltips.length;u++){let p=this.tooltips[u];p&&p.create==h.create&&(c=u)}if(c<0)a[l]=this.createTooltipView(h,l?a[l-1]:null),o&&(o[l]=!!h.above);else{let u=a[l]=this.tooltipViews[c];o&&(o[l]=t[c]),u.update&&u.update(e)}}}for(let l of this.tooltipViews)a.indexOf(l)<0&&(this.removeTooltipView(l),(i=l.destroy)===null||i===void 0||i.call(l));return t&&(o.forEach((l,h)=>t[h]=l),t.length=o.length),this.input=s,this.tooltips=n,this.tooltipViews=a,!0}}function Cw(r){let{win:e}=r;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const rl=ye.define({combine:r=>{var e,t,i;return{position:ue.ios?"absolute":((e=r.find(s=>s.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=r.find(s=>s.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=r.find(s=>s.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||Cw}}}),tp=new WeakMap,Yh=Ti.fromClass(class{constructor(r){this.view=r,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=r.state.facet(rl);this.position=e.position,this.parent=e.parent,this.classes=r.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new L0(r,$o,(t,i)=>this.createTooltip(t,i),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),r.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let r of this.manager.tooltipViews)this.intersectionObserver.observe(r.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(r){r.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(r,this.above);e&&this.observeIntersection();let t=e||r.geometryChanged,i=r.state.facet(rl);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let s of this.manager.tooltipViews)s.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let s of this.manager.tooltipViews)this.container.appendChild(s.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(r,e){let t=r.create(this.view),i=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),r.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let s=document.createElement("div");s.className="cm-tooltip-arrow",t.dom.appendChild(s)}return t.dom.style.position=this.position,t.dom.style.top=Gr,t.dom.style.left="0px",this.container.insertBefore(t.dom,i),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var r,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(r=i.destroy)===null||r===void 0||r.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let r=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:n}=this.manager.tooltipViews[0];if(ue.gecko)t=n.offsetParent!=this.container.ownerDocument.body;else if(n.style.top==Gr&&n.style.left=="0px"){let a=n.getBoundingClientRect();t=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}}if(t||this.position=="absolute")if(this.parent){let n=this.parent.getBoundingClientRect();n.width&&n.height&&(r=n.width/this.parent.offsetWidth,e=n.height/this.parent.offsetHeight)}else({scaleX:r,scaleY:e}=this.view.viewState);let i=this.view.scrollDOM.getBoundingClientRect(),s=Uh(this.view);return{visible:{left:i.left+s.left,top:i.top+s.top,right:i.right-s.right,bottom:i.bottom-s.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((n,a)=>{let o=this.manager.tooltipViews[a];return o.getCoords?o.getCoords(n.pos):this.view.coordsAtPos(n.pos)}),size:this.manager.tooltipViews.map(({dom:n})=>n.getBoundingClientRect()),space:this.view.state.facet(rl).tooltipSpace(this.view),scaleX:r,scaleY:e,makeAbsolute:t}}writeMeasure(r){var e;if(r.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let o of this.manager.tooltipViews)o.dom.style.position="absolute"}let{visible:t,space:i,scaleX:s,scaleY:n}=r,a=[];for(let o=0;o<this.manager.tooltips.length;o++){let l=this.manager.tooltips[o],h=this.manager.tooltipViews[o],{dom:c}=h,u=r.pos[o],p=r.size[o];if(!u||l.clip!==!1&&(u.bottom<=Math.max(t.top,i.top)||u.top>=Math.min(t.bottom,i.bottom)||u.right<Math.max(t.left,i.left)-.1||u.left>Math.min(t.right,i.right)+.1)){c.style.top=Gr;continue}let m=l.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,g=m?7:0,b=p.right-p.left,w=(e=tp.get(h))!==null&&e!==void 0?e:p.bottom-p.top,y=h.offset||Qw,v=this.view.textDirection==$t.LTR,T=p.width>i.right-i.left?v?i.left:i.right-p.width:v?Math.max(i.left,Math.min(u.left-(m?14:0)+y.x,i.right-b)):Math.min(Math.max(i.left,u.left-b+(m?14:0)-y.x),i.right-b),x=this.above[o];!l.strictSide&&(x?u.top-w-g-y.y<i.top:u.bottom+w+g+y.y>i.bottom)&&x==i.bottom-u.bottom>u.top-i.top&&(x=this.above[o]=!x);let P=(x?u.top-i.top:i.bottom-u.bottom)-g;if(P<w&&h.resize!==!1){if(P<this.view.defaultLineHeight){c.style.top=Gr;continue}tp.set(h,w),c.style.height=(w=P)/n+"px"}else c.style.height&&(c.style.height="");let S=x?u.top-w-g-y.y:u.bottom+g+y.y,A=T+b;if(h.overlap!==!0)for(let Q of a)Q.left<A&&Q.right>T&&Q.top<S+w&&Q.bottom>S&&(S=x?Q.top-w-2-g:Q.bottom+g+2);if(this.position=="absolute"?(c.style.top=(S-r.parent.top)/n+"px",ip(c,(T-r.parent.left)/s)):(c.style.top=S/n+"px",ip(c,T/s)),m){let Q=u.left+(v?y.x:-y.x)-(T+14-7);m.style.left=Q/s+"px"}h.overlap!==!0&&a.push({left:T,top:S,right:A,bottom:S+w}),c.classList.toggle("cm-tooltip-above",x),c.classList.toggle("cm-tooltip-below",!x),h.positioned&&h.positioned(r.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let r of this.manager.tooltipViews)r.dom.style.top=Gr}},{eventObservers:{scroll(){this.maybeMeasure()}}});function ip(r,e){let t=parseInt(r.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(r.style.left=e+"px")}const _w=Te.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Qw={x:0,y:0},$o=ye.define({enables:[Yh,_w]}),oo=ye.define({combine:r=>r.reduce((e,t)=>e.concat(t),[])});class No{static create(e){return new No(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new L0(e,oo,(t,i)=>this.createHostedView(t,i),t=>t.dom.remove())}createHostedView(e,t){let i=e.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let i of this.manager.tooltipViews){let s=i[e];if(s!==void 0){if(t===void 0)t=s;else if(t!==s)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Ew=$o.compute([oo],r=>{let e=r.facet(oo);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var i;return(i=t.end)!==null&&i!==void 0?i:t.pos})),create:No.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class Iw{constructor(e,t,i,s,n){this.view=e,this.source=t,this.field=i,this.setHover=s,this.hoverTime=n,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,i=e.docView.nearest(t.target);if(!i)return;let s,n=1;if(i instanceof $s)s=i.posAtStart;else{if(s=e.posAtCoords(t),s==null)return;let o=e.coordsAtPos(s);if(!o||t.y<o.top||t.y>o.bottom||t.x<o.left-e.defaultCharacterWidth||t.x>o.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(s)).find(c=>c.from<=s&&c.to>=s),h=l&&l.dir==$t.RTL?-1:1;n=t.x<o.left?-h:h}let a=this.source(e,s,n);if(a!=null&&a.then){let o=this.pending={pos:s};a.then(l=>{this.pending==o&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>fi(e.state,l,"hover tooltip"))}else a&&!(Array.isArray(a)&&!a.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])})}get tooltip(){let e=this.view.plugin(Yh),t=e?e.manager.tooltips.findIndex(i=>i.create==No.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,i;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:s,tooltip:n}=this;if(s.length&&n&&!Mw(n.dom,e)||this.pending){let{pos:a}=s[0]||this.pending,o=(i=(t=s[0])===null||t===void 0?void 0:t.end)!==null&&i!==void 0?i:a;(a==o?this.view.posAtCoords(this.lastMove)!=a:!$w(this.view,a,o,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=i=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const ma=4;function Mw(r,e){let{left:t,right:i,top:s,bottom:n}=r.getBoundingClientRect(),a;if(a=r.querySelector(".cm-tooltip-arrow")){let o=a.getBoundingClientRect();s=Math.min(o.top,s),n=Math.max(o.bottom,n)}return e.clientX>=t-ma&&e.clientX<=i+ma&&e.clientY>=s-ma&&e.clientY<=n+ma}function $w(r,e,t,i,s,n){let a=r.scrollDOM.getBoundingClientRect(),o=r.documentTop+r.documentPadding.top+r.contentHeight;if(a.left>i||a.right<i||a.top>s||Math.min(a.bottom,o)<s)return!1;let l=r.posAtCoords({x:i,y:s},!1);return l>=e&&l<=t}function Nw(r,e={}){let t=Ge.define(),i=Ci.define({create(){return[]},update(s,n){if(s.length&&(e.hideOnChange&&(n.docChanged||n.selection)?s=[]:e.hideOn&&(s=s.filter(a=>!e.hideOn(n,a))),n.docChanged)){let a=[];for(let o of s){let l=n.changes.mapPos(o.pos,-1,ai.TrackDel);if(l!=null){let h=Object.assign(Object.create(null),o);h.pos=l,h.end!=null&&(h.end=n.changes.mapPos(h.end)),a.push(h)}}s=a}for(let a of n.effects)a.is(t)&&(s=a.value),a.is(Lw)&&(s=[]);return s},provide:s=>oo.from(s)});return{active:i,extension:[i,Ti.define(s=>new Iw(s,r,i,t,e.hoverTime||300)),Ew]}}function D0(r,e){let t=r.plugin(Yh);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const Lw=Ge.define(),sp=ye.define({combine(r){let e,t;for(let i of r)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}}),Dw=Ti.fromClass(class{constructor(r){this.input=r.state.facet(uh),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(r));let e=r.state.facet(sp);this.top=new ga(r,!0,e.topContainer),this.bottom=new ga(r,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(r){let e=r.state.facet(sp);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new ga(r.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new ga(r.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=r.state.facet(uh);if(t!=this.input){let i=t.filter(l=>l),s=[],n=[],a=[],o=[];for(let l of i){let h=this.specs.indexOf(l),c;h<0?(c=l(r.view),o.push(c)):(c=this.panels[h],c.update&&c.update(r)),s.push(c),(c.top?n:a).push(c)}this.specs=i,this.panels=s,this.top.sync(n),this.bottom.sync(a);for(let l of o)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let i of this.panels)i.update&&i.update(r)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:r=>Te.scrollMargins.of(e=>{let t=e.plugin(r);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class ga{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=rp(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=rp(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function rp(r){let e=r.nextSibling;return r.remove(),e}const uh=ye.define({enables:Dw});class qs extends sr{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}qs.prototype.elementClass="";qs.prototype.toDOM=void 0;qs.prototype.mapMode=ai.TrackBefore;qs.prototype.startSide=qs.prototype.endSide=-1;qs.prototype.point=!0;const nl=ye.define(),Rw=ye.define(),Zw={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Je.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},kn=ye.define();function jw(r){return[R0(),kn.of(Object.assign(Object.assign({},Zw),r))]}const fh=ye.define({combine:r=>r.some(e=>e)});function R0(r){let e=[Bw];return r&&r.fixed===!1&&e.push(fh.of(!0)),e}const Bw=Ti.fromClass(class{constructor(r){this.view=r,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=r.state.facet(kn).map(e=>new ap(r,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!r.state.facet(fh),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}update(r){if(this.updateGutters(r)){let e=this.prevViewport,t=r.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}r.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(fh)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=r.view.viewport}syncGutters(r){let e=this.dom.nextSibling;r&&this.dom.remove();let t=Je.iter(this.view.state.facet(nl),this.view.viewport.from),i=[],s=this.gutters.map(n=>new Xw(n,this.view.viewport,-this.view.documentPadding.top));for(let n of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(n.type)){let a=!0;for(let o of n.type)if(o.type==Mi.Text&&a){ph(t,i,o.from);for(let l of s)l.line(this.view,o,i);a=!1}else if(o.widget)for(let l of s)l.widget(this.view,o)}else if(n.type==Mi.Text){ph(t,i,n.from);for(let a of s)a.line(this.view,n,i)}else if(n.widget)for(let a of s)a.widget(this.view,n);for(let n of s)n.finish();r&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(r){let e=r.startState.facet(kn),t=r.state.facet(kn),i=r.docChanged||r.heightChanged||r.viewportChanged||!Je.eq(r.startState.facet(nl),r.state.facet(nl),r.view.viewport.from,r.view.viewport.to);if(e==t)for(let s of this.gutters)s.update(r)&&(i=!0);else{i=!0;let s=[];for(let n of t){let a=e.indexOf(n);a<0?s.push(new ap(this.view,n)):(this.gutters[a].update(r),s.push(this.gutters[a]))}for(let n of this.gutters)n.dom.remove(),s.indexOf(n)<0&&n.destroy();for(let n of s)this.dom.appendChild(n.dom);this.gutters=s}return i}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove()}},{provide:r=>Te.scrollMargins.of(e=>{let t=e.plugin(r);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==$t.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function np(r){return Array.isArray(r)?r:[r]}function ph(r,e,t){for(;r.value&&r.from<=t;)r.from==t&&e.push(r.value),r.next()}class Xw{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=Je.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:s}=this,n=(t.top-this.height)/e.scaleY,a=t.height/e.scaleY;if(this.i==s.elements.length){let o=new Z0(e,a,n,i);s.elements.push(o),s.dom.appendChild(o.dom)}else s.elements[this.i].update(e,a,n,i);this.height=t.bottom,this.i++}line(e,t,i){let s=[];ph(this.cursor,s,t.from),i.length&&(s=s.concat(i));let n=this.gutter.config.lineMarker(e,t,s);n&&s.unshift(n);let a=this.gutter;s.length==0&&!a.config.renderEmptyElements||this.addElement(e,t,s)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t),s=i?[i]:null;for(let n of e.state.facet(Rw)){let a=n(e,t.widget,t);a&&(s||(s=[])).push(a)}s&&this.addElement(e,t,s)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class ap{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,s=>{let n=s.target,a;if(n!=this.dom&&this.dom.contains(n)){for(;n.parentNode!=this.dom;)n=n.parentNode;let l=n.getBoundingClientRect();a=(l.top+l.bottom)/2}else a=s.clientY;let o=e.lineBlockAtHeight(a-e.documentTop);t.domEventHandlers[i](e,o,s)&&s.preventDefault()});this.markers=np(t.markers(e)),t.initialSpacer&&(this.spacer=new Z0(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=np(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let i=e.view.viewport;return!Je.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Z0{constructor(e,t,i,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,s)}update(e,t,i,s){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),qw(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,t){let i="cm-gutterElement",s=this.dom.firstChild;for(let n=0,a=0;;){let o=a,l=n<t.length?t[n++]:null,h=!1;if(l){let c=l.elementClass;c&&(i+=" "+c);for(let u=a;u<this.markers.length;u++)if(this.markers[u].compare(l)){o=u,h=!0;break}}else o=this.markers.length;for(;a<o;){let c=this.markers[a++];if(c.toDOM){c.destroy(s);let u=s.nextSibling;s.remove(),s=u}}if(!l)break;l.toDOM&&(h?s=s.nextSibling:this.dom.insertBefore(l.toDOM(e),s)),h&&a++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function qw(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].compare(e[t]))return!1;return!0}const zw=ye.define(),Uw=ye.define(),yr=ye.define({combine(r){return Qo(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let s in t){let n=i[s],a=t[s];i[s]=n?(o,l,h)=>n(o,l,h)||a(o,l,h):a}return i}})}});class al extends qs{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function ol(r,e){return r.state.facet(yr).formatNumber(e,r.state)}const Vw=kn.compute([yr],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(zw)},lineMarker(e,t,i){return i.some(s=>s.toDOM)?null:new al(ol(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,i)=>{for(let s of e.state.facet(Uw)){let n=s(e,t,i);if(n)return n}return null},lineMarkerChange:e=>e.startState.facet(yr)!=e.state.facet(yr),initialSpacer(e){return new al(ol(e,op(e.state.doc.lines)))},updateSpacer(e,t){let i=ol(t.view,op(t.view.state.doc.lines));return i==e.number?e:new al(i)},domEventHandlers:r.facet(yr).domEventHandlers}));function j0(r={}){return[yr.of(r),R0(),Vw]}function op(r){let e=9;for(;e<r;)e=e*10+9;return e}const B0=1024;let Fw=0;class ll{constructor(e,t){this.from=e,this.to=t}}class it{constructor(e={}){this.id=Fw++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=wi.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}it.closedBy=new it({deserialize:r=>r.split(" ")});it.openedBy=new it({deserialize:r=>r.split(" ")});it.group=new it({deserialize:r=>r.split(" ")});it.isolate=new it({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});it.contextHash=new it({perNode:!0});it.lookAhead=new it({perNode:!0});it.mounted=new it({perNode:!0});class lo{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[it.mounted.id]}}const Ww=Object.create(null);class wi{constructor(e,t,i,s=0){this.name=e,this.props=t,this.id=i,this.flags=s}static define(e){let t=e.props&&e.props.length?Object.create(null):Ww,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new wi(e.name||"",t,e.id,i);if(e.props){for(let n of e.props)if(Array.isArray(n)||(n=n(s)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[n[0].id]=n[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(it.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let s of i.split(" "))t[s]=e[i];return i=>{for(let s=i.prop(it.group),n=-1;n<(s?s.length:0);n++){let a=t[n<0?i.name:s[n]];if(a)return a}}}}wi.none=new wi("",Object.create(null),0,8);class Gh{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let s=null;for(let n of e){let a=n(i);a&&(s||(s=Object.assign({},i.props)),s[a[0].id]=a[1])}t.push(s?new wi(i.name,s,i.id,i.flags):i)}return new Gh(t)}}const Oa=new WeakMap,lp=new WeakMap;var Vt;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(Vt||(Vt={}));class Xt{constructor(e,t,i,s,n){if(this.type=e,this.children=t,this.positions=i,this.length=s,this.props=null,n&&n.length){this.props=Object.create(null);for(let[a,o]of n)this.props[typeof a=="number"?a:a.id]=o}}toString(){let e=lo.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let s=i.toString();s&&(t&&(t+=","),t+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new mh(this.topNode,e)}cursorAt(e,t=0,i=0){let s=Oa.get(this)||this.topNode,n=new mh(s);return n.moveTo(e,t),Oa.set(this,n._tree),n}get topNode(){return new yi(this,0,0,null)}resolve(e,t=0){let i=Nn(Oa.get(this)||this.topNode,e,t,!1);return Oa.set(this,i),i}resolveInner(e,t=0){let i=Nn(lp.get(this)||this.topNode,e,t,!0);return lp.set(this,i),i}resolveStack(e,t=0){return Gw(this,e,t)}iterate(e){let{enter:t,leave:i,from:s=0,to:n=this.length}=e,a=e.mode||0,o=(a&Vt.IncludeAnonymous)>0;for(let l=this.cursor(a|Vt.IncludeAnonymous);;){let h=!1;if(l.from<=n&&l.to>=s&&(!o&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;h=!0}for(;h&&i&&(o||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:ec(wi.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,s)=>new Xt(this.type,t,i,s,this.propValues),e.makeTree||((t,i,s)=>new Xt(wi.none,t,i,s)))}static build(e){return Kw(e)}}Xt.empty=new Xt(wi.none,[],[],0);class Kh{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Kh(this.buffer,this.index)}}class zs{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return wi.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],s=this.set.types[t],n=s.name;if(/\W/.test(n)&&!s.isError&&(n=JSON.stringify(n)),e+=4,i==e)return n;let a=[];for(;e<i;)a.push(this.childString(e)),e=this.buffer[e+3];return n+"("+a.join(",")+")"}findChild(e,t,i,s,n){let{buffer:a}=this,o=-1;for(let l=e;l!=t&&!(X0(n,s,a[l+1],a[l+2])&&(o=l,i>0));l=a[l+3]);return o}slice(e,t,i){let s=this.buffer,n=new Uint16Array(t-e),a=0;for(let o=e,l=0;o<t;){n[l++]=s[o++],n[l++]=s[o++]-i;let h=n[l++]=s[o++]-i;n[l++]=s[o++]-e,a=Math.max(a,h)}return new zs(n,a,this.set)}}function X0(r,e,t,i){switch(r){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function Nn(r,e,t,i){for(var s;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let a=!i&&r instanceof yi&&r.index<0?null:r.parent;if(!a)return r;r=a}let n=i?0:Vt.IgnoreOverlays;if(i)for(let a=r,o=a.parent;o;a=o,o=a.parent)a instanceof yi&&a.index<0&&((s=o.enter(e,t,n))===null||s===void 0?void 0:s.from)!=a.from&&(r=o);for(;;){let a=r.enter(e,t,n);if(!a)return r;r=a}}class q0{cursor(e=0){return new mh(this,e)}getChild(e,t=null,i=null){let s=hp(this,e,t,i);return s.length?s[0]:null}getChildren(e,t=null,i=null){return hp(this,e,t,i)}resolve(e,t=0){return Nn(this,e,t,!1)}resolveInner(e,t=0){return Nn(this,e,t,!0)}matchContext(e){return dh(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let s=t.lastChild;if(!s||s.to!=t.to)break;s.type.isError&&s.from==s.to?(i=t,t=s.prevSibling):t=s}return i}get node(){return this}get next(){return this.parent}}class yi extends q0{constructor(e,t,i,s){super(),this._tree=e,this.from=t,this.index=i,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,s,n=0){for(let a=this;;){for(let{children:o,positions:l}=a._tree,h=t>0?o.length:-1;e!=h;e+=t){let c=o[e],u=l[e]+a.from;if(!!X0(s,i,u,u+c.length)){if(c instanceof zs){if(n&Vt.ExcludeBuffers)continue;let p=c.findChild(0,c.buffer.length,t,i-u,s);if(p>-1)return new rs(new Hw(a,c,e,u),null,p)}else if(n&Vt.IncludeAnonymous||!c.type.isAnonymous||Jh(c)){let p;if(!(n&Vt.IgnoreMounts)&&(p=lo.get(c))&&!p.overlay)return new yi(p.tree,u,e,a);let m=new yi(c,u,e,a);return n&Vt.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?c.children.length-1:0,t,i,s)}}}if(n&Vt.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+t:e=t<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let s;if(!(i&Vt.IgnoreOverlays)&&(s=lo.get(this._tree))&&s.overlay){let n=e-this.from;for(let{from:a,to:o}of s.overlay)if((t>0?a<=n:a<n)&&(t<0?o>=n:o>n))return new yi(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function hp(r,e,t,i){let s=r.cursor(),n=[];if(!s.firstChild())return n;if(t!=null){for(let a=!1;!a;)if(a=s.type.is(t),!s.nextSibling())return n}for(;;){if(i!=null&&s.type.is(i))return n;if(s.type.is(e)&&n.push(s.node),!s.nextSibling())return i==null?n:[]}}function dh(r,e,t=e.length-1){for(let i=r;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class Hw{constructor(e,t,i,s){this.parent=e,this.buffer=t,this.index=i,this.start=s}}class rs extends q0{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:s}=this.context,n=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.context.start,i);return n<0?null:new rs(this.context,this,n)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&Vt.ExcludeBuffers)return null;let{buffer:s}=this.context,n=s.findChild(this.index+4,s.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return n<0?null:new rs(this.context,this,n)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new rs(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new rs(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,s=this.index+4,n=i.buffer[this.index+3];if(n>s){let a=i.buffer[this.index+1];e.push(i.slice(s,n,a)),t.push(0)}return new Xt(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function z0(r){if(!r.length)return null;let e=0,t=r[0];for(let n=1;n<r.length;n++){let a=r[n];(a.from>t.from||a.to<t.to)&&(t=a,e=n)}let i=t instanceof yi&&t.index<0?null:t.parent,s=r.slice();return i?s[e]=i:s.splice(e,1),new Yw(s,t)}class Yw{constructor(e,t){this.heads=e,this.node=t}get next(){return z0(this.heads)}}function Gw(r,e,t){let i=r.resolveInner(e,t),s=null;for(let n=i instanceof yi?i:i.context.parent;n;n=n.parent)if(n.index<0){let a=n.parent;(s||(s=[i])).push(a.resolve(e,t)),n=a}else{let a=lo.get(n.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let o=new yi(a.tree,a.overlay[0].from+n.from,-1,n);(s||(s=[i])).push(Nn(o,e,t,!1))}}return s?z0(s):i}class mh{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof yi)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:s}=this.buffer;return this.type=t||s.set.types[s.buffer[e]],this.from=i+s.buffer[e+1],this.to=i+s.buffer[e+2],!0}yield(e){return e?e instanceof yi?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:s}=this.buffer,n=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.buffer.start,i);return n<0?!1:(this.stack.push(this.index),this.yieldBuf(n))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&Vt.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Vt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Vt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let s=i<0?0:this.stack[i]+4;if(this.index!=s)return this.yieldBuf(t.findChild(s,this.index,-1,0,4))}else{let s=t.buffer[this.index+3];if(s<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(s)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let n=0;n<this.index;n++)if(s.buffer.buffer[n+3]<this.index)return!1;({index:t,parent:i}=s)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let n=t+e,a=e<0?-1:i._tree.children.length;n!=a;n+=e){let o=i._tree.children[n];if(this.mode&Vt.IncludeAnonymous||o instanceof zs||!o.type.isAnonymous||Jh(o))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer){e:for(let s=this.index,n=this.stack.length;n>=0;){for(let a=e;a;a=a._parent)if(a.index==s){if(s==this.index)return a;t=a,i=n+1;break e}s=this.stack[--n]}}for(let s=i;s<this.stack.length;s++)t=new rs(this.buffer,t,this.stack[s]);return this.bufferNode=new rs(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(s=!0)}for(;;){if(s&&t&&t(this),s=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,s=!0}}}matchContext(e){if(!this.buffer)return dh(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let s=e.length-1,n=this.stack.length-1;s>=0;n--){if(n<0)return dh(this._tree,e,s);let a=i[t.buffer[this.stack[n]]];if(!a.isAnonymous){if(e[s]&&e[s]!=a.name)return!1;s--}}return!0}}function Jh(r){return r.children.some(e=>e instanceof zs||!e.type.isAnonymous||Jh(e))}function Kw(r){var e;let{buffer:t,nodeSet:i,maxBufferLength:s=B0,reused:n=[],minRepeatType:a=i.types.length}=r,o=Array.isArray(t)?new Kh(t,t.length):t,l=i.types,h=0,c=0;function u(P,S,A,Q,I,L){let{id:$,start:N,end:R,size:F}=o,Z=c,K=h;for(;F<0;)if(o.next(),F==-1){let z=n[$];A.push(z),Q.push(N-P);return}else if(F==-3){h=$;return}else if(F==-4){c=$;return}else throw new RangeError(`Unrecognized record size: ${F}`);let ee=l[$],W,Y,H=N-P;if(R-N<=s&&(Y=w(o.pos-S,I))){let z=new Uint16Array(Y.size-Y.skip),G=o.pos-Y.size,te=z.length;for(;o.pos>G;)te=y(Y.start,z,te);W=new zs(z,R-Y.start,i),H=Y.start-P}else{let z=o.pos-F;o.next();let G=[],te=[],q=$>=a?$:-1,X=0,J=R;for(;o.pos>z;)q>=0&&o.id==q&&o.size>=0?(o.end<=J-s&&(g(G,te,N,X,o.end,J,q,Z,K),X=G.length,J=o.end),o.next()):L>2500?p(N,z,G,te):u(N,z,G,te,q,L+1);if(q>=0&&X>0&&X<G.length&&g(G,te,N,X,N,J,q,Z,K),G.reverse(),te.reverse(),q>-1&&X>0){let ae=m(ee,K);W=ec(ee,G,te,0,G.length,0,R-N,ae,ae)}else W=b(ee,G,te,R-N,Z-R,K)}A.push(W),Q.push(H)}function p(P,S,A,Q){let I=[],L=0,$=-1;for(;o.pos>S;){let{id:N,start:R,end:F,size:Z}=o;if(Z>4)o.next();else{if($>-1&&R<$)break;$<0&&($=F-s),I.push(N,R,F),L++,o.next()}}if(L){let N=new Uint16Array(L*4),R=I[I.length-2];for(let F=I.length-3,Z=0;F>=0;F-=3)N[Z++]=I[F],N[Z++]=I[F+1]-R,N[Z++]=I[F+2]-R,N[Z++]=Z;A.push(new zs(N,I[2]-R,i)),Q.push(R-P)}}function m(P,S){return(A,Q,I)=>{let L=0,$=A.length-1,N,R;if($>=0&&(N=A[$])instanceof Xt){if(!$&&N.type==P&&N.length==I)return N;(R=N.prop(it.lookAhead))&&(L=Q[$]+N.length+R)}return b(P,A,Q,I,L,S)}}function g(P,S,A,Q,I,L,$,N,R){let F=[],Z=[];for(;P.length>Q;)F.push(P.pop()),Z.push(S.pop()+A-I);P.push(b(i.types[$],F,Z,L-I,N-L,R)),S.push(I-A)}function b(P,S,A,Q,I,L,$){if(L){let N=[it.contextHash,L];$=$?[N].concat($):[N]}if(I>25){let N=[it.lookAhead,I];$=$?[N].concat($):[N]}return new Xt(P,S,A,Q,$)}function w(P,S){let A=o.fork(),Q=0,I=0,L=0,$=A.end-s,N={size:0,start:0,skip:0};e:for(let R=A.pos-P;A.pos>R;){let F=A.size;if(A.id==S&&F>=0){N.size=Q,N.start=I,N.skip=L,L+=4,Q+=4,A.next();continue}let Z=A.pos-F;if(F<0||Z<R||A.start<$)break;let K=A.id>=a?4:0,ee=A.start;for(A.next();A.pos>Z;){if(A.size<0)if(A.size==-3)K+=4;else break e;else A.id>=a&&(K+=4);A.next()}I=ee,Q+=F,L+=K}return(S<0||Q==P)&&(N.size=Q,N.start=I,N.skip=L),N.size>4?N:void 0}function y(P,S,A){let{id:Q,start:I,end:L,size:$}=o;if(o.next(),$>=0&&Q<a){let N=A;if($>4){let R=o.pos-($-4);for(;o.pos>R;)A=y(P,S,A)}S[--A]=N,S[--A]=L-P,S[--A]=I-P,S[--A]=Q}else $==-3?h=Q:$==-4&&(c=Q);return A}let v=[],T=[];for(;o.pos>0;)u(r.start||0,r.bufferStart||0,v,T,-1,0);let x=(e=r.length)!==null&&e!==void 0?e:v.length?T[0]+v[0].length:0;return new Xt(l[r.topID],v.reverse(),T.reverse(),x)}const cp=new WeakMap;function La(r,e){if(!r.isAnonymous||e instanceof zs||e.type!=r)return 1;let t=cp.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=r||!(i instanceof Xt)){t=1;break}t+=La(r,i)}cp.set(e,t)}return t}function ec(r,e,t,i,s,n,a,o,l){let h=0;for(let g=i;g<s;g++)h+=La(r,e[g]);let c=Math.ceil(h*1.5/8),u=[],p=[];function m(g,b,w,y,v){for(let T=w;T<y;){let x=T,P=b[T],S=La(r,g[T]);for(T++;T<y;T++){let A=La(r,g[T]);if(S+A>=c)break;S+=A}if(T==x+1){if(S>c){let A=g[x];m(A.children,A.positions,0,A.children.length,b[x]+v);continue}u.push(g[x])}else{let A=b[T-1]+g[T-1].length-P;u.push(ec(r,g,b,x,T,P,A,null,l))}p.push(P+v-n)}}return m(e,t,i,s,0),(o||l)(u,p,a)}class Jw{constructor(){this.map=new WeakMap}setBuffer(e,t,i){let s=this.map.get(e);s||this.map.set(e,s=new Map),s.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof rs?this.setBuffer(e.context.buffer,e.index,t):e instanceof yi&&this.map.set(e.tree,t)}get(e){return e instanceof rs?this.getBuffer(e.context.buffer,e.index):e instanceof yi?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Js{constructor(e,t,i,s,n=!1,a=!1){this.from=e,this.to=t,this.tree=i,this.offset=s,this.open=(n?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let s=[new Js(0,e.length,e,0,!1,i)];for(let n of t)n.to>e.length&&s.push(n);return s}static applyChanges(e,t,i=128){if(!t.length)return e;let s=[],n=1,a=e.length?e[0]:null;for(let o=0,l=0,h=0;;o++){let c=o<t.length?t[o]:null,u=c?c.fromA:1e9;if(u-l>=i)for(;a&&a.from<u;){let p=a;if(l>=p.from||u<=p.to||h){let m=Math.max(p.from,l)-h,g=Math.min(p.to,u)-h;p=m>=g?null:new Js(m,g,p.tree,p.offset+h,o>0,!!c)}if(p&&s.push(p),a.to>u)break;a=n<e.length?e[n++]:null}if(!c)break;l=c.toA,h=c.toA-c.toB}return s}}class U0{startParse(e,t,i){return typeof e=="string"&&(e=new ev(e)),i=i?i.length?i.map(s=>new ll(s.from,s.to)):[new ll(0,0)]:[new ll(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let s=this.startParse(e,t,i);for(;;){let n=s.advance();if(n)return n}}}class ev{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new it({perNode:!0});class ho{constructor(e,t,i,s,n,a,o,l,h,c=0,u){this.p=e,this.stack=t,this.state=i,this.reducePos=s,this.pos=n,this.score=a,this.buffer=o,this.bufferBase=l,this.curContext=h,this.lookAhead=c,this.parent=u}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let s=e.parser.context;return new ho(e,[],t,i,i,0,[],0,s?new up(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,s=e&65535,{parser:n}=this.p,a=this.reducePos<this.pos-25;a&&this.setLookAhead(this.pos);let o=n.dynamicPrecedence(s);if(o&&(this.score+=o),i==0){this.pushState(n.getGoto(this.state,s,!0),this.reducePos),s<n.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(s,this.reducePos);return}let l=this.stack.length-(i-1)*3-(e&262144?6:0),h=l?this.stack[l-2]:this.p.ranges[0].from,c=this.reducePos-h;c>=2e3&&!(!((t=this.p.parser.nodeSet.types[s])===null||t===void 0)&&t.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=c));let u=l?this.stack[l-1]:0,p=this.bufferBase+this.buffer.length-u;if(s<n.minRepeatTerm||e&131072){let m=n.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,h,m,p+4,!0)}if(e&262144)this.state=this.stack[l];else{let m=this.stack[l-3];this.state=n.getGoto(m,s,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(s,h)}storeNode(e,t,i,s=4,n=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,o=this.buffer.length;if(o==0&&a.parent&&(o=a.bufferBase-a.parent.bufferBase,a=a.parent),o>0&&a.buffer[o-4]==0&&a.buffer[o-1]>-1){if(t==i)return;if(a.buffer[o-2]>=t){a.buffer[o-2]=i;return}}}if(!n||this.pos==i)this.buffer.push(e,t,i,s);else{let a=this.buffer.length;if(a>0&&this.buffer[a-4]!=0){let o=!1;for(let l=a;l>0&&this.buffer[l-2]>i;l-=4)if(this.buffer[l-1]>=0){o=!0;break}if(o)for(;a>0&&this.buffer[a-2]>i;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,s>4&&(s-=4)}this.buffer[a]=e,this.buffer[a+1]=t,this.buffer[a+2]=i,this.buffer[a+3]=s}}shift(e,t,i,s){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let n=e,{parser:a}=this.p;(s>this.pos||t<=a.maxNode)&&(this.pos=s,a.stateFlag(n,1)||(this.reducePos=s)),this.pushState(n,i),this.shiftContext(t,i),t<=a.maxNode&&this.buffer.push(t,i,s,4)}else this.pos=s,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,s,4)}apply(e,t,i,s){e&65536?this.reduce(e):this.shift(e,t,i,s)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(t,s),this.buffer.push(i,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),s=e.bufferBase+t;for(;e&&s==e.bufferBase;)e=e.parent;return new ho(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new tv(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if((i&65536)==0)return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>4<<1||this.stack.length>=120){let s=[];for(let n=0,a;n<t.length;n+=2)(a=t[n+1])!=this.state&&this.p.parser.hasAction(a,e)&&s.push(t[n],a);if(this.stack.length<120)for(let n=0;s.length<4<<1&&n<t.length;n+=2){let a=t[n+1];s.some((o,l)=>l&1&&o==a)||s.push(t[n],a)}t=s}let i=[];for(let s=0;s<t.length&&i.length<4;s+=2){let n=t[s+1];if(n==this.state)continue;let a=this.split();a.pushState(n,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(t[s],this.pos),a.reducePos=this.pos,a.score-=200,i.push(a)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let i=t>>19,s=t&65535,n=this.stack.length-i*3;if(n<0||e.getGoto(this.stack[n],s,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;t=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(s,n)=>{if(!t.includes(s))return t.push(s),e.allActions(s,a=>{if(!(a&393216))if(a&65536){let o=(a>>19)-n;if(o>1){let l=a&65535,h=this.stack.length-o*3;if(h>=0&&e.getGoto(this.stack[h],l,!1)>=0)return o<<19|65536|l}}else{let o=i(a,n+1);if(o!=null)return o}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new up(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class up{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class tv{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=s}}class co{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new co(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new co(this.stack,this.pos,this.index)}}function pn(r,e=Uint16Array){if(typeof r!="string")return r;let t=null;for(let i=0,s=0;i<r.length;){let n=0;for(;;){let a=r.charCodeAt(i++),o=!1;if(a==126){n=65535;break}a>=92&&a--,a>=34&&a--;let l=a-32;if(l>=46&&(l-=46,o=!0),n+=l,o)break;n*=46}t?t[s++]=n:t=new e(n)}return t}class Da{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const fp=new Da;class iv{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=fp,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,s=this.rangeIndex,n=this.pos+e;for(;n<i.from;){if(!s)return null;let a=this.ranges[--s];n-=i.from-a.to,i=a}for(;t<0?n>i.to:n>=i.to;){if(s==this.ranges.length-1)return null;let a=this.ranges[++s];n+=a.from-i.to,i=a}return n}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,s;if(t>=0&&t<this.chunk.length)i=this.pos+e,s=this.chunk.charCodeAt(t);else{let n=this.resolveOffset(e,1);if(n==null)return-1;if(i=n,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let a=this.rangeIndex,o=this.range;for(;o.to<=i;)o=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-i)),s=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),s}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=fp,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let s of this.ranges){if(s.from>=t)break;s.to>e&&(i+=this.input.read(Math.max(s.from,e),Math.min(s.to,t)))}return i}}class _r{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;V0(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}_r.prototype.contextual=_r.prototype.fallback=_r.prototype.extend=!1;class gh{constructor(e,t,i){this.precTable=t,this.elseToken=i,this.data=typeof e=="string"?pn(e):e}token(e,t){let i=e.pos,s=0;for(;;){let n=e.next<0,a=e.resolveOffset(1,1);if(V0(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(n||s++,a==null)break;e.reset(a,e.token)}s&&(e.reset(i,e.token),e.acceptToken(this.elseToken,s))}}gh.prototype.contextual=_r.prototype.fallback=_r.prototype.extend=!1;class Xn{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function V0(r,e,t,i,s,n){let a=0,o=1<<i,{dialect:l}=t.p.parser;e:for(;(o&r[a])!=0;){let h=r[a+1];for(let m=a+3;m<h;m+=2)if((r[m+1]&o)>0){let g=r[m];if(l.allows(g)&&(e.token.value==-1||e.token.value==g||sv(g,e.token.value,s,n))){e.acceptToken(g);break}}let c=e.next,u=0,p=r[a+2];if(e.next<0&&p>u&&r[h+p*3-3]==65535){a=r[h+p*3-1];continue e}for(;u<p;){let m=u+p>>1,g=h+m+(m<<1),b=r[g],w=r[g+1]||65536;if(c<b)p=m;else if(c>=w)u=m+1;else{a=r[g+2],e.advance();continue e}}break}}function pp(r,e,t){for(let i=e,s;(s=r[i])!=65535;i++)if(s==t)return i-e;return-1}function sv(r,e,t,i){let s=pp(t,i,e);return s<0||pp(t,i,r)<s}const xi=typeof process!="undefined"&&process.env&&/\bparse\b/.test({}.LOG);let hl=null;function dp(r,e,t){let i=r.cursor(Vt.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(r.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:r.length}}class rv{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?dp(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?dp(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],s=this.index[t];if(s==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let n=i.children[s],a=this.start[t]+i.positions[s];if(a>e)return this.nextStart=a,null;if(n instanceof Xt){if(a==e){if(a<this.safeFrom)return null;let o=a+n.length;if(o<=this.safeTo){let l=n.prop(it.lookAhead);if(!l||o+l<this.fragment.to)return n}}this.index[t]++,a+n.length>=Math.max(this.safeFrom,e)&&(this.trees.push(n),this.start.push(a),this.index.push(0))}else this.index[t]++,this.nextStart=a+n.length}}}class nv{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Da)}getActions(e){let t=0,i=null,{parser:s}=e.p,{tokenizers:n}=s,a=s.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,l=0;for(let h=0;h<n.length;h++){if((1<<h&a)==0)continue;let c=n[h],u=this.tokens[h];if(!(i&&!c.fallback)&&((c.contextual||u.start!=e.pos||u.mask!=a||u.context!=o)&&(this.updateCachedToken(u,c,e),u.mask=a,u.context=o),u.lookAhead>u.end+25&&(l=Math.max(u.lookAhead,l)),u.value!=0)){let p=t;if(u.extended>-1&&(t=this.addActions(e,u.extended,u.end,t)),t=this.addActions(e,u.value,u.end,t),!c.extend&&(i=u,t>p))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new Da,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Da,{pos:i,p:s}=e;return t.start=i,t.end=Math.min(i+1,s.stream.end),t.value=i==s.stream.end?s.parser.eofTerm:0,t}updateCachedToken(e,t,i){let s=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(s,e),i),e.value>-1){let{parser:n}=i.p;for(let a=0;a<n.specialized.length;a++)if(n.specialized[a]==e.value){let o=n.specializers[a](this.stream.read(e.start,e.end),i);if(o>=0&&i.p.parser.dialect.allows(o>>1)){(o&1)==0?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,t,i,s){for(let n=0;n<s;n+=3)if(this.actions[n]==e)return s;return this.actions[s++]=e,this.actions[s++]=t,this.actions[s++]=i,s}addActions(e,t,i,s){let{state:n}=e,{parser:a}=e.p,{data:o}=a;for(let l=0;l<2;l++)for(let h=a.stateSlot(n,l?2:1);;h+=3){if(o[h]==65535)if(o[h+1]==1)h=cs(o,h+2);else{s==0&&o[h+1]==2&&(s=this.putAction(cs(o,h+2),t,i,s));break}o[h]==t&&(s=this.putAction(cs(o,h+1),t,i,s))}return s}}class av{constructor(e,t,i,s){this.parser=e,this.input=t,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new iv(t,s),this.tokens=new nv(e,this.stream),this.topTerm=e.top[1];let{from:n}=s[0];this.stacks=[ho.start(this,e.top[0],n)],this.fragments=i.length&&this.stream.end-n>e.bufferLength*4?new rv(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],s,n;if(this.bigReductionCount>300&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let o=e[a];for(;;){if(this.tokens.mainToken=null,o.pos>t)i.push(o);else{if(this.advanceStack(o,i,e))continue;{s||(s=[],n=[]),s.push(o);let l=this.tokens.getMainToken(o);n.push(l.value,l.end)}}break}}if(!i.length){let a=s&&hv(s);if(a)return xi&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw xi&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&s){let a=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,n,i);if(a)return xi&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(i.length>a)for(i.sort((o,l)=>l.score-o.score);i.length>a;)i.pop();i.some(o=>o.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let a=0;a<i.length-1;a++){let o=i[a];for(let l=a+1;l<i.length;l++){let h=i[l];if(o.sameState(h)||o.buffer.length>500&&h.buffer.length>500)if((o.score-h.score||o.buffer.length-h.buffer.length)>0)i.splice(l--,1);else{i.splice(a--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let a=1;a<i.length;a++)i[a].pos<this.minStackPos&&(this.minStackPos=i[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let s=e.pos,{parser:n}=this,a=xi?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,c=h?e.curContext.hash:0;for(let u=this.fragments.nodeAt(s);u;){let p=this.parser.nodeSet.types[u.type.id]==u.type?n.getGoto(e.state,u.type.id):-1;if(p>-1&&u.length&&(!h||(u.prop(it.contextHash)||0)==c))return e.useNode(u,p),xi&&console.log(a+this.stackID(e)+` (via reuse of ${n.getName(u.type.id)})`),!0;if(!(u instanceof Xt)||u.children.length==0||u.positions[0]>0)break;let m=u.children[0];if(m instanceof Xt&&u.positions[0]==0)u=m;else break}}let o=n.stateSlot(e.state,4);if(o>0)return e.reduce(o),xi&&console.log(a+this.stackID(e)+` (via always-reduce ${n.getName(o&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let h=0;h<l.length;){let c=l[h++],u=l[h++],p=l[h++],m=h==l.length||!i,g=m?e:e.split(),b=this.tokens.mainToken;if(g.apply(c,u,b?b.start:g.pos,p),xi&&console.log(a+this.stackID(g)+` (via ${(c&65536)==0?"shift":`reduce of ${n.getName(c&65535)}`} for ${n.getName(u)} @ ${s}${g==e?"":", split"})`),m)return!0;g.pos>s?t.push(g):i.push(g)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return mp(e,t),!0}}runRecovery(e,t,i){let s=null,n=!1;for(let a=0;a<e.length;a++){let o=e[a],l=t[a<<1],h=t[(a<<1)+1],c=xi?this.stackID(o)+" -> ":"";if(o.deadEnd&&(n||(n=!0,o.restart(),xi&&console.log(c+this.stackID(o)+" (restarted)"),this.advanceFully(o,i))))continue;let u=o.split(),p=c;for(let m=0;u.forceReduce()&&m<10&&(xi&&console.log(p+this.stackID(u)+" (via force-reduce)"),!this.advanceFully(u,i));m++)xi&&(p=this.stackID(u)+" -> ");for(let m of o.recoverByInsert(l))xi&&console.log(c+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m,i);this.stream.end>o.pos?(h==o.pos&&(h++,l=0),o.recoverByDelete(l,h),xi&&console.log(c+this.stackID(o)+` (via recover-delete ${this.parser.getName(l)})`),mp(o,i)):(!s||s.score<o.score)&&(s=o)}return s}stackToTree(e){return e.close(),Xt.build({buffer:co.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(hl||(hl=new WeakMap)).get(e);return t||hl.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function mp(r,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==r.pos&&i.sameState(r)){e[t].score<r.score&&(e[t]=r);return}}e.push(r)}class ov{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const cl=r=>r;class lv{constructor(e){this.start=e.start,this.shift=e.shift||cl,this.reduce=e.reduce||cl,this.reuse=e.reuse||cl,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class uo extends U0{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (${14})`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let o=0;o<e.repeatNodeCount;o++)t.push("");let i=Object.keys(e.topRules).map(o=>e.topRules[o][1]),s=[];for(let o=0;o<t.length;o++)s.push([]);function n(o,l,h){s[o].push([l,l.deserialize(String(h))])}if(e.nodeProps)for(let o of e.nodeProps){let l=o[0];typeof l=="string"&&(l=it[l]);for(let h=1;h<o.length;){let c=o[h++];if(c>=0)n(c,l,o[h++]);else{let u=o[h+-c];for(let p=-c;p>0;p--)n(o[h++],l,u);h++}}}this.nodeSet=new Gh(t.map((o,l)=>wi.define({name:l>=this.minRepeatTerm?void 0:o,id:l,props:s[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=B0;let a=pn(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(gp),this.states=pn(e.states,Uint32Array),this.data=pn(e.stateData),this.goto=pn(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new _r(a,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let s=new av(this,e,t,i);for(let n of this.wrappers)s=n(s,e,t,i);return s}getGoto(e,t,i=!1){let s=this.goto;if(t>=s[0])return-1;for(let n=s[t+1];;){let a=s[n++],o=a&1,l=s[n++];if(o&&i)return l;for(let h=n+(a>>1);n<h;n++)if(s[n]==e)return l;if(o)return-1}}hasAction(e,t){let i=this.data;for(let s=0;s<2;s++)for(let n=this.stateSlot(e,s?2:1),a;;n+=3){if((a=i[n])==65535)if(i[n+1]==1)a=i[n=cs(i,n+2)];else{if(i[n+1]==2)return cs(i,n+2);break}if(a==t||a==0)return cs(i,n+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),s=i?t(i):void 0;for(let n=this.stateSlot(e,1);s==null;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=cs(this.data,n+2);else break;s=t(cs(this.data,n+1))}return s}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=cs(this.data,i+2);else break;if((this.data[i+2]&1)==0){let s=this.data[i+1];t.some((n,a)=>a&1&&n==s)||t.push(this.data[i],s)}}return t}configure(e){let t=Object.assign(Object.create(uo.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let s=e.tokenizers.find(n=>n.from==i);return s?s.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,s)=>{let n=e.specializers.find(o=>o.from==i.external);if(!n)return i;let a=Object.assign(Object.assign({},i),{external:n.to});return t.specializers[s]=gp(a),a})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let n of e.split(" ")){let a=t.indexOf(n);a>=0&&(i[a]=!0)}let s=null;for(let n=0;n<t.length;n++)if(!i[n])for(let a=this.dialects[t[n]],o;(o=this.data[a++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[o]=1;return new ov(e,i,s)}static deserialize(e){return new uo(e)}}function cs(r,e){return r[e]|r[e+1]<<16}function hv(r){let e=null;for(let t of r){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function gp(r){if(r.external){let e=r.extend?1:0;return(t,i)=>r.external(t,i)<<1|e}return r.get}let cv=0;class Qi{constructor(e,t,i,s){this.name=e,this.set=t,this.base=i,this.modified=s,this.id=cv++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof Qi&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let s=new Qi(i,[],null,[]);if(s.set.push(s),t)for(let n of t.set)s.set.push(n);return s}static defineModifier(e){let t=new fo(e);return i=>i.modified.indexOf(t)>-1?i:fo.get(i.base||i,i.modified.concat(t).sort((s,n)=>s.id-n.id))}}let uv=0;class fo{constructor(e){this.name=e,this.instances=[],this.id=uv++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(o=>o.base==e&&fv(t,o.modified));if(i)return i;let s=[],n=new Qi(e.name,s,e,t);for(let o of t)o.instances.push(n);let a=pv(t);for(let o of e.set)if(!o.modified.length)for(let l of a)s.push(fo.get(o,l));return n}}function fv(r,e){return r.length==e.length&&r.every((t,i)=>t==e[i])}function pv(r){let e=[[]];for(let t=0;t<r.length;t++)for(let i=0,s=e.length;i<s;i++)e.push(e[i].concat(r[t]));return e.sort((t,i)=>i.length-t.length)}function F0(r){let e=Object.create(null);for(let t in r){let i=r[t];Array.isArray(i)||(i=[i]);for(let s of t.split(" "))if(s){let n=[],a=2,o=s;for(let u=0;;){if(o=="..."&&u>0&&u+3==s.length){a=1;break}let p=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!p)throw new RangeError("Invalid path: "+s);if(n.push(p[0]=="*"?"":p[0][0]=='"'?JSON.parse(p[0]):p[0]),u+=p[0].length,u==s.length)break;let m=s[u++];if(u==s.length&&m=="!"){a=0;break}if(m!="/")throw new RangeError("Invalid path: "+s);o=s.slice(u)}let l=n.length-1,h=n[l];if(!h)throw new RangeError("Invalid path: "+s);let c=new po(i,a,l>0?n.slice(0,l):null);e[h]=c.sort(e[h])}}return W0.add(e)}const W0=new it;class po{constructor(e,t,i,s){this.tags=e,this.mode=t,this.context=i,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}po.empty=new po([],2,null);function H0(r,e){let t=Object.create(null);for(let n of r)if(!Array.isArray(n.tag))t[n.tag.id]=n.class;else for(let a of n.tag)t[a.id]=n.class;let{scope:i,all:s=null}=e||{};return{style:n=>{let a=s;for(let o of n)for(let l of o.set){let h=t[l.id];if(h){a=a?a+" "+h:h;break}}return a},scope:i}}function dv(r,e){let t=null;for(let i of r){let s=i.style(e);s&&(t=t?t+" "+s:s)}return t}function mv(r,e,t,i=0,s=r.length){let n=new gv(i,Array.isArray(e)?e:[e],t);n.highlightRange(r.cursor(),i,s,"",n.highlighters),n.flush(s)}class gv{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,s,n){let{type:a,from:o,to:l}=e;if(o>=i||l<=t)return;a.isTop&&(n=this.highlighters.filter(m=>!m.scope||m.scope(a)));let h=s,c=Ov(e)||po.empty,u=dv(n,c.tags);if(u&&(h&&(h+=" "),h+=u,c.mode==1&&(s+=(s?" ":"")+u)),this.startSpan(Math.max(t,o),h),c.opaque)return;let p=e.tree&&e.tree.prop(it.mounted);if(p&&p.overlay){let m=e.node.enter(p.overlay[0].from+o,1),g=this.highlighters.filter(w=>!w.scope||w.scope(p.tree.type)),b=e.firstChild();for(let w=0,y=o;;w++){let v=w<p.overlay.length?p.overlay[w]:null,T=v?v.from+o:l,x=Math.max(t,y),P=Math.min(i,T);if(x<P&&b)for(;e.from<P&&(this.highlightRange(e,x,P,s,n),this.startSpan(Math.min(P,e.to),h),!(e.to>=T||!e.nextSibling())););if(!v||T>i)break;y=v.to+o,y>t&&(this.highlightRange(m.cursor(),Math.max(t,v.from+o),Math.min(i,y),"",g),this.startSpan(Math.min(i,y),h))}b&&e.parent()}else if(e.firstChild()){p&&(s="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,s,n),this.startSpan(Math.min(i,e.to),h)}while(e.nextSibling());e.parent()}}}function Ov(r){let e=r.type.prop(W0);for(;e&&e.context&&!r.matchContext(e.context);)e=e.next;return e||null}const ne=Qi.define,ba=ne(),Qs=ne(),Op=ne(Qs),bp=ne(Qs),Es=ne(),ya=ne(Es),ul=ne(Es),es=ne(),Us=ne(es),Ki=ne(),Ji=ne(),Oh=ne(),Kr=ne(Oh),wa=ne(),_={comment:ba,lineComment:ne(ba),blockComment:ne(ba),docComment:ne(ba),name:Qs,variableName:ne(Qs),typeName:Op,tagName:ne(Op),propertyName:bp,attributeName:ne(bp),className:ne(Qs),labelName:ne(Qs),namespace:ne(Qs),macroName:ne(Qs),literal:Es,string:ya,docString:ne(ya),character:ne(ya),attributeValue:ne(ya),number:ul,integer:ne(ul),float:ne(ul),bool:ne(Es),regexp:ne(Es),escape:ne(Es),color:ne(Es),url:ne(Es),keyword:Ki,self:ne(Ki),null:ne(Ki),atom:ne(Ki),unit:ne(Ki),modifier:ne(Ki),operatorKeyword:ne(Ki),controlKeyword:ne(Ki),definitionKeyword:ne(Ki),moduleKeyword:ne(Ki),operator:Ji,derefOperator:ne(Ji),arithmeticOperator:ne(Ji),logicOperator:ne(Ji),bitwiseOperator:ne(Ji),compareOperator:ne(Ji),updateOperator:ne(Ji),definitionOperator:ne(Ji),typeOperator:ne(Ji),controlOperator:ne(Ji),punctuation:Oh,separator:ne(Oh),bracket:Kr,angleBracket:ne(Kr),squareBracket:ne(Kr),paren:ne(Kr),brace:ne(Kr),content:es,heading:Us,heading1:ne(Us),heading2:ne(Us),heading3:ne(Us),heading4:ne(Us),heading5:ne(Us),heading6:ne(Us),contentSeparator:ne(es),list:ne(es),quote:ne(es),emphasis:ne(es),strong:ne(es),link:ne(es),monospace:ne(es),strikethrough:ne(es),inserted:ne(),deleted:ne(),changed:ne(),invalid:ne(),meta:wa,documentMeta:ne(wa),annotation:ne(wa),processingInstruction:ne(wa),definition:Qi.defineModifier("definition"),constant:Qi.defineModifier("constant"),function:Qi.defineModifier("function"),standard:Qi.defineModifier("standard"),local:Qi.defineModifier("local"),special:Qi.defineModifier("special")};for(let r in _){let e=_[r];e instanceof Qi&&(e.name=r)}H0([{tag:_.link,class:"tok-link"},{tag:_.heading,class:"tok-heading"},{tag:_.emphasis,class:"tok-emphasis"},{tag:_.strong,class:"tok-strong"},{tag:_.keyword,class:"tok-keyword"},{tag:_.atom,class:"tok-atom"},{tag:_.bool,class:"tok-bool"},{tag:_.url,class:"tok-url"},{tag:_.labelName,class:"tok-labelName"},{tag:_.inserted,class:"tok-inserted"},{tag:_.deleted,class:"tok-deleted"},{tag:_.literal,class:"tok-literal"},{tag:_.string,class:"tok-string"},{tag:_.number,class:"tok-number"},{tag:[_.regexp,_.escape,_.special(_.string)],class:"tok-string2"},{tag:_.variableName,class:"tok-variableName"},{tag:_.local(_.variableName),class:"tok-variableName tok-local"},{tag:_.definition(_.variableName),class:"tok-variableName tok-definition"},{tag:_.special(_.variableName),class:"tok-variableName2"},{tag:_.definition(_.propertyName),class:"tok-propertyName tok-definition"},{tag:_.typeName,class:"tok-typeName"},{tag:_.namespace,class:"tok-namespace"},{tag:_.className,class:"tok-className"},{tag:_.macroName,class:"tok-macroName"},{tag:_.propertyName,class:"tok-propertyName"},{tag:_.operator,class:"tok-operator"},{tag:_.comment,class:"tok-comment"},{tag:_.meta,class:"tok-meta"},{tag:_.invalid,class:"tok-invalid"},{tag:_.punctuation,class:"tok-punctuation"}]);const bv=314,yv=315,yp=1,wv=2,vv=3,xv=4,kv=316,Pv=318,Sv=319,Av=5,Tv=6,Cv=0,bh=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Y0=125,_v=59,yh=47,Qv=42,Ev=43,Iv=45,Mv=60,$v=44,Nv=63,Lv=46,Dv=91,Rv=new lv({start:!1,shift(r,e){return e==Av||e==Tv||e==Pv?r:e==Sv},strict:!1}),Zv=new Xn((r,e)=>{let{next:t}=r;(t==Y0||t==-1||e.context)&&r.acceptToken(kv)},{contextual:!0,fallback:!0}),jv=new Xn((r,e)=>{let{next:t}=r,i;bh.indexOf(t)>-1||t==yh&&((i=r.peek(1))==yh||i==Qv)||t!=Y0&&t!=_v&&t!=-1&&!e.context&&r.acceptToken(bv)},{contextual:!0}),Bv=new Xn((r,e)=>{r.next==Dv&&!e.context&&r.acceptToken(yv)},{contextual:!0}),Xv=new Xn((r,e)=>{let{next:t}=r;if(t==Ev||t==Iv){if(r.advance(),t==r.next){r.advance();let i=!e.context&&e.canShift(yp);r.acceptToken(i?yp:wv)}}else t==Nv&&r.peek(1)==Lv&&(r.advance(),r.advance(),(r.next<48||r.next>57)&&r.acceptToken(vv))},{contextual:!0});function fl(r,e){return r>=65&&r<=90||r>=97&&r<=122||r==95||r>=192||!e&&r>=48&&r<=57}const qv=new Xn((r,e)=>{if(r.next!=Mv||!e.dialectEnabled(Cv)||(r.advance(),r.next==yh))return;let t=0;for(;bh.indexOf(r.next)>-1;)r.advance(),t++;if(fl(r.next,!0)){for(r.advance(),t++;fl(r.next,!1);)r.advance(),t++;for(;bh.indexOf(r.next)>-1;)r.advance(),t++;if(r.next==$v)return;for(let i=0;;i++){if(i==7){if(!fl(r.next,!0))return;break}if(r.next!="extends".charCodeAt(i))break;r.advance(),t++}}r.acceptToken(xv,-t)}),zv=F0({"get set async static":_.modifier,"for while do if else switch try catch finally return throw break continue default case":_.controlKeyword,"in of await yield void typeof delete instanceof":_.operatorKeyword,"let var const using function class extends":_.definitionKeyword,"import export from":_.moduleKeyword,"with debugger as new":_.keyword,TemplateString:_.special(_.string),super:_.atom,BooleanLiteral:_.bool,this:_.self,null:_.null,Star:_.modifier,VariableName:_.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":_.function(_.variableName),VariableDefinition:_.definition(_.variableName),Label:_.labelName,PropertyName:_.propertyName,PrivatePropertyName:_.special(_.propertyName),"CallExpression/MemberExpression/PropertyName":_.function(_.propertyName),"FunctionDeclaration/VariableDefinition":_.function(_.definition(_.variableName)),"ClassDeclaration/VariableDefinition":_.definition(_.className),"NewExpression/VariableName":_.className,PropertyDefinition:_.definition(_.propertyName),PrivatePropertyDefinition:_.definition(_.special(_.propertyName)),UpdateOp:_.updateOperator,"LineComment Hashbang":_.lineComment,BlockComment:_.blockComment,Number:_.number,String:_.string,Escape:_.escape,ArithOp:_.arithmeticOperator,LogicOp:_.logicOperator,BitOp:_.bitwiseOperator,CompareOp:_.compareOperator,RegExp:_.regexp,Equals:_.definitionOperator,Arrow:_.function(_.punctuation),": Spread":_.punctuation,"( )":_.paren,"[ ]":_.squareBracket,"{ }":_.brace,"InterpolationStart InterpolationEnd":_.special(_.brace),".":_.derefOperator,", ;":_.separator,"@":_.meta,TypeName:_.typeName,TypeDefinition:_.definition(_.typeName),"type enum interface implements namespace module declare":_.definitionKeyword,"abstract global Privacy readonly override":_.modifier,"is keyof unique infer asserts":_.operatorKeyword,JSXAttributeValue:_.attributeValue,JSXText:_.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":_.angleBracket,"JSXIdentifier JSXNameSpacedName":_.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":_.attributeName,"JSXBuiltin/JSXIdentifier":_.standard(_.tagName)}),Uv={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,const:52,extends:56,this:60,true:68,false:68,null:80,void:84,typeof:88,super:104,new:138,delete:150,yield:159,await:163,class:168,public:231,private:231,protected:231,readonly:233,instanceof:252,satisfies:255,in:256,import:290,keyof:347,unique:351,infer:357,asserts:393,is:395,abstract:415,implements:417,type:419,let:422,var:424,using:427,interface:433,enum:437,namespace:443,module:445,declare:449,global:453,for:472,of:481,while:484,with:488,do:492,if:496,else:498,switch:502,case:508,try:514,catch:518,finally:522,return:526,throw:530,break:534,continue:538,debugger:542},Vv={__proto__:null,async:125,get:127,set:129,declare:191,public:193,private:193,protected:193,static:195,abstract:197,override:199,readonly:205,accessor:207,new:399},Fv={__proto__:null,"<":189},Wv=uo.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#D_O.QQlO'#DeO.bQlO'#DpO%[QlO'#DxO0fQlO'#EQOOQ!0Lf'#EY'#EYO1PQ`O'#EVOOQO'#En'#EnOOQO'#Ij'#IjO1XQ`O'#GrO1dQ`O'#EmO1iQ`O'#EmO3hQ!0MxO'#JpO6[Q!0MxO'#JqO6uQ`O'#F[O6zQ,UO'#FsOOQ!0Lf'#Fe'#FeO7VO7dO'#FeO7eQMhO'#F{O9UQ`O'#FzOOQ!0Lf'#Jq'#JqOOQ!0Lb'#Jp'#JpO9ZQ`O'#GvOOQ['#K]'#K]O9fQ`O'#IWO9kQ!0LrO'#IXOOQ['#J^'#J^OOQ['#I]'#I]Q`QlOOQ`QlOOO9sQ!L^O'#DtO9zQlO'#D|O:RQlO'#EOO9aQ`O'#GrO:YQMhO'#CoO:hQ`O'#ElO:sQ`O'#EwO:xQMhO'#FdO;gQ`O'#GrOOQO'#K^'#K^O;lQ`O'#K^O;zQ`O'#GzO;zQ`O'#G{O;zQ`O'#G}O9aQ`O'#HQO<qQ`O'#HTO>YQ`O'#CeO>jQ`O'#HaO>rQ`O'#HgO>rQ`O'#HiO`QlO'#HkO>rQ`O'#HmO>rQ`O'#HpO>wQ`O'#HvO>|Q!0LsO'#H|O%[QlO'#IOO?XQ!0LsO'#IQO?dQ!0LsO'#ISO9kQ!0LrO'#IUO?oQ!0MxO'#CiO@qQpO'#DjQOQ`OOO%[QlO'#EOOAXQ`O'#ERO:YQMhO'#ElOAdQ`O'#ElOAoQ!bO'#FdOOQ['#Cg'#CgOOQ!0Lb'#Do'#DoOOQ!0Lb'#Jt'#JtO%[QlO'#JtOOQO'#Jw'#JwOOQO'#If'#IfOBoQpO'#EeOOQ!0Lb'#Ed'#EdOOQ!0Lb'#J{'#J{OCkQ!0MSO'#EeOCuQpO'#EUOOQO'#Jv'#JvODZQpO'#JwOEhQpO'#EUOCuQpO'#EePEuO&2DjO'#CbPOOO)CD{)CD{OOOO'#I^'#I^OFQO#tO,59UOOQ!0Lh,59U,59UOOOO'#I_'#I_OF`O&jO,59UOFnQ!L^O'#DaOOOO'#Ia'#IaOFuO#@ItO,59yOOQ!0Lf,59y,59yOGTQlO'#IbOGhQ`O'#JrOIgQ!fO'#JrO+}QlO'#JrOInQ`O,5:POJUQ`O'#EnOJcQ`O'#KROJnQ`O'#KQOJnQ`O'#KQOJvQ`O,5;[OJ{Q`O'#KPOOQ!0Ln,5:[,5:[OKSQlO,5:[OMQQ!0MxO,5:dOMqQ`O,5:lON[Q!0LrO'#KOONcQ`O'#J}O9ZQ`O'#J}ONwQ`O'#J}O! PQ`O,5;ZO! UQ`O'#J}O!#ZQ!fO'#JqOOQ!0Lh'#Ci'#CiO%[QlO'#EQO!#yQ!fO,5:qOOQS'#Jx'#JxOOQO-E<h-E<hO9aQ`O,5=^O!$aQ`O,5=^O!$fQlO,5;XO!&iQMhO'#EiO!(SQ`O,5;XO!(XQlO'#DwO!(cQpO,5;bO!(kQpO,5;bO%[QlO,5;bOOQ['#FS'#FSOOQ['#FU'#FUO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cOOQ['#FY'#FYO!(yQlO,5;sOOQ!0Lf,5;x,5;xOOQ!0Lf,5;y,5;yOOQ!0Lf,5;{,5;{O%[QlO'#InO!*|Q!0LrO,5<hO%[QlO,5;cO!&iQMhO,5;cO!+kQMhO,5;cO!-]QMhO'#E[O%[QlO,5;vOOQ!0Lf,5;z,5;zO!-dQ,UO'#FiO!.aQ,UO'#KVO!-{Q,UO'#KVO!.hQ,UO'#KVOOQO'#KV'#KVO!.|Q,UO,5<ROOOW,5<_,5<_O!/_QlO'#FuOOOW'#Im'#ImO7VO7dO,5<PO!/fQ,UO'#FwOOQ!0Lf,5<P,5<PO!0VQ$IUO'#CwOOQ!0Lh'#C{'#C{O!0jO#@ItO'#DPO!1WQMjO,5<dO!1_Q`O,5<gO!2zQ(CWO'#GWO!3XQ`O'#GXO!3^Q`O'#GXO!4|Q(CWO'#G]O!6RQpO'#GaOOQO'#Gm'#GmO!+rQMhO'#GlOOQO'#Go'#GoO!+rQMhO'#GnO!6tQ$IUO'#JjOOQ!0Lh'#Jj'#JjO!7OQ`O'#JiO!7^Q`O'#JhO!7fQ`O'#CuOOQ!0Lh'#Cy'#CyO!7qQ`O'#C{OOQ!0Lh'#DT'#DTOOQ!0Lh'#DV'#DVO1SQ`O'#DXO!+rQMhO'#GOO!+rQMhO'#GQO!7vQ`O'#GSO!7{Q`O'#GTO!3^Q`O'#GZO!+rQMhO'#G`O;zQ`O'#JiO!8QQ`O'#EoO!8oQ`O,5<fOOQ!0Lb'#Cr'#CrO!8wQ`O'#EpO!9qQpO'#EqOOQ!0Lb'#KP'#KPO!9xQ!0LrO'#K_O9kQ!0LrO,5=bO`QlO,5>rOOQ['#Jf'#JfOOQ[,5>s,5>sOOQ[-E<Z-E<ZO!;wQ!0MxO,5:`O!9lQpO,5:^O!>bQ!0MxO,5:hO%[QlO,5:hO!@xQ!0MxO,5:jOOQO,5@x,5@xO!AiQMhO,5=^O!AwQ!0LrO'#JgO9UQ`O'#JgO!BYQ!0LrO,59ZO!BeQpO,59ZO!BmQMhO,59ZO:YQMhO,59ZO!BxQ`O,5;XO!CQQ`O'#H`O!CfQ`O'#KbO%[QlO,5;|O!9lQpO,5<OO!CnQ`O,5=yO!CsQ`O,5=yO!CxQ`O,5=yO9kQ!0LrO,5=yO;zQ`O,5=iOOQO'#Cw'#CwO!DWQpO,5=fO!D`QMhO,5=gO!DkQ`O,5=iO!DpQ!bO,5=lO!DxQ`O'#K^O>wQ`O'#HVO9aQ`O'#HXO!D}Q`O'#HXO:YQMhO'#HZO!ESQ`O'#HZOOQ[,5=o,5=oO!EXQ`O'#H[O!EjQ`O'#CoO!EoQ`O,59PO!EyQ`O,59PO!HOQlO,59POOQ[,59P,59PO!H`Q!0LrO,59PO%[QlO,59PO!JkQlO'#HcOOQ['#Hd'#HdOOQ['#He'#HeO`QlO,5={O!KRQ`O,5={O`QlO,5>RO`QlO,5>TO!KWQ`O,5>VO`QlO,5>XO!K]Q`O,5>[O!KbQlO,5>bOOQ[,5>h,5>hO%[QlO,5>hO9kQ!0LrO,5>jOOQ[,5>l,5>lO# lQ`O,5>lOOQ[,5>n,5>nO# lQ`O,5>nOOQ[,5>p,5>pO#!YQpO'#D]O%[QlO'#JtO#!{QpO'#JtO##VQpO'#DkO##hQpO'#DkO#%yQlO'#DkO#&QQ`O'#JsO#&YQ`O,5:UO#&_Q`O'#ErO#&mQ`O'#KSO#&uQ`O,5;]O#&zQpO'#DkO#'XQpO'#ETOOQ!0Lf,5:m,5:mO%[QlO,5:mO#'`Q`O,5:mO>wQ`O,5;WO!BeQpO,5;WO!BmQMhO,5;WO:YQMhO,5;WO#'hQ`O,5@`O#'mQ07dO,5:qOOQO-E<d-E<dO#(sQ!0MSO,5;POCuQpO,5:pO#(}QpO,5:pOCuQpO,5;PO!BYQ!0LrO,5:pOOQ!0Lb'#Eh'#EhOOQO,5;P,5;PO%[QlO,5;PO#)[Q!0LrO,5;PO#)gQ!0LrO,5;PO!BeQpO,5:pOOQO,5;V,5;VO#)uQ!0LrO,5;PPOOO'#I['#I[P#*ZO&2DjO,58|POOO,58|,58|OOOO-E<[-E<[OOQ!0Lh1G.p1G.pOOOO-E<]-E<]OOOO,59{,59{O#*fQ!bO,59{OOOO-E<_-E<_OOQ!0Lf1G/e1G/eO#*kQ!fO,5>|O+}QlO,5>|OOQO,5?S,5?SO#*uQlO'#IbOOQO-E<`-E<`O#+SQ`O,5@^O#+[Q!fO,5@^O#+cQ`O,5@lOOQ!0Lf1G/k1G/kO%[QlO,5@mO#+kQ`O'#IhOOQO-E<f-E<fO#+cQ`O,5@lOOQ!0Lb1G0v1G0vOOQ!0Ln1G/v1G/vOOQ!0Ln1G0W1G0WO%[QlO,5@jO#,PQ!0LrO,5@jO#,bQ!0LrO,5@jO#,iQ`O,5@iO9ZQ`O,5@iO#,qQ`O,5@iO#-PQ`O'#IkO#,iQ`O,5@iOOQ!0Lb1G0u1G0uO!(cQpO,5:sO!(nQpO,5:sOOQS,5:u,5:uO#-qQdO,5:uO#-yQMhO1G2xO9aQ`O1G2xOOQ!0Lf1G0s1G0sO#.XQ!0MxO1G0sO#/^Q!0MvO,5;TOOQ!0Lh'#GV'#GVO#/zQ!0MzO'#JjO!$fQlO1G0sO#2VQ!fO'#JuO%[QlO'#JuO#2aQ`O,5:cOOQ!0Lh'#D]'#D]OOQ!0Lf1G0|1G0|O%[QlO1G0|OOQ!0Lf1G1e1G1eO#2fQ`O1G0|O#4zQ!0MxO1G0}O#5RQ!0MxO1G0}O#7iQ!0MxO1G0}O#7pQ!0MxO1G0}O#:WQ!0MxO1G0}O#<nQ!0MxO1G0}O#<uQ!0MxO1G0}O#<|Q!0MxO1G0}O#?dQ!0MxO1G0}O#?kQ!0MxO1G0}O#AxQ?MtO'#CiO#CsQ?MtO1G1_O#CzQ?MtO'#JqO#D_Q!0MxO,5?YOOQ!0Lb-E<l-E<lO#FlQ!0MxO1G0}O#GiQ!0MzO1G0}OOQ!0Lf1G0}1G0}O#HlQMjO'#JzO#HvQ`O,5:vO#H{Q!0MxO1G1bO#IoQ,UO,5<VO#IwQ,UO,5<WO#JPQ,UO'#FnO#JhQ`O'#FmOOQO'#KW'#KWOOQO'#Il'#IlO#JmQ,UO1G1mOOQ!0Lf1G1m1G1mOOOW1G1x1G1xO#KOQ?MtO'#JpO#KYQ`O,5<aO!(yQlO,5<aOOOW-E<k-E<kOOQ!0Lf1G1k1G1kO#K_QpO'#KVOOQ!0Lf,5<c,5<cO#KgQpO,5<cO#KlQMhO'#DROOOO'#I`'#I`O#KsO#@ItO,59kOOQ!0Lh,59k,59kO%[QlO1G2OO!7{Q`O'#IpO#LOQ`O,5<yOOQ!0Lh,5<v,5<vO!+rQMhO'#IsO#LlQMjO,5=WO!+rQMhO'#IuO#M_QMjO,5=YO!&iQMhO,5=[OOQO1G2R1G2RO#MiQ!dO'#CrO#M|Q(CWO'#EpO$ RQpO'#GaO$ iQ!dO,5<rO$ pQ`O'#KYO9ZQ`O'#KYO$!OQ`O,5<tO!+rQMhO,5<sO$!TQ`O'#GYO$!fQ`O,5<sO$!kQ!dO'#GVO$!xQ!dO'#KZO$#SQ`O'#KZO!&iQMhO'#KZO$#XQ`O,5<wO$#^QlO'#JtO$#hQpO'#GbO##hQpO'#GbO$#yQ`O'#GfO!3^Q`O'#GjO$$OQ!0LrO'#IrO$$ZQpO,5<{OOQ!0Lp,5<{,5<{O$$bQpO'#GbO$$oQpO'#GcO$%QQpO'#GcO$%VQMjO,5=WO$%gQMjO,5=YOOQ!0Lh,5=],5=]O!+rQMhO,5@TO!+rQMhO,5@TO$%wQ`O'#IwO$&VQ`O,5@SO$&_Q`O,59aOOQ!0Lh,59g,59gO$'UQ$IYO,59sOOQ!0Lh'#Jn'#JnO$'wQMjO,5<jO$(jQMjO,5<lO@iQ`O,5<nOOQ!0Lh,5<o,5<oO$(tQ`O,5<uO$(yQMjO,5<zO$)ZQ`O,5@TO$)iQ`O'#J}O!$fQlO1G2QO$)nQ`O1G2QO9ZQ`O'#KQO9ZQ`O'#ErO%[QlO'#ErO9ZQ`O'#IyO$)sQ!0LrO,5@yOOQ[1G2|1G2|OOQ[1G4^1G4^OOQ!0Lf1G/z1G/zOOQ!0Lf1G/x1G/xO$+uQ!0MxO1G0SOOQ[1G2x1G2xO!&iQMhO1G2xO%[QlO1G2xO#-|Q`O1G2xO$-yQMhO'#EiOOQ!0Lb,5@R,5@RO$.WQ!0LrO,5@ROOQ[1G.u1G.uO!BYQ!0LrO1G.uO!BeQpO1G.uO!BmQMhO1G.uO$.iQ`O1G0sO$.nQ`O'#CiO$.yQ`O'#KcO$/RQ`O,5=zO$/WQ`O'#KcO$/]Q`O'#KcO$/kQ`O'#JPO$/yQ`O,5@|O$0RQ!fO1G1hOOQ!0Lf1G1j1G1jO9aQ`O1G3eO@iQ`O1G3eO$0YQ`O1G3eO$0_Q`O1G3eOOQ[1G3e1G3eO!DkQ`O1G3TO!&iQMhO1G3QO$0dQ`O1G3QOOQ[1G3R1G3RO!&iQMhO1G3RO$0iQ`O1G3RO$0qQpO'#HPOOQ[1G3T1G3TO!5|QpO'#I{O!DpQ!bO1G3WOOQ[1G3W1G3WOOQ[,5=q,5=qO$0yQMhO,5=sO9aQ`O,5=sO$#yQ`O,5=uO9UQ`O,5=uO!BeQpO,5=uO!BmQMhO,5=uO:YQMhO,5=uO$1XQ`O'#KaO$1dQ`O,5=vOOQ[1G.k1G.kO$1iQ!0LrO1G.kO@iQ`O1G.kO$1tQ`O1G.kO9kQ!0LrO1G.kO$3|Q!fO,5AOO$4ZQ`O,5AOO9ZQ`O,5AOO$4fQlO,5=}O$4mQ`O,5=}OOQ[1G3g1G3gO`QlO1G3gOOQ[1G3m1G3mOOQ[1G3o1G3oO>rQ`O1G3qO$4rQlO1G3sO$8vQlO'#HrOOQ[1G3v1G3vO$9TQ`O'#HxO>wQ`O'#HzOOQ[1G3|1G3|O$9]QlO1G3|O9kQ!0LrO1G4SOOQ[1G4U1G4UOOQ!0Lb'#G^'#G^O9kQ!0LrO1G4WO9kQ!0LrO1G4YO$=dQ`O,5@`O!(yQlO,5;^O9ZQ`O,5;^O>wQ`O,5:VO!(yQlO,5:VO!BeQpO,5:VO$=iQ?MtO,5:VOOQO,5;^,5;^O$=sQpO'#IcO$>ZQ`O,5@_OOQ!0Lf1G/p1G/pO$>cQpO'#IiO$>mQ`O,5@nOOQ!0Lb1G0w1G0wO##hQpO,5:VOOQO'#Ie'#IeO$>uQpO,5:oOOQ!0Ln,5:o,5:oO#'cQ`O1G0XOOQ!0Lf1G0X1G0XO%[QlO1G0XOOQ!0Lf1G0r1G0rO>wQ`O1G0rO!BeQpO1G0rO!BmQMhO1G0rOOQ!0Lb1G5z1G5zO!BYQ!0LrO1G0[OOQO1G0k1G0kO%[QlO1G0kO$>|Q!0LrO1G0kO$?XQ!0LrO1G0kO!BeQpO1G0[OCuQpO1G0[O$?gQ!0LrO1G0kOOQO1G0[1G0[O$?{Q!0MxO1G0kPOOO-E<Y-E<YPOOO1G.h1G.hOOOO1G/g1G/gO$@VQ!bO,5<hO$@_Q!fO1G4hOOQO1G4n1G4nO%[QlO,5>|O$@iQ`O1G5xO$@qQ`O1G6WO$@yQ!fO1G6XO9ZQ`O,5?SO$ATQ!0MxO1G6UO%[QlO1G6UO$AeQ!0LrO1G6UO$AvQ`O1G6TO$AvQ`O1G6TO9ZQ`O1G6TO$BOQ`O,5?VO9ZQ`O,5?VOOQO,5?V,5?VO$BdQ`O,5?VO$)iQ`O,5?VOOQO-E<i-E<iOOQS1G0_1G0_OOQS1G0a1G0aO#-tQ`O1G0aOOQ[7+(d7+(dO!&iQMhO7+(dO%[QlO7+(dO$BrQ`O7+(dO$B}QMhO7+(dO$C]Q!0MzO,5=WO$EhQ!0MzO,5=YO$GsQ!0MzO,5=WO$JUQ!0MzO,5=YO$LgQ!0MzO,59sO$NlQ!0MzO,5<jO%!wQ!0MzO,5<lO%%SQ!0MzO,5<zOOQ!0Lf7+&_7+&_O%'eQ!0MxO7+&_O%(XQlO'#IdO%(fQ`O,5@aO%(nQ!fO,5@aOOQ!0Lf1G/}1G/}O%(xQ`O7+&hOOQ!0Lf7+&h7+&hO%(}Q?MtO,5:dO%[QlO7+&yO%)XQ?MtO,5:`O%)fQ?MtO,5:hO%)pQ?MtO,5:jO%)zQMhO'#IgO%*UQ`O,5@fOOQ!0Lh1G0b1G0bOOQO1G1q1G1qOOQO1G1r1G1rO%*^Q!jO,5<YO!(yQlO,5<XOOQO-E<j-E<jOOQ!0Lf7+'X7+'XOOOW7+'d7+'dOOOW1G1{1G1{O%*iQ`O1G1{OOQ!0Lf1G1}1G1}OOOO,59m,59mO%*nQ!dO,59mOOOO-E<^-E<^OOQ!0Lh1G/V1G/VO%*uQ!0MxO7+'jOOQ!0Lh,5?[,5?[O%+iQMhO1G2eP%+pQ`O'#IpPOQ!0Lh-E<n-E<nO%,^QMjO,5?_OOQ!0Lh-E<q-E<qO%-PQMjO,5?aOOQ!0Lh-E<s-E<sO%-ZQ!dO1G2vO%-bQ!dO'#CrO%-xQMhO'#KQO$#^QlO'#JtOOQ!0Lh1G2^1G2^O%.PQ`O'#IoO%.eQ`O,5@tO%.eQ`O,5@tO%.mQ`O,5@tO%.xQ`O,5@tOOQO1G2`1G2`O%/WQMjO1G2_O!+rQMhO1G2_O%/hQ(CWO'#IqO%/uQ`O,5@uO!&iQMhO,5@uO%/}Q!dO,5@uOOQ!0Lh1G2c1G2cO%2_Q!fO'#CiO%2iQ`O,5=OOOQ!0Lb,5<|,5<|O%2qQpO,5<|OOQ!0Lb,5<},5<}OCfQ`O,5<|O%2|QpO,5<|OOQ!0Lb,5=Q,5=QO$)iQ`O,5=UOOQO,5?^,5?^OOQO-E<p-E<pOOQ!0Lp1G2g1G2gO##hQpO,5<|O$#^QlO,5=OO%3[Q`O,5<}O%3gQpO,5<}O!+rQMhO'#IsO%4aQMjO1G2rO!+rQMhO'#IuO%5SQMjO1G2tO%5^QMjO1G5oO%5hQMjO1G5oOOQO,5?c,5?cOOQO-E<u-E<uOOQO1G.{1G.{O!9lQpO,59uO%[QlO,59uOOQ!0Lh,5<i,5<iO%5uQ`O1G2YO!+rQMhO1G2aO!+rQMhO1G5oO!+rQMhO1G5oO%5zQ!0MxO7+'lOOQ!0Lf7+'l7+'lO!$fQlO7+'lO%6nQ`O,5;^OOQ!0Lb,5?e,5?eOOQ!0Lb-E<w-E<wO%6sQ!dO'#K[O#'cQ`O7+(dO4UQ!fO7+(dO$BuQ`O7+(dO%6}Q!0MvO'#CiO%7nQ!0LrO,5=RO%8PQ!0MvO,5=RO%8dQ`O,5=ROOQ!0Lb1G5m1G5mOOQ[7+$a7+$aO!BYQ!0LrO7+$aO!BeQpO7+$aO!$fQlO7+&_O%8lQ`O'#JOO%9TQ`O,5@}OOQO1G3f1G3fO9aQ`O,5@}O%9TQ`O,5@}O%9]Q`O,5@}OOQO,5?k,5?kOOQO-E<}-E<}OOQ!0Lf7+'S7+'SO%9bQ`O7+)PO9kQ!0LrO7+)PO9aQ`O7+)PO@iQ`O7+)POOQ[7+(o7+(oO%9gQ!0MvO7+(lO!&iQMhO7+(lO!DfQ`O7+(mOOQ[7+(m7+(mO!&iQMhO7+(mO%9qQ`O'#K`O%9|Q`O,5=kOOQO,5?g,5?gOOQO-E<y-E<yOOQ[7+(r7+(rO%;`QpO'#HYOOQ[1G3_1G3_O!&iQMhO1G3_O%[QlO1G3_O%;gQ`O1G3_O%;rQMhO1G3_O9kQ!0LrO1G3aO$#yQ`O1G3aO9UQ`O1G3aO!BeQpO1G3aO!BmQMhO1G3aO%<QQ`O'#I}O%<fQ`O,5@{O%<nQpO,5@{OOQ!0Lb1G3b1G3bOOQ[7+$V7+$VO@iQ`O7+$VO9kQ!0LrO7+$VO%<yQ`O7+$VO%[QlO1G6jO%[QlO1G6kO%=OQ!0LrO1G6jO%=YQlO1G3iO%=aQ`O1G3iO%=fQlO1G3iOOQ[7+)R7+)RO9kQ!0LrO7+)]O`QlO7+)_OOQ['#Kf'#KfOOQ['#JQ'#JQO%=mQlO,5>^OOQ[,5>^,5>^O%[QlO'#HsO%=zQ`O'#HuOOQ[,5>d,5>dO9ZQ`O,5>dOOQ[,5>f,5>fOOQ[7+)h7+)hOOQ[7+)n7+)nOOQ[7+)r7+)rOOQ[7+)t7+)tO%>PQpO1G5zO%>kQ?MtO1G0xO%>uQ`O1G0xOOQO1G/q1G/qO%?QQ?MtO1G/qO>wQ`O1G/qO!(yQlO'#DkOOQO,5>},5>}OOQO-E<a-E<aOOQO,5?T,5?TOOQO-E<g-E<gO!BeQpO1G/qOOQO-E<c-E<cOOQ!0Ln1G0Z1G0ZOOQ!0Lf7+%s7+%sO#'cQ`O7+%sOOQ!0Lf7+&^7+&^O>wQ`O7+&^O!BeQpO7+&^OOQO7+%v7+%vO$?{Q!0MxO7+&VOOQO7+&V7+&VO%[QlO7+&VO%?[Q!0LrO7+&VO!BYQ!0LrO7+%vO!BeQpO7+%vO%?gQ!0LrO7+&VO%?uQ!0MxO7++pO%[QlO7++pO%@VQ`O7++oO%@VQ`O7++oOOQO1G4q1G4qO9ZQ`O1G4qO%@_Q`O1G4qOOQS7+%{7+%{O#'cQ`O<<LOO4UQ!fO<<LOO%@mQ`O<<LOOOQ[<<LO<<LOO!&iQMhO<<LOO%[QlO<<LOO%@uQ`O<<LOO%AQQ!0MzO,5?_O%C]Q!0MzO,5?aO%EhQ!0MzO1G2_O%GyQ!0MzO1G2rO%JUQ!0MzO1G2tO%LaQ!fO,5?OO%[QlO,5?OOOQO-E<b-E<bO%LkQ`O1G5{OOQ!0Lf<<JS<<JSO%LsQ?MtO1G0sO%NzQ?MtO1G0}O& RQ?MtO1G0}O&#SQ?MtO1G0}O&#ZQ?MtO1G0}O&%[Q?MtO1G0}O&']Q?MtO1G0}O&'dQ?MtO1G0}O&'kQ?MtO1G0}O&)lQ?MtO1G0}O&)sQ?MtO1G0}O&)zQ!0MxO<<JeO&+rQ?MtO1G0}O&,oQ?MvO1G0}O&-rQ?MvO'#JjO&/xQ?MtO1G1bO&0VQ?MtO1G0SO&0aQMjO,5?ROOQO-E<e-E<eO!(yQlO'#FpOOQO'#KX'#KXOOQO1G1t1G1tO&0kQ`O1G1sO&0pQ?MtO,5?YOOOW7+'g7+'gOOOO1G/X1G/XO&0zQ!dO1G4vOOQ!0Lh7+(P7+(PP!&iQMhO,5?[O!+rQMhO7+(bO&1RQ`O,5?ZO9ZQ`O,5?ZOOQO-E<m-E<mO&1aQ`O1G6`O&1aQ`O1G6`O&1iQ`O1G6`O&1tQMjO7+'yO&2UQ!dO,5?]O&2`Q`O,5?]O!&iQMhO,5?]OOQO-E<o-E<oO&2eQ!dO1G6aO&2oQ`O1G6aO&2wQ`O1G2jO!&iQMhO1G2jOOQ!0Lb1G2h1G2hOOQ!0Lb1G2i1G2iO%2qQpO1G2hO!BeQpO1G2hOCfQ`O1G2hOOQ!0Lb1G2p1G2pO&2|QpO1G2hO&3[Q`O1G2jO$)iQ`O1G2iOCfQ`O1G2iO$#^QlO1G2jO&3dQ`O1G2iO&4WQMjO,5?_OOQ!0Lh-E<r-E<rO&4yQMjO,5?aOOQ!0Lh-E<t-E<tO!+rQMhO7++ZOOQ!0Lh1G/a1G/aO&5TQ`O1G/aOOQ!0Lh7+'t7+'tO&5YQMjO7+'{O&5jQMjO7++ZO&5tQMjO7++ZO&6RQ!0MxO<<KWOOQ!0Lf<<KW<<KWO&6uQ`O1G0xO!&iQMhO'#IxO&6zQ`O,5@vO&8|Q!fO<<LOO!&iQMhO1G2mO&9TQ!0LrO1G2mOOQ[<<G{<<G{O!BYQ!0LrO<<G{O&9fQ!0MxO<<IyOOQ!0Lf<<Iy<<IyOOQO,5?j,5?jO&:YQ`O,5?jO&:_Q`O,5?jOOQO-E<|-E<|O&:mQ`O1G6iO&:mQ`O1G6iO9aQ`O1G6iO@iQ`O<<LkOOQ[<<Lk<<LkO&:uQ`O<<LkO9kQ!0LrO<<LkOOQ[<<LW<<LWO%9gQ!0MvO<<LWOOQ[<<LX<<LXO!DfQ`O<<LXO&:zQpO'#IzO&;VQ`O,5@zO!(yQlO,5@zOOQ[1G3V1G3VOOQO'#I|'#I|O9kQ!0LrO'#I|O&;_QpO,5=tOOQ[,5=t,5=tO&;fQpO'#EeO&;mQpO'#GdO&;rQ`O7+(yO&;wQ`O7+(yOOQ[7+(y7+(yO!&iQMhO7+(yO%[QlO7+(yO&<PQ`O7+(yOOQ[7+({7+({O9kQ!0LrO7+({O$#yQ`O7+({O9UQ`O7+({O!BeQpO7+({O&<[Q`O,5?iOOQO-E<{-E<{OOQO'#H]'#H]O&<gQ`O1G6gO9kQ!0LrO<<GqOOQ[<<Gq<<GqO@iQ`O<<GqO&<oQ`O7+,UO&<tQ`O7+,VO%[QlO7+,UO%[QlO7+,VOOQ[7+)T7+)TO&<yQ`O7+)TO&=OQlO7+)TO&=VQ`O7+)TOOQ[<<Lw<<LwOOQ[<<Ly<<LyOOQ[-E=O-E=OOOQ[1G3x1G3xO&=[Q`O,5>_OOQ[,5>a,5>aO&=aQ`O1G4OO9ZQ`O7+&dO!(yQlO7+&dOOQO7+%]7+%]O&=fQ?MtO1G6XO>wQ`O7+%]OOQ!0Lf<<I_<<I_OOQ!0Lf<<Ix<<IxO>wQ`O<<IxOOQO<<Iq<<IqO$?{Q!0MxO<<IqO%[QlO<<IqOOQO<<Ib<<IbO!BYQ!0LrO<<IbO&=pQ!0LrO<<IqO&={Q!0MxO<= [O&>]Q`O<= ZOOQO7+*]7+*]O9ZQ`O7+*]OOQ[ANAjANAjO&>eQ!fOANAjO!&iQMhOANAjO#'cQ`OANAjO4UQ!fOANAjO&>lQ`OANAjO%[QlOANAjO&>tQ!0MzO7+'yO&AVQ!0MzO,5?_O&CbQ!0MzO,5?aO&EmQ!0MzO7+'{O&HOQ!fO1G4jO&HYQ?MtO7+&_O&J^Q?MvO,5=WO&LeQ?MvO,5=YO&LuQ?MvO,5=WO&MVQ?MvO,5=YO&MgQ?MvO,59sO' mQ?MvO,5<jO'#pQ?MvO,5<lO'&UQ?MvO,5<zO''zQ?MtO7+'jO'(XQ?MtO7+'lO'(fQ`O,5<[OOQO7+'_7+'_OOQ!0Lh7+*b7+*bO'(kQMjO<<K|OOQO1G4u1G4uO'(rQ`O1G4uO'(}Q`O1G4uO')]Q`O7++zO')]Q`O7++zO!&iQMhO1G4wO')eQ!dO1G4wO')oQ`O7++{O')wQ`O7+(UO'*SQ!dO7+(UOOQ!0Lb7+(S7+(SOOQ!0Lb7+(T7+(TO!BeQpO7+(SOCfQ`O7+(SO'*^Q`O7+(UO!&iQMhO7+(UO$)iQ`O7+(TO'*cQ`O7+(UOCfQ`O7+(TO'*kQMjO<<NuOOQ!0Lh7+${7+${O!+rQMhO<<NuO'*uQ!dO,5?dOOQO-E<v-E<vO'+PQ!0MvO7+(XO!&iQMhO7+(XOOQ[AN=gAN=gO9aQ`O1G5UOOQO1G5U1G5UO'+aQ`O1G5UO'+fQ`O7+,TO'+fQ`O7+,TO9kQ!0LrOANBVO@iQ`OANBVOOQ[ANBVANBVOOQ[ANArANArOOQ[ANAsANAsO'+nQ`O,5?fOOQO-E<x-E<xO'+yQ?MtO1G6fOOQO,5?h,5?hOOQO-E<z-E<zOOQ[1G3`1G3`O',TQ`O,5=OOOQ[<<Le<<LeO!&iQMhO<<LeO&;rQ`O<<LeO',YQ`O<<LeO%[QlO<<LeOOQ[<<Lg<<LgO9kQ!0LrO<<LgO$#yQ`O<<LgO9UQ`O<<LgO',bQpO1G5TO',mQ`O7+,ROOQ[AN=]AN=]O9kQ!0LrOAN=]OOQ[<= p<= pOOQ[<= q<= qO',uQ`O<= pO',zQ`O<= qOOQ[<<Lo<<LoO'-PQ`O<<LoO'-UQlO<<LoOOQ[1G3y1G3yO>wQ`O7+)jO'-]Q`O<<JOO'-hQ?MtO<<JOOOQO<<Hw<<HwOOQ!0LfAN?dAN?dOOQOAN?]AN?]O$?{Q!0MxOAN?]OOQOAN>|AN>|O%[QlOAN?]OOQO<<Mw<<MwOOQ[G27UG27UO!&iQMhOG27UO#'cQ`OG27UO'-rQ!fOG27UO4UQ!fOG27UO'-yQ`OG27UO'.RQ?MtO<<JeO'.`Q?MvO1G2_O'0UQ?MvO,5?_O'2XQ?MvO,5?aO'4[Q?MvO1G2rO'6_Q?MvO1G2tO'8bQ?MtO<<KWO'8oQ?MtO<<IyOOQO1G1v1G1vO!+rQMhOANAhOOQO7+*a7+*aO'8|Q`O7+*aO'9XQ`O<= fO'9aQ!dO7+*cOOQ!0Lb<<Kp<<KpO$)iQ`O<<KpOCfQ`O<<KpO'9kQ`O<<KpO!&iQMhO<<KpOOQ!0Lb<<Kn<<KnO!BeQpO<<KnO'9vQ!dO<<KpOOQ!0Lb<<Ko<<KoO':QQ`O<<KpO!&iQMhO<<KpO$)iQ`O<<KoO':VQMjOANDaO':aQ!0MvO<<KsOOQO7+*p7+*pO9aQ`O7+*pO':qQ`O<= oOOQ[G27qG27qO9kQ!0LrOG27qO!(yQlO1G5QO':yQ`O7+,QO';RQ`O1G2jO&;rQ`OANBPOOQ[ANBPANBPO!&iQMhOANBPO';WQ`OANBPOOQ[ANBRANBRO9kQ!0LrOANBRO$#yQ`OANBROOQO'#H^'#H^OOQO7+*o7+*oOOQ[G22wG22wOOQ[ANE[ANE[OOQ[ANE]ANE]OOQ[ANBZANBZO';`Q`OANBZOOQ[<<MU<<MUO!(yQlOAN?jOOQOG24wG24wO$?{Q!0MxOG24wO#'cQ`OLD,pOOQ[LD,pLD,pO!&iQMhOLD,pO';eQ!fOLD,pO';lQ?MvO7+'yO'=bQ?MvO,5?_O'?eQ?MvO,5?aO'AhQ?MvO7+'{O'C^QMjOG27SOOQO<<M{<<M{OOQ!0LbANA[ANA[O$)iQ`OANA[OCfQ`OANA[O'CnQ!dOANA[OOQ!0LbANAYANAYO'CuQ`OANA[O!&iQMhOANA[O'DQQ!dOANA[OOQ!0LbANAZANAZOOQO<<N[<<N[OOQ[LD-]LD-]O'D[Q?MtO7+*lOOQO'#Ge'#GeOOQ[G27kG27kO&;rQ`OG27kO!&iQMhOG27kOOQ[G27mG27mO9kQ!0LrOG27mOOQ[G27uG27uO'DfQ?MtOG25UOOQOLD*cLD*cOOQ[!$(![!$(![O#'cQ`O!$(![O!&iQMhO!$(![O'DpQ!0MzOG27SOOQ!0LbG26vG26vO$)iQ`OG26vO'GRQ`OG26vOCfQ`OG26vO'G^Q!dOG26vO!&iQMhOG26vOOQ[LD-VLD-VO&;rQ`OLD-VOOQ[LD-XLD-XOOQ[!)9Ev!)9EvO#'cQ`O!)9EvOOQ!0LbLD,bLD,bO$)iQ`OLD,bOCfQ`OLD,bO'GeQ`OLD,bO'GpQ!dOLD,bOOQ[!$(!q!$(!qOOQ[!.K;b!.K;bO'GwQ?MvOG27SOOQ!0Lb!$( |!$( |O$)iQ`O!$( |OCfQ`O!$( |O'ImQ`O!$( |OOQ!0Lb!)9Eh!)9EhO$)iQ`O!)9EhOCfQ`O!)9EhOOQ!0Lb!.K;S!.K;SO$)iQ`O!.K;SOOQ!0Lb!4/0n!4/0nO!(yQlO'#DxO1PQ`O'#EVO'IxQ!fO'#JpO'JPQ!L^O'#DtO'JWQlO'#D|O'J_Q!fO'#CiO'LuQ!fO'#CiO!(yQlO'#EOO'MVQlO,5;XO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO'#InO( YQ`O,5<hO!(yQlO,5;cO( bQMhO,5;cO(!{QMhO,5;cO!(yQlO,5;vO!&iQMhO'#GlO( bQMhO'#GlO!&iQMhO'#GnO( bQMhO'#GnO1SQ`O'#DXO1SQ`O'#DXO!&iQMhO'#GOO( bQMhO'#GOO!&iQMhO'#GQO( bQMhO'#GQO!&iQMhO'#G`O( bQMhO'#G`O!(yQlO,5:hO(#SQpO'#D]O(#^QpO'#JtO!(yQlO,5@mO'MVQlO1G0sO(#hQ?MtO'#CiO!(yQlO1G2OO!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO(#rQ!dO'#CrO!&iQMhO,5<sO( bQMhO,5<sO'MVQlO1G2QO!(yQlO7+&yO!&iQMhO1G2_O( bQMhO1G2_O!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO!&iQMhO1G2aO( bQMhO1G2aO'MVQlO7+'lO'MVQlO7+&_O!&iQMhOANAhO( bQMhOANAhO($VQ`O'#EmO($[Q`O'#EmO($dQ`O'#F[O($iQ`O'#EwO($nQ`O'#KRO($yQ`O'#KPO(%UQ`O,5;XO(%ZQMjO,5<dO(%bQ`O'#GXO(%gQ`O'#GXO(%lQ`O,5<fO(%tQ`O,5;XO(%|Q?MtO1G1_O(&TQ`O,5<sO(&YQ`O,5<sO(&_Q`O,5<uO(&dQ`O,5<uO(&iQ`O1G2QO(&nQ`O1G0sO(&sQMjO<<K|O(&zQMjO<<K|O7eQMhO'#F{O9UQ`O'#FzOAdQ`O'#ElO!(yQlO,5;sO!3^Q`O'#GXO!3^Q`O'#GXO!3^Q`O'#GZO!3^Q`O'#GZO!+rQMhO7+(bO!+rQMhO7+(bO%-ZQ!dO1G2vO%-ZQ!dO1G2vO!&iQMhO,5=[O!&iQMhO,5=[",stateData:"((P~O'zOS'{OSTOS'|RQ~OPYOQYOSfOY!VOaqOdzOeyOj!POnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!swO!vxO!z]O$V|O$miO%g}O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO&U!WO&[!XO&^!YO&`!ZO&b![O&e!]O&k!^O&q!_O&s!`O&u!aO&w!bO&y!cO(RSO(TTO(WUO(_VO(m[O~OWtO~P`OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa!wOq!nO!Q!oO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!xO#U!pO#V!pO#Y!zO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O'|!{O~OP]XR]X[]Xa]Xp]X!O]X!Q]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X'x]X(_]X(p]X(w]X(x]X~O!e%QX~P(qO_!}O(T#PO(U!}O(V#PO~O_#QO(V#PO(W#PO(X#QO~Ov#SO!S#TO(`#TO(a#VO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R;{O(TTO(WUO(_VO(m[O~O!Y#ZO!Z#WO!W(fP!W(tP~P+}O![#cO~P`OPYOQYOSfOd!jOe!iOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(TTO(WUO(_VO(m[O~On#mO!Y#iO!z]O#g#lO#h#iO(R;|O!i(qP~P.iO!j#oO(R#nO~O!v#sO!z]O%g#tO~O#i#uO~O!e#vO#i#uO~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z$_O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa(dX'x(dX'u(dX!i(dX!W(dX!](dX%h(dX!e(dX~P1qO#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX!](eX%h(eX~Oa(eX'x(eX'u(eX!W(eX!i(eXt(eX!e(eX~P4UO#^$eO~O$[$hO$^$gO$e$mO~OSfO!]$nO$h$oO$j$qO~Oh%VOj%cOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R$sO(TTO(WUO(_$uO(w$}O(x%POg([P~O!j%dO~O!Q%gO!]%hO(R%fO~O!e%lO~Oa%mO'x%mO~O!O%qO~P%[O(S!lO~P%[O%m%uO~P%[Oh%VO!j%dO(R%fO(S!lO~Oe%|O!j%dO(R%fO~O#t$RO~O!O&RO!]&OO!j&QO%i&UO(R%fO(S!lO(TTO(WUO`)UP~O!v#sO~O%r&WO!Q)QX!])QX(R)QX~O(R&XO~Oj!PO!s&^O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO~Od&cOe&bO!v&`O%g&aO%z&_O~P<POd&fOeyOj!PO!]&eO!s&^O!vxO!z]O%g}O%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO~Ob&iO#^&lO%i&gO(S!lO~P=UO!j&mO!s&qO~O!j#oO~O!]XO~Oa%mO'v&yO'x%mO~Oa%mO'v&|O'x%mO~Oa%mO'v'OO'x%mO~O'u]X!W]Xt]X!i]X&Y]X!]]X%h]X!e]X~P(qO!`']O!a'UO!b'UO(S!lO(TTO(WUO~Oq'SO!Q'RO!Y'VO(c'QO![(gP![(vP~P@]Ol'`O!]'^O(R%fO~Oe'eO!j%dO(R%fO~O!O&RO!j&QO~Oq!nO!Q!oO!z;wO#R!pO#S!pO#U!pO#V!pO(S!lO(TTO(WUO(c!mO(m!sO~O!`'kO!a'jO!b'jO#T!pO#Y'lO#Z'lO~PAwOa%mOh%VO!e#vO!j%dO'x%mO(p'nO~O!n'rO#^'pO~PCVOq!nO!Q!oO(TTO(WUO(c!mO(m!sO~O!]XOq(kX!Q(kX!`(kX!a(kX!b(kX!z(kX#R(kX#S(kX#T(kX#U(kX#V(kX#Y(kX#Z(kX(S(kX(T(kX(W(kX(c(kX(m(kX~O!a'jO!b'jO(S!lO~PCuO'}'vO(O'vO(P'xO~O_!}O(T'zO(U!}O(V'zO~O_#QO(V'zO(W'zO(X#QO~Ot'|O~P%[Ov#SO!S#TO(`#TO(a(PO~O!Y(RO!W'UX!W'[X!Z'UX!Z'[X~P+}O!Z(TO!W(fX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z(TO!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~O!W(fX~PGpO!W(YO~O!W(sX!Z(sX!e(sX!i(sX(p(sX~O#^(sX#i#bX![(sX~PIsO#^(ZO!W(uX!Z(uX~O!Z([O!W(tX~O!W(_O~O#^$eO~PIsO![(`O~P`OR#zO!O#yO!Q#{O!j#xO(_VOP!la[!lap!la!Z!la!n!la#P!la#l!la#m!la#n!la#o!la#p!la#q!la#r!la#s!la#t!la#u!la#w!la#y!la#z!la(p!la(w!la(x!la~Oa!la'x!la'u!la!W!la!i!lat!la!]!la%h!la!e!la~PKZO!i(aO~O!e#vO#^(bO(p'nO!Z(rXa(rX'x(rX~O!i(rX~PMvO!Q%gO!]%hO!z]O#g(gO#h(fO(R%fO~O!Z(hO!i(qX~O!i(jO~O!Q%gO!]%hO#h(fO(R%fO~OP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O!e#vO!i(eX~P! dOR(lO!O(kO!j#xO#Q$dO!z!ya!Q!ya~O!v!ya%g!ya!]!ya#g!ya#h!ya(R!ya~P!#eO!v(pO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~O#i(vO~O!Y(xO!i(iP~P%[O(c(zO(m[O~O!Q(|O!j#xO(c(zO(m[O~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z$_Oa$pa'x$pa'u$pa!i$pa!W$pa!]$pa%h$pa!e$pa~Oj)bO~P!&iOh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Og(nP~P!+rO!O)gO!e)fO!]$]X$Y$]X$[$]X$^$]X$e$]X~O!e)fO!](yX$Y(yX$[(yX$^(yX$e(yX~O!O)gO~P!-{O!O)gO!](yX$Y(yX$[(yX$^(yX$e(yX~O!])iO$Y)mO$[)hO$^)hO$e)nO~O!Y)qO~P!(yO$[$hO$^$gO$e)uO~Ol$yX!O$yX#Q$yX'w$yX(w$yX(x$yX~OgkXg$yXlkX!ZkX#^kX~P!/qOv)wO(`)xO(a)zO~Ol*TO!O)|O'w)}O(w$}O(x%PO~Og){O~P!0uOg*UO~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q*WO!]*XO!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~O!Y*[O(R*VO!i(|P~P!1dO#i*^O~O!j*_O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R*aO(TTO(WUO(_$uO(w$}O(x%PO~O!Y*dO!W(}P~P!3cOp*pOq!nO!Q*fO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO(c!mO~O![*mO~P!5WO#Q$dOl(^X!O(^X'w(^X(w(^X(x(^X!Z(^X#^(^X~Og(^X#}(^X~P!6YOl*uO#^*tOg(]X!Z(]X~O!Z*vOg([X~Oj%cO(R&XOg([P~Oq*yO~O!j+OO~O(R(tO~On+TO!Q%gO!Y#iO!]%hO!z]O#g#lO#h#iO(R%fO!i(qP~O!e#vO#i+UO~O!Q%gO!Y+WO!Z([O!]%hO(R%fO!W(tP~Oq'YO!Q+YO!Y+XO(TTO(WUO(c(zO~O![(vP~P!9]O!Z+ZOa)RX'x)RX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa!ha!Z!ha'x!ha'u!ha!W!ha!i!hat!ha!]!ha%h!ha!e!ha~P!:TOR#zO!O#yO!Q#{O!j#xO(_VOP!pa[!pap!pa!Z!pa!n!pa#P!pa#l!pa#m!pa#n!pa#o!pa#p!pa#q!pa#r!pa#s!pa#t!pa#u!pa#w!pa#y!pa#z!pa(p!pa(w!pa(x!pa~Oa!pa'x!pa'u!pa!W!pa!i!pat!pa!]!pa%h!pa!e!pa~P!<kOR#zO!O#yO!Q#{O!j#xO(_VOP!ra[!rap!ra!Z!ra!n!ra#P!ra#l!ra#m!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#w!ra#y!ra#z!ra(p!ra(w!ra(x!ra~Oa!ra'x!ra'u!ra!W!ra!i!rat!ra!]!ra%h!ra!e!ra~P!?ROh%VOl+dO!]'^O%h+cO~O!e+fOa(ZX!](ZX'x(ZX!Z(ZX~Oa%mO!]XO'x%mO~Oh%VO!j%dO~Oh%VO!j%dO(R%fO~O!e#vO#i(vO~Ob+qO%i+rO(R+nO(TTO(WUO![)VP~O!Z+sO`)UX~O[+wO~O`+xO~O!]&OO(R%fO(S!lO`)UP~Oh%VO#^+}O~Oh%VOl,QO!]$|O~O!],SO~O!O,UO!]XO~O%m%uO~O!v,ZO~Oe,`O~Ob,aO(R#nO(TTO(WUO![)TP~Oe%|O~O%i!QO(R&XO~P=UO[,fO`,eO~OPYOQYOSfOdzOeyOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!guO!jZO!mYO!nYO!oYO!qvO!vxO!z]O$miO%g}O(TTO(WUO(_VO(m[O~O!]!eO!s!gO$V!kO(R!dO~P!FRO`,eOa%mO'x%mO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa,kOj!OO!swO%k!OO%l!OO%m!OO~P!HkO!j&mO~O&[,qO~O!],sO~O&m,uO&o,vOP&jaQ&jaS&jaY&jaa&jad&jae&jaj&jan&jap&jaq&jar&jax&jaz&ja|&ja!Q&ja!U&ja!V&ja!]&ja!g&ja!j&ja!m&ja!n&ja!o&ja!q&ja!s&ja!v&ja!z&ja$V&ja$m&ja%g&ja%i&ja%k&ja%l&ja%m&ja%p&ja%r&ja%u&ja%v&ja%x&ja&U&ja&[&ja&^&ja&`&ja&b&ja&e&ja&k&ja&q&ja&s&ja&u&ja&w&ja&y&ja'u&ja(R&ja(T&ja(W&ja(_&ja(m&ja![&ja&c&jab&ja&h&ja~O(R,{O~Oh!cX!Z!PX![!PX!e!PX!e!cX!j!cX#^!PX~O!Z!cX![!cX~P# qO!e-QO#^-POh(hX!Z#fX![#fX!e(hX!j(hX~O!Z(hX![(hX~P#!dOh%VO!e-SO!j%dO!Z!_X![!_X~Oq!nO!Q!oO(TTO(WUO(c!mO~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(TTO(WUO(_VO(m[O~O(R<rO~P##yO!Z-WO![(gX~O![-YO~O!e-QO#^-PO!Z#fX![#fX~O!Z-ZO![(vX~O![-]O~O!a-^O!b-^O(S!lO~P##hO![-aO~P'_Ol-dO!]'^O~O!W-iO~Oq!ya!`!ya!a!ya!b!ya#R!ya#S!ya#T!ya#U!ya#V!ya#Y!ya#Z!ya(S!ya(T!ya(W!ya(c!ya(m!ya~P!#eO!n-nO#^-lO~PCVO!a-pO!b-pO(S!lO~PCuOa%mO#^-lO'x%mO~Oa%mO!e#vO#^-lO'x%mO~Oa%mO!e#vO!n-nO#^-lO'x%mO(p'nO~O'}'vO(O'vO(P-uO~Ot-vO~O!W'Ua!Z'Ua~P!:TO!Y-zO!W'UX!Z'UX~P%[O!Z(TO!W(fa~O!W(fa~PGpO!Z([O!W(ta~O!Q%gO!Y.OO!]%hO(R%fO!W'[X!Z'[X~O#^.QO!Z(ra!i(raa(ra'x(ra~O!e#vO~P#,PO!Z(hO!i(qa~O!Q%gO!]%hO#h.UO(R%fO~On.ZO!Q%gO!Y.WO!]%hO!z]O#g.YO#h.WO(R%fO!Z'_X!i'_X~OR._O!j#xO~Oh%VOl.bO!]'^O%h.aO~Oa#ai!Z#ai'x#ai'u#ai!W#ai!i#ait#ai!]#ai%h#ai!e#ai~P!:TOl=|O!O)|O'w)}O(w$}O(x%PO~O#i#]aa#]a#^#]a'x#]a!Z#]a!i#]a!]#]a!W#]a~P#.{O#i(^XP(^XR(^X[(^Xa(^Xp(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X'x(^X(_(^X(p(^X!i(^X!W(^X'u(^Xt(^X!](^X%h(^X!e(^X~P!6YO!Z.oO!i(iX~P!:TO!i.rO~O!W.tO~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kia#kip#ki!Z#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#l#ki~P#2kO#l$OO~P#2kOP$[OR#zOp$aO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO[#kia#ki!Z#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#p#ki~P#5YO#p$QO~P#5YOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO(_VOa#ki!Z#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#u#ki~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO(_VO(x#}Oa#ki!Z#ki#y#ki#z#ki'x#ki(p#ki(w#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#w$UO~P#:_O#w#ki~P#:_O#u$SO~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO(_VO(w#|O(x#}Oa#ki!Z#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#y#ki~P#=TO#y$WO~P#=TOP]XR]X[]Xp]X!O]X!Q]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X!Z]X![]X~O#}]X~P#?rOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO#y<XO#z<YO(_VO(p$YO(w#|O(x#}O~O#}.vO~P#BPO#Q$dO#^<`O$P<`O#}(eX![(eX~P! dOa'ba!Z'ba'x'ba'u'ba!i'ba!W'bat'ba!]'ba%h'ba!e'ba~P!:TO[#kia#kip#ki!Z#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO(w#ki(x#ki~P#EROl=|O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P#ERO!Z.zOg(nX~P!0uOg.|O~Oa$Oi!Z$Oi'x$Oi'u$Oi!W$Oi!i$Oit$Oi!]$Oi%h$Oi!e$Oi~P!:TO$[.}O$^.}O~O$[/OO$^/OO~O!e)fO#^/PO!]$bX$Y$bX$[$bX$^$bX$e$bX~O!Y/QO~O!])iO$Y/SO$[)hO$^)hO$e/TO~O!Z<ZO![(dX~P#BPO![/UO~O!e)fO$e(yX~O$e/WO~Ot/XO~P!&iOv)wO(`)xO(a/[O~O!Q/_O~O(w$}Ol%`a!O%`a'w%`a(x%`a!Z%`a#^%`a~Og%`a#}%`a~P#LTO(x%POl%ba!O%ba'w%ba(w%ba!Z%ba#^%ba~Og%ba#}%ba~P#LvO!ZfX!efX!ifX!i$yX(pfX~P!/qO!Y/hO!Z([O(R/gO!W(tP!W(}P~P!1dOp*pO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO~Oq<oO!Q/iO!Y+XO![*mO(c<nO![(vP~P#NaO!i/jO~P#.{O!Z/kO!e#vO(p'nO!i(|X~O!i/pO~O!Q%gO!Y*[O!]%hO(R%fO!i(|P~O#i/rO~O!W$yX!Z$yX!e%QX~P!/qO!Z/sO!W(}X~P#.{O!e/uO~O!W/wO~OnkO(R/xO~P.iOh%VOp/}O!e#vO!j%dO(p'nO~O!e+fO~Oa%mO!Z0RO'x%mO~O![0TO~P!5WO!a0UO!b0UO(S!lO~P##hOq!nO!Q0VO(TTO(WUO(c!mO~O#Y0XO~Og%`a!Z%`a#^%`a#}%`a~P!0uOg%ba!Z%ba#^%ba#}%ba~P!0uOj%cO(R&XOg'kX!Z'kX~O!Z*vOg([a~Og0bO~OR0cO!O0cO!Q0dO#Q$dOl{a'w{a(w{a(x{a!Z{a#^{a~Og{a#}{a~P$&dO!O)|O'w)}Ol$ra(w$ra(x$ra!Z$ra#^$ra~Og$ra#}$ra~P$'`O!O)|O'w)}Ol$ta(w$ta(x$ta!Z$ta#^$ta~Og$ta#}$ta~P$(RO#i0gO~Og%Sa!Z%Sa#^%Sa#}%Sa~P!0uOl0iO#^0hOg(]a!Z(]a~O!e#vO~O#i0lO~O!Z+ZOa)Ra'x)Ra~OR#zO!O#yO!Q#{O!j#xO(_VOP!pi[!pip!pi!Z!pi!n!pi#P!pi#l!pi#m!pi#n!pi#o!pi#p!pi#q!pi#r!pi#s!pi#t!pi#u!pi#w!pi#y!pi#z!pi(p!pi(w!pi(x!pi~Oa!pi'x!pi'u!pi!W!pi!i!pit!pi!]!pi%h!pi!e!pi~P$*OOh%VOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~On0vO%[0wO(R0tO~P$,fO!e+fOa(Za!](Za'x(Za!Z(Za~O#i0|O~O[]X!ZfX![fX~O!Z0}O![)VX~O![1PO~O[1QO~Ob1SO(R+nO(TTO(WUO~O!]&OO(R%fO`'sX!Z'sX~O!Z+sO`)Ua~O!i1VO~P!:TO[1YO~O`1ZO~O#^1^O~Ol1aO!]$|O~O(c(zO![)SP~Oh%VOl1jO!]1gO%h1iO~O[1tO!Z1rO![)TX~O![1uO~O`1wOa%mO'x%mO~O(R#nO(TTO(WUO~O#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O#t1zO&Y1{Oa(eX~P$2PO#^$eO#t1zO&Y1{O~Oa1}O~P%[Oa2PO~O&c2SOP&aiQ&aiS&aiY&aia&aid&aie&aij&ain&aip&aiq&air&aix&aiz&ai|&ai!Q&ai!U&ai!V&ai!]&ai!g&ai!j&ai!m&ai!n&ai!o&ai!q&ai!s&ai!v&ai!z&ai$V&ai$m&ai%g&ai%i&ai%k&ai%l&ai%m&ai%p&ai%r&ai%u&ai%v&ai%x&ai&U&ai&[&ai&^&ai&`&ai&b&ai&e&ai&k&ai&q&ai&s&ai&u&ai&w&ai&y&ai'u&ai(R&ai(T&ai(W&ai(_&ai(m&ai![&aib&ai&h&ai~Ob2YO![2WO&h2XO~P`O!]XO!j2[O~O&o,vOP&jiQ&jiS&jiY&jia&jid&jie&jij&jin&jip&jiq&jir&jix&jiz&ji|&ji!Q&ji!U&ji!V&ji!]&ji!g&ji!j&ji!m&ji!n&ji!o&ji!q&ji!s&ji!v&ji!z&ji$V&ji$m&ji%g&ji%i&ji%k&ji%l&ji%m&ji%p&ji%r&ji%u&ji%v&ji%x&ji&U&ji&[&ji&^&ji&`&ji&b&ji&e&ji&k&ji&q&ji&s&ji&u&ji&w&ji&y&ji'u&ji(R&ji(T&ji(W&ji(_&ji(m&ji![&ji&c&jib&ji&h&ji~O!W2bO~O!Z!_a![!_a~P#BPOq!nO!Q!oO!Y2hO(c!mO!Z'VX!['VX~P@]O!Z-WO![(ga~O!Z']X![']X~P!9]O!Z-ZO![(va~O![2oO~P'_Oa%mO#^2xO'x%mO~Oa%mO!e#vO#^2xO'x%mO~Oa%mO!e#vO!n2|O#^2xO'x%mO(p'nO~Oa%mO'x%mO~P!:TO!Z$_Ot$pa~O!W'Ui!Z'Ui~P!:TO!Z(TO!W(fi~O!Z([O!W(ti~O!W(ui!Z(ui~P!:TO!Z(ri!i(ria(ri'x(ri~P!:TO#^3OO!Z(ri!i(ria(ri'x(ri~O!Z(hO!i(qi~O!Q%gO!]%hO!z]O#g3TO#h3SO(R%fO~O!Q%gO!]%hO#h3SO(R%fO~Ol3[O!]'^O%h3ZO~Oh%VOl3[O!]'^O%h3ZO~O#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`at%`a!]%`a%h%`a!e%`a~P#LTO#i%baP%baR%ba[%baa%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%bat%ba!]%ba%h%ba!e%ba~P#LvO#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!Z%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`a#^%`at%`a!]%`a%h%`a!e%`a~P#.{O#i%baP%baR%ba[%baa%bap%ba!Q%ba!Z%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%ba#^%bat%ba!]%ba%h%ba!e%ba~P#.{O#i{aP{a[{aa{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a'x{a(_{a(p{a!i{a!W{a'u{at{a!]{a%h{a!e{a~P$&dO#i$raP$raR$ra[$raa$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra'x$ra(_$ra(p$ra!i$ra!W$ra'u$rat$ra!]$ra%h$ra!e$ra~P$'`O#i$taP$taR$ta[$taa$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta'x$ta(_$ta(p$ta!i$ta!W$ta'u$tat$ta!]$ta%h$ta!e$ta~P$(RO#i%SaP%SaR%Sa[%Saa%Sap%Sa!Q%Sa!Z%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa'x%Sa(_%Sa(p%Sa!i%Sa!W%Sa'u%Sa#^%Sat%Sa!]%Sa%h%Sa!e%Sa~P#.{Oa#aq!Z#aq'x#aq'u#aq!W#aq!i#aqt#aq!]#aq%h#aq!e#aq~P!:TO!Y3dO!Z'WX!i'WX~P%[O!Z.oO!i(ia~O!Z.oO!i(ia~P!:TO!W3gO~O#}!la![!la~PKZO#}!ha!Z!ha![!ha~P#BPO#}!pa![!pa~P!<kO#}!ra![!ra~P!?ROg'ZX!Z'ZX~P!+rO!Z.zOg(na~OSfO!]3{O$c3|O~O![4QO~Ot4RO~P#.{Oa$lq!Z$lq'x$lq'u$lq!W$lq!i$lqt$lq!]$lq%h$lq!e$lq~P!:TO!W4TO~P!&iO!Q4UO~O!O)|O'w)}O(x%POl'ga(w'ga!Z'ga#^'ga~Og'ga#}'ga~P%+uO!O)|O'w)}Ol'ia(w'ia(x'ia!Z'ia#^'ia~Og'ia#}'ia~P%,hO(p$YO~P#.{O!WfX!W$yX!ZfX!Z$yX!e%QX#^fX~P!/qO(R<xO~P!1dO!Q%gO!Y4XO!]%hO(R%fO!Z'cX!i'cX~O!Z/kO!i(|a~O!Z/kO!e#vO!i(|a~O!Z/kO!e#vO(p'nO!i(|a~Og${i!Z${i#^${i#}${i~P!0uO!Y4aO!W'eX!Z'eX~P!3cO!Z/sO!W(}a~O!Z/sO!W(}a~P#.{OP]XR]X[]Xp]X!O]X!Q]X!W]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!e%XX#t%XX~P%0XO!e#vO#t4fO~Oh%VO!e#vO!j%dO~Oh%VOp4kO!j%dO(p'nO~Op4pO!e#vO(p'nO~Oq!nO!Q4qO(TTO(WUO(c!mO~O(w$}Ol%`i!O%`i'w%`i(x%`i!Z%`i#^%`i~Og%`i#}%`i~P%3xO(x%POl%bi!O%bi'w%bi(w%bi!Z%bi#^%bi~Og%bi#}%bi~P%4kOg(]i!Z(]i~P!0uO#^4wOg(]i!Z(]i~P!0uO!i4zO~Oa$nq!Z$nq'x$nq'u$nq!W$nq!i$nqt$nq!]$nq%h$nq!e$nq~P!:TO!W5QO~O!Z5RO!])OX~P#.{Oa]Xa$yX!]]X!]$yX%]]X'x]X'x$yX!Z]X!Z$yX~P!/qO%]5UOa%Za!]%Za'x%Za!Z%Za~OlmX!OmX'wmX(wmX(xmX~P%7nOn5VO(R#nO~Ob5]O%i5^O(R+nO(TTO(WUO!Z'rX!['rX~O!Z0}O![)Va~O[5bO~O`5cO~Oa%mO'x%mO~P#.{O!Z5kO#^5mO![)SX~O![5nO~Op5tOq!nO!Q*fO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!pO#U!pO#V!pO#Y5sO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O![5rO~P%:ROl5yO!]1gO%h5xO~Oh%VOl5yO!]1gO%h5xO~Ob6QO(R#nO(TTO(WUO!Z'qX!['qX~O!Z1rO![)Ta~O(TTO(WUO(c6SO~O`6WO~O#t6ZO&Y6[O~PMvO!i6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO![6dO&h2XO~P`O!e6fO~O!e6hOh(hi!Z(hi![(hi!e(hi!j(hip(hi(p(hi~O!Z#fi![#fi~P#BPO#^6iO!Z#fi![#fi~O!Z!_i![!_i~P#BPOa%mO#^6rO'x%mO~Oa%mO!e#vO#^6rO'x%mO~O!Z(rq!i(rqa(rq'x(rq~P!:TO!Z(hO!i(qq~O!Q%gO!]%hO#h6yO(R%fO~O!]'^O%h6|O~Ol7QO!]'^O%h6|O~O#i'gaP'gaR'ga['gaa'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga'x'ga(_'ga(p'ga!i'ga!W'ga'u'gat'ga!]'ga%h'ga!e'ga~P%+uO#i'iaP'iaR'ia['iaa'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia'x'ia(_'ia(p'ia!i'ia!W'ia'u'iat'ia!]'ia%h'ia!e'ia~P%,hO#i${iP${iR${i[${ia${ip${i!Q${i!Z${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i'x${i(_${i(p${i!i${i!W${i'u${i#^${it${i!]${i%h${i!e${i~P#.{O#i%`iP%`iR%`i[%`ia%`ip%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i'x%`i(_%`i(p%`i!i%`i!W%`i'u%`it%`i!]%`i%h%`i!e%`i~P%3xO#i%biP%biR%bi[%bia%bip%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi'x%bi(_%bi(p%bi!i%bi!W%bi'u%bit%bi!]%bi%h%bi!e%bi~P%4kO!Z'Wa!i'Wa~P!:TO!Z.oO!i(ii~O#}#ai!Z#ai![#ai~P#BPOP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kip#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#l#ki~P%MQO#l<PO~P%MQOP$[OR#zOp<]O!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO[#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#p#ki~P& YO#p<RO~P& YOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO(_VO#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#u#ki~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO(_VO(x#}O#y#ki#z#ki#}#ki(p#ki(w#ki!Z#ki![#ki~O#w<VO~P&%cO#w#ki~P&%cO#u<TO~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO(_VO(w#|O(x#}O#z#ki#}#ki(p#ki!Z#ki![#ki~O#y#ki~P&'rO#y<XO~P&'rOa#{y!Z#{y'x#{y'u#{y!W#{y!i#{yt#{y!]#{y%h#{y!e#{y~P!:TO[#kip#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki!Z#ki![#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO(w#ki(x#ki~P&*nOl=}O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P&*nO#Q$dOP(^XR(^X[(^Xl(^Xp(^X!O(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X#}(^X'w(^X(_(^X(p(^X(w(^X(x(^X!Z(^X![(^X~O#}$Oi!Z$Oi![$Oi~P#BPO#}!pi![!pi~P$*OOg'Za!Z'Za~P!0uO![7dO~O!Z'ba!['ba~P#BPO!W7eO~P#.{O!e#vO(p'nO!Z'ca!i'ca~O!Z/kO!i(|i~O!Z/kO!e#vO!i(|i~Og${q!Z${q#^${q#}${q~P!0uO!W'ea!Z'ea~P#.{O!e7lO~O!Z/sO!W(}i~P#.{O!Z/sO!W(}i~O!W7oO~Oh%VOp7tO!j%dO(p'nO~O!e#vO#t7vO~Op7yO!e#vO(p'nO~O!O)|O'w)}O(x%POl'ha(w'ha!Z'ha#^'ha~Og'ha#}'ha~P&3oO!O)|O'w)}Ol'ja(w'ja(x'ja!Z'ja#^'ja~Og'ja#}'ja~P&4bO!W7{O~Og$}q!Z$}q#^$}q#}$}q~P!0uOg(]q!Z(]q~P!0uO#^7|Og(]q!Z(]q~P!0uOa$ny!Z$ny'x$ny'u$ny!W$ny!i$nyt$ny!]$ny%h$ny!e$ny~P!:TO!e6hO~O!Z5RO!])Oa~O!]'^OP$SaR$Sa[$Sap$Sa!O$Sa!Q$Sa!Z$Sa!j$Sa!n$Sa#P$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#t$Sa#u$Sa#w$Sa#y$Sa#z$Sa(_$Sa(p$Sa(w$Sa(x$Sa~O%h6|O~P&7SO%]8QOa%Zi!]%Zi'x%Zi!Z%Zi~Oa#ay!Z#ay'x#ay'u#ay!W#ay!i#ayt#ay!]#ay%h#ay!e#ay~P!:TO[8SO~Ob8UO(R+nO(TTO(WUO~O!Z0}O![)Vi~O`8YO~O(c(zO!Z'nX!['nX~O!Z5kO![)Sa~O![8cO~P%:RO(m!sO~P$$oO#Y8dO~O!]1gO~O!]1gO%h8fO~Ol8iO!]1gO%h8fO~O[8nO!Z'qa!['qa~O!Z1rO![)Ti~O!i8rO~O!i8sO~O!i8vO~O!i8vO~P%[Oa8xO~O!e8yO~O!i8zO~O!Z(ui![(ui~P#BPOa%mO#^9SO'x%mO~O!Z(ry!i(rya(ry'x(ry~P!:TO!Z(hO!i(qy~O%h9VO~P&7SO!]'^O%h9VO~O#i${qP${qR${q[${qa${qp${q!Q${q!Z${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q'x${q(_${q(p${q!i${q!W${q'u${q#^${qt${q!]${q%h${q!e${q~P#.{O#i'haP'haR'ha['haa'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha'x'ha(_'ha(p'ha!i'ha!W'ha'u'hat'ha!]'ha%h'ha!e'ha~P&3oO#i'jaP'jaR'ja['jaa'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja'x'ja(_'ja(p'ja!i'ja!W'ja'u'jat'ja!]'ja%h'ja!e'ja~P&4bO#i$}qP$}qR$}q[$}qa$}qp$}q!Q$}q!Z$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q'x$}q(_$}q(p$}q!i$}q!W$}q'u$}q#^$}qt$}q!]$}q%h$}q!e$}q~P#.{O!Z'Wi!i'Wi~P!:TO#}#aq!Z#aq![#aq~P#BPO(w$}OP%`aR%`a[%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a#}%`a(_%`a(p%`a!Z%`a![%`a~Ol%`a!O%`a'w%`a(x%`a~P&HgO(x%POP%baR%ba[%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba#}%ba(_%ba(p%ba!Z%ba![%ba~Ol%ba!O%ba'w%ba(w%ba~P&JnOl=}O!O)|O'w)}O(x%PO~P&HgOl=}O!O)|O'w)}O(w$}O~P&JnOR0cO!O0cO!Q0dO#Q$dOP{a[{al{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a#}{a'w{a(_{a(p{a(w{a(x{a!Z{a![{a~O!O)|O'w)}OP$raR$ra[$ral$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra#}$ra(_$ra(p$ra(w$ra(x$ra!Z$ra![$ra~O!O)|O'w)}OP$taR$ta[$tal$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta#}$ta(_$ta(p$ta(w$ta(x$ta!Z$ta![$ta~Ol=}O!O)|O'w)}O(w$}O(x%PO~OP%SaR%Sa[%Sap%Sa!Q%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa#}%Sa(_%Sa(p%Sa!Z%Sa![%Sa~P'%sO#}$lq!Z$lq![$lq~P#BPO#}$nq!Z$nq![$nq~P#BPO![9dO~O#}9eO~P!0uO!e#vO!Z'ci!i'ci~O!e#vO(p'nO!Z'ci!i'ci~O!Z/kO!i(|q~O!W'ei!Z'ei~P#.{O!Z/sO!W(}q~Op9lO!e#vO(p'nO~O[9nO!W9mO~P#.{O!W9mO~O!e#vO#t9tO~Og(]y!Z(]y~P!0uO!Z'la!]'la~P#.{Oa%Zq!]%Zq'x%Zq!Z%Zq~P#.{O[9yO~O!Z0}O![)Vq~O#^9}O!Z'na!['na~O!Z5kO![)Si~P#BPO!Q:PO~O!]1gO%h:SO~O(TTO(WUO(c:XO~O!Z1rO![)Tq~O!i:[O~O!i:]O~O!i:^O~O!i:^O~P%[O#^:aO!Z#fy![#fy~O!Z#fy![#fy~P#BPO%h:fO~P&7SO!]'^O%h:fO~O#}#{y!Z#{y![#{y~P#BPOP${iR${i[${ip${i!Q${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i#}${i(_${i(p${i!Z${i![${i~P'%sO!O)|O'w)}O(x%POP'gaR'ga['gal'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga#}'ga(_'ga(p'ga(w'ga!Z'ga!['ga~O!O)|O'w)}OP'iaR'ia['ial'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia#}'ia(_'ia(p'ia(w'ia(x'ia!Z'ia!['ia~O(w$}OP%`iR%`i[%`il%`ip%`i!O%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i#}%`i'w%`i(_%`i(p%`i(x%`i!Z%`i![%`i~O(x%POP%biR%bi[%bil%bip%bi!O%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi#}%bi'w%bi(_%bi(p%bi(w%bi!Z%bi![%bi~O#}$ny!Z$ny![$ny~P#BPO#}#ay!Z#ay![#ay~P#BPO!e#vO!Z'cq!i'cq~O!Z/kO!i(|y~O!W'eq!Z'eq~P#.{Op:pO!e#vO(p'nO~O[:tO!W:sO~P#.{O!W:sO~Og(]!R!Z(]!R~P!0uOa%Zy!]%Zy'x%Zy!Z%Zy~P#.{O!Z0}O![)Vy~O!Z5kO![)Sq~O(R:zO~O!]1gO%h:}O~O!i;QO~O%h;VO~P&7SOP${qR${q[${qp${q!Q${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q#}${q(_${q(p${q!Z${q![${q~P'%sO!O)|O'w)}O(x%POP'haR'ha['hal'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha#}'ha(_'ha(p'ha(w'ha!Z'ha!['ha~O!O)|O'w)}OP'jaR'ja['jal'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja#}'ja(_'ja(p'ja(w'ja(x'ja!Z'ja!['ja~OP$}qR$}q[$}qp$}q!Q$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q#}$}q(_$}q(p$}q!Z$}q![$}q~P'%sOg%d!Z!Z%d!Z#^%d!Z#}%d!Z~P!0uO!W;ZO~P#.{Op;[O!e#vO(p'nO~O[;^O!W;ZO~P#.{O!Z'nq!['nq~P#BPO!Z#f!Z![#f!Z~P#BPO#i%d!ZP%d!ZR%d!Z[%d!Za%d!Zp%d!Z!Q%d!Z!Z%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z'x%d!Z(_%d!Z(p%d!Z!i%d!Z!W%d!Z'u%d!Z#^%d!Zt%d!Z!]%d!Z%h%d!Z!e%d!Z~P#.{Op;fO!e#vO(p'nO~O!W;gO~P#.{Op;nO!e#vO(p'nO~O!W;oO~P#.{OP%d!ZR%d!Z[%d!Zp%d!Z!Q%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z#}%d!Z(_%d!Z(p%d!Z!Z%d!Z![%d!Z~P'%sOp;rO!e#vO(p'nO~Ot(dX~P1qO!O%qO~P!(yO(S!lO~P!(yO!WfX!ZfX#^fX~P%0XOP]XR]X[]Xp]X!O]X!Q]X!Z]X!ZfX!j]X!n]X#P]X#Q]X#^]X#^fX#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!efX!i]X!ifX(pfX~P'JlOP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]XO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z<ZO![$pa~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<fO!Q${O!]$|O!g=wO!j$xO#h<lO$V%_O$s<hO$u<jO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Oj)bO~P( bOp!cX(p!cX~P# qOp(hX(p(hX~P#!dO![]X![fX~P'JlO!WfX!W$yX!ZfX!Z$yX#^fX~P!/qO#i<OO~O!e#vO#i<OO~O#^<`O~O#t<SO~O#^<pO!Z(uX![(uX~O#^<`O!Z(sX![(sX~O#i<qO~Og<sO~P!0uO#i<yO~O#i<zO~O!e#vO#i<{O~O!e#vO#i<qO~O#}<|O~P#BPO#i<}O~O#i=OO~O#i=TO~O#i=UO~O#i=VO~O#i=WO~O#}=XO~P!0uO#}=YO~P!0uO#Q#R#S#U#V#Y#g#h#s$m$s$u$x%[%]%g%h%i%p%r%u%v%x%z~'|T#m!V'z(S#nq#l#op!O'{$['{(R$^(c~",goto:"$8f)ZPPPPPP)[PP)_P)pP+Q/VPPPP6aPP6wPP<oP@cP@yP@yPPP@yPCRP@yP@yP@yPCVPC[PCyPHsPPPHwPPPPHwKzPPPLQLrPHwPHwPP! QHwPPPHwPHwP!#XHwP!&o!'t!'}P!(q!(u!(q!,SPPPPPPP!,s!'tPP!-T!.uP!2RHwHw!2W!5d!:Q!:Q!>PPPP!>XHwPPPPPPPPPP!AhP!BuPPHw!DWPHwPHwHwHwHwHwPHw!EjP!HtP!KzP!LO!LY!L^!L^P!HqP!Lb!LbP# hP# lHwPHw# r#$wCV@yP@yP@y@yP#&U@y@y#(h@y#+`@y#-l@y@y#.[#0p#0p#0u#1O#0p#1ZPP#0pP@y#1s@y#5r@y@y6aPPP#9wPPP#:b#:bP#:bP#:x#:bPP#;OP#:uP#:u#;c#:u#;}#<T#<W)_#<Z)_P#<b#<b#<bP)_P)_P)_P)_PP)_P#<h#<kP#<k)_P#<oP#<rP)_P)_P)_P)_P)_P)_)_PP#<x#=O#=Z#=a#=g#=m#=s#>R#>X#>c#>i#>s#>y#?Z#?a#@R#@e#@k#@q#AP#Af#CZ#Ci#Cp#E[#Ej#G[#Gj#Gp#Gv#G|#HW#H^#Hd#Hn#IQ#IWPPPPPPPPPPP#I^PPPPPPP#JR#MY#Nr#Ny$ RPPP$&mP$&v$)o$0Y$0]$0`$1_$1b$1i$1qP$1w$1zP$2h$2l$3d$4r$4w$5_PP$5d$5j$5n$5q$5u$5y$6u$7^$7u$7y$7|$8P$8V$8Y$8^$8bR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0u+fQ1S+rQ1y,fQ3W.bQ5V0wQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:"\u26A0 ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:378,context:Rv,nodeProps:[["isolate",-8,5,6,14,35,37,49,51,53,""],["group",-26,9,17,19,66,206,210,214,215,217,220,223,233,235,241,243,245,247,250,256,262,264,266,268,270,272,273,"Statement",-34,13,14,30,33,34,40,49,52,53,55,60,68,70,74,78,80,82,83,108,109,118,119,135,138,140,141,142,143,144,146,147,166,168,170,"Expression",-23,29,31,35,39,41,43,172,174,176,177,179,180,181,183,184,185,187,188,189,200,202,204,205,"Type",-3,86,101,107,"ClassItem"],["openedBy",23,"<",36,"InterpolationStart",54,"[",58,"{",71,"(",159,"JSXStartCloseTag"],["closedBy",-2,24,167,">",38,"InterpolationEnd",48,"]",59,"}",72,")",164,"JSXEndTag"]],propSources:[zv],skippedNodes:[0,5,6,276],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Up(X!b'z0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(V#S$h&j'{0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Up(X!b'{0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!n),Q(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(T':f$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(X!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Up(X!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Up(X!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(X!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(X!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(UpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(UpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Up(X!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(m%1l(Up(X!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Up(X!b$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Up(X!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Up(X!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(x+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(W';W$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(UpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!j/.^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!i!Lf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Up(X!b(S%&f#o(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Up(X!b#l(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Up(X!bp+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Z+Jf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Up(X!b!O.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!Y!L^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Up(X!b#m(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(X!b!V7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!V7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!V7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!V7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!V7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(X!b!V7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(X!b!V7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(X!b!V7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(X!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(X!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Up!V7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Up!V7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Up!V7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Up!V7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(UpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(UpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Up(X!b!V7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Up(X!b!V7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Up(X!b!V7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Up(X!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Up(X!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Up(X!b'|0/l!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Up(X!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(X!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(X!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(UpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(UpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Up(X!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!e$b$h&j#})Lv(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#P-<U(Up(X!b$m7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#p(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#q(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#^*!Y$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#i(Cl$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#q(Ch$e#|$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#q(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(p(Ct$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!z$Ip$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!Q0,v$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!W#)l$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Up(X!b(_+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Up(X!b(R,2j$^#t(c$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Up(X!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!]#Hb(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(w+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_![(CdtBr$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!o7`$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Up(X!b'z0/l$[#t(R,2j(c$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Up(X!b'{0/l$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[jv,Bv,Xv,qv,2,3,4,5,6,7,8,9,10,11,12,13,14,Zv,new gh("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOv~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!S~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(a~~",141,338),new gh("j~RQYZXz{^~^O(O~~aP!P!Qd~iO(P~~",25,321)],topRules:{Script:[0,7],SingleExpression:[1,274],SingleClassItem:[2,275]},dialects:{jsx:0,ts:15091},dynamicPrecedences:{78:1,80:1,92:1,168:1,198:1},specialized:[{term:325,get:r=>Uv[r]||-1},{term:341,get:r=>Vv[r]||-1},{term:93,get:r=>Fv[r]||-1}],tokenPrec:15116});var pl;const wr=new it;function G0(r){return ye.define({combine:r?e=>e.concat(r):void 0})}const tc=new it;class ji{constructor(e,t,i=[],s=""){this.data=e,this.name=s,et.prototype.hasOwnProperty("tree")||Object.defineProperty(et.prototype,"tree",{get(){return Ps(this)}}),this.parser=t,this.extension=[Br.of(this),et.languageData.of((n,a,o)=>{let l=wp(n,a,o),h=l.type.prop(wr);if(!h)return[];let c=n.facet(h),u=l.type.prop(tc);if(u){let p=l.resolve(a-l.from,o);for(let m of u)if(m.test(p,n)){let g=n.facet(m.facet);return m.type=="replace"?g:g.concat(c)}}return c})].concat(i)}isActiveAt(e,t,i=-1){return wp(e,t,i).type.prop(wr)==this.data}findRegions(e){let t=e.facet(Br);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],s=(n,a)=>{if(n.prop(wr)==this.data){i.push({from:a,to:a+n.length});return}let o=n.prop(it.mounted);if(o){if(o.tree.prop(wr)==this.data){if(o.overlay)for(let l of o.overlay)i.push({from:l.from+a,to:l.to+a});else i.push({from:a,to:a+n.length});return}else if(o.overlay){let l=i.length;if(s(o.tree,o.overlay[0].from+a),i.length>l)return}}for(let l=0;l<n.children.length;l++){let h=n.children[l];h instanceof Xt&&s(h,n.positions[l]+a)}};return s(Ps(e),0),i}get allowsNesting(){return!0}}ji.setState=Ge.define();function wp(r,e,t){let i=r.facet(Br),s=Ps(r).topNode;if(!i||i.allowsNesting)for(let n=s;n;n=n.enter(e,t,Vt.ExcludeBuffers))n.type.isTop&&(s=n);return s}class mo extends ji{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=G0(e.languageData);return new mo(t,e.parser.configure({props:[wr.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new mo(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Ps(r){let e=r.field(ji.state,!1);return e?e.tree:Xt.empty}class Hv{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let Jr=null;class go{constructor(e,t,i=[],s,n,a,o,l){this.parser=e,this.state=t,this.fragments=i,this.tree=s,this.treeLen=n,this.viewport=a,this.skipped=o,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new go(e,t,[],Xt.empty,0,i,[],null)}startParse(){return this.parser.startParse(new Hv(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Xt.empty&&this.isDone(t!=null?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(Js.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(t!=null?t:this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Js.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Jr;Jr=this;try{return e()}finally{Jr=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=vp(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:s,treeLen:n,viewport:a,skipped:o}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((h,c,u,p)=>l.push({fromA:h,toA:c,fromB:u,toB:p})),i=Js.applyChanges(i,l),s=Xt.empty,n=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){o=[];for(let h of this.skipped){let c=e.mapPos(h.from,1),u=e.mapPos(h.to,-1);c<u&&o.push({from:c,to:u})}}}return new go(this.parser,t,i,s,n,a,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:s,to:n}=this.skipped[i];s<e.to&&n>e.from&&(this.fragments=vp(this.fragments,s,n),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends U0{createParse(t,i,s){let n=s[0].from,a=s[s.length-1].to;return{parsedPos:n,advance(){let l=Jr;if(l){for(let h of s)l.tempSkipped.push(h);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=a,new Xt(wi.none,[],[],a-n)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Jr}}function vp(r,e,t){return Js.applyChanges(r,[{fromA:e,toA:t,fromB:e,toB:t}])}class jr{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new jr(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=go.create(e.facet(Br).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new jr(i)}}ji.state=Ci.define({create:jr.init,update(r,e){for(let t of e.effects)if(t.is(ji.setState))return t.value;return e.startState.facet(Br)!=e.state.facet(Br)?jr.init(e.state):r.apply(e)}});let K0=r=>{let e=setTimeout(()=>r(),500);return()=>clearTimeout(e)};typeof requestIdleCallback!="undefined"&&(K0=r=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(r,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const dl=typeof navigator!="undefined"&&((pl=navigator.scheduling)===null||pl===void 0?void 0:pl.isInputPending)?()=>navigator.scheduling.isInputPending():null,Yv=Ti.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(ji.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(ji.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=K0(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:s}}=this.view,n=i.field(ji.state);if(n.tree==n.context.tree&&n.context.isDone(s+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!dl?Math.max(25,e.timeRemaining()-5):1e9),o=n.context.treeLen<s&&i.doc.length>s+1e3,l=n.context.work(()=>dl&&dl()||Date.now()>a,s+(o?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(n.context.takeTree(),this.view.dispatch({effects:ji.setState.of(new jr(n.context))})),this.chunkBudget>0&&!(l&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(n.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>fi(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Br=ye.define({combine(r){return r.length?r[0]:null},enables:r=>[ji.state,Yv,Te.contentAttributes.compute([r],e=>{let t=e.facet(r);return t&&t.name?{"data-language":t.name}:{}})]});class Gv{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const Kv=ye.define({combine:r=>{if(!r.length)return"  ";let e=r[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return e}}),Jv=new it;function e2(r){let e=r.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let s=r.options.simulateBreak,n=r.state.doc.lineAt(t.from),a=s==null||s<=n.from?n.to:Math.min(n.to,s);for(let o=t.to;;){let l=e.childAfter(o);if(!l||l==i)return null;if(!l.type.isSkipped){if(l.from>=a)return null;let h=/^ */.exec(n.text.slice(t.to-n.from))[0].length;return{from:t.from,to:t.to+h}}o=l.to}}function t2({closing:r,align:e=!0,units:t=1}){return i=>i2(i,e,t,r)}function i2(r,e,t,i,s){let n=r.textAfter,a=n.match(/^\s*/)[0].length,o=i&&n.slice(a,a+i.length)==i||s==r.pos+a,l=e?e2(r):null;return l?o?r.column(l.from):r.column(l.to):r.baseIndent+(o?0:r.unit*t)}const s2=r=>r.baseIndent;function ml({except:r,units:e=1}={}){return t=>{let i=r&&r.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const r2=new it;function n2(r){let e=r.firstChild,t=r.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?r.to:t.from}:null}class qn{constructor(e,t){this.specs=e;let i;function s(o){let l=js.newName();return(i||(i=Object.create(null)))["."+l]=o,l}const n=typeof t.all=="string"?t.all:t.all?s(t.all):void 0,a=t.scope;this.scope=a instanceof ji?o=>o.prop(wr)==a.data:a?o=>o==a:void 0,this.style=H0(e.map(o=>({tag:o.tag,class:o.class||s(Object.assign({},o,{tag:null}))})),{all:n}).style,this.module=i?new js(i):null,this.themeType=t.themeType}static define(e,t){return new qn(e,t||{})}}const wh=ye.define(),J0=ye.define({combine(r){return r.length?[r[0]]:null}});function gl(r){let e=r.facet(wh);return e.length?e:r.facet(J0)}function a2(r,e){let t=[l2],i;return r instanceof qn&&(r.module&&t.push(Te.styleModule.of(r.module)),i=r.themeType),e!=null&&e.fallback?t.push(J0.of(r)):i?t.push(wh.computeN([Te.darkTheme],s=>s.facet(Te.darkTheme)==(i=="dark")?[r]:[])):t.push(wh.of(r)),t}class o2{constructor(e){this.markCache=Object.create(null),this.tree=Ps(e.state),this.decorations=this.buildDeco(e,gl(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Ps(e.state),i=gl(e.state),s=i!=gl(e.startState),{viewport:n}=e.view,a=e.changes.mapPos(this.decoratedTo,1);t.length<n.to&&!s&&t.type==this.tree.type&&a>=n.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=a):(t!=this.tree||e.viewportChanged||s)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=n.to)}buildDeco(e,t){if(!t||!this.tree.length)return pt.none;let i=new Lr;for(let{from:s,to:n}of e.visibleRanges)mv(this.tree,t,(a,o,l)=>{i.add(a,o,this.markCache[l]||(this.markCache[l]=pt.mark({class:l})))},s,n);return i.finish()}}const l2=Vr.high(Ti.fromClass(o2,{decorations:r=>r.decorations}));_.meta,_.link,_.heading,_.emphasis,_.strong,_.strikethrough,_.keyword,_.atom,_.bool,_.url,_.contentSeparator,_.labelName,_.literal,_.inserted,_.string,_.deleted,_.regexp,_.escape,_.string,_.variableName,_.variableName,_.typeName,_.namespace,_.className,_.variableName,_.macroName,_.propertyName,_.comment,_.invalid;const h2=Object.create(null),xp=[wi.none],kp=[],Pp=Object.create(null),c2=Object.create(null);for(let[r,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])c2[r]=u2(h2,e);function Ol(r,e){kp.indexOf(r)>-1||(kp.push(r),console.warn(e))}function u2(r,e){let t=[];for(let o of e.split(" ")){let l=[];for(let h of o.split(".")){let c=r[h]||_[h];c?typeof c=="function"?l.length?l=l.map(c):Ol(h,`Modifier ${h} used at start of tag`):l.length?Ol(h,`Tag ${h} used as modifier`):l=Array.isArray(c)?c:[c]:Ol(h,`Unknown highlighting tag ${h}`)}for(let h of l)t.push(h)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),s=i+" "+t.map(o=>o.id),n=Pp[s];if(n)return n.id;let a=Pp[s]=wi.define({id:xp.length,name:i,props:[F0({[i]:t})]});return xp.push(a),a.id}$t.RTL,$t.LTR;class eg{constructor(e,t,i,s){this.state=e,this.pos=t,this.explicit=i,this.view=s,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Ps(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),s=t.text.slice(i-t.from,this.pos-t.from),n=s.search(ig(e,!1));return n<0?null:{from:i+n,to:this.pos,text:s.slice(n)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,i){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function Sp(r){let e=Object.keys(r).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function f2(r){let e=Object.create(null),t=Object.create(null);for(let{label:s}of r){e[s[0]]=!0;for(let n=1;n<s.length;n++)t[s[n]]=!0}let i=Sp(e)+Sp(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function tg(r){let e=r.map(s=>typeof s=="string"?{label:s}:s),[t,i]=e.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:f2(e);return s=>{let n=s.matchBefore(i);return n||s.explicit?{from:n?n.from:s.pos,options:e,validFor:t}:null}}function p2(r,e){return t=>{for(let i=Ps(t.state).resolveInner(t.pos,-1);i;i=i.parent){if(r.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(t)}}class Ap{constructor(e,t,i,s){this.completion=e,this.source=t,this.match=i,this.score=s}}function er(r){return r.selection.main.from}function ig(r,e){var t;let{source:i}=r,s=e&&i[0]!="^",n=i[i.length-1]!="$";return!s&&!n?r:new RegExp(`${s?"^":""}(?:${i})${n?"$":""}`,(t=r.flags)!==null&&t!==void 0?t:r.ignoreCase?"i":"")}const ic=cr.define();function d2(r,e,t,i){let{main:s}=r.selection,n=t-s.from,a=i-s.from;return Object.assign(Object.assign({},r.changeByRange(o=>{if(o!=s&&t!=i&&r.sliceDoc(o.from+n,o.from+a)!=r.sliceDoc(t,i))return{range:o};let l=r.toText(e);return{changes:{from:o.from+n,to:i==s.from?o.to:o.from+a,insert:l},range:Oe.cursor(o.from+n+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const Tp=new WeakMap;function m2(r){if(!Array.isArray(r))return r;let e=Tp.get(r);return e||Tp.set(r,e=tg(r)),e}const Oo=Ge.define(),Ln=Ge.define();class g2{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=Fs(e,t),s=mr(i);this.chars.push(i);let n=e.slice(t,t+s),a=n.toUpperCase();this.folded.push(Fs(a==n?n.toLowerCase():a,0)),t+=s}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:s,precise:n,byWord:a}=this;if(t.length==1){let v=Fs(e,0),T=mr(v),x=T==e.length?0:-100;if(v!=t[0])if(v==i[0])x+=-200;else return null;return this.ret(x,[0,T])}let o=e.indexOf(this.pattern);if(o==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,h=0;if(o<0){for(let v=0,T=Math.min(e.length,200);v<T&&h<l;){let x=Fs(e,v);(x==t[h]||x==i[h])&&(s[h++]=v),v+=mr(x)}if(h<l)return null}let c=0,u=0,p=!1,m=0,g=-1,b=-1,w=/[a-z]/.test(e),y=!0;for(let v=0,T=Math.min(e.length,200),x=0;v<T&&u<l;){let P=Fs(e,v);o<0&&(c<l&&P==t[c]&&(n[c++]=v),m<l&&(P==t[m]||P==i[m]?(m==0&&(g=v),b=v+1,m++):m=0));let S,A=P<255?P>=48&&P<=57||P>=97&&P<=122?2:P>=65&&P<=90?1:0:(S=Eb(P))!=S.toLowerCase()?1:S!=S.toUpperCase()?2:0;(!v||A==1&&w||x==0&&A!=0)&&(t[u]==P||i[u]==P&&(p=!0)?a[u++]=v:a.length&&(y=!1)),x=A,v+=mr(P)}return u==l&&a[0]==0&&y?this.result(-100+(p?-200:0),a,e):m==l&&g==0?this.ret(-200-e.length+(b==e.length?0:-100),[0,b]):o>-1?this.ret(-700-e.length,[o,o+this.pattern.length]):m==l?this.ret(-200+-700-e.length,[g,b]):u==l?this.result(-100+(p?-200:0)+-700+(y?0:-1100),a,e):t.length==2?null:this.result((s[0]?-700:0)+-200+-1100,s,e)}result(e,t,i){let s=[],n=0;for(let a of t){let o=a+(this.astral?mr(Fs(i,a)):1);n&&s[n-1]==a?s[n-1]=o:(s[n++]=a,s[n++]=o)}return this.ret(e-i.length,s)}}class O2{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),i=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,t.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}}const Yt=ye.define({combine(r){return Qo(r,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:b2,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>Cp(e(i),t(i)),optionClass:(e,t)=>i=>Cp(e(i),t(i)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function Cp(r,e){return r?e?r+" "+e:r:e}function b2(r,e,t,i,s,n){let a=r.textDirection==$t.RTL,o=a,l=!1,h="top",c,u,p=e.left-s.left,m=s.right-e.right,g=i.right-i.left,b=i.bottom-i.top;if(o&&p<Math.min(g,m)?o=!1:!o&&m<Math.min(g,p)&&(o=!0),g<=(o?p:m))c=Math.max(s.top,Math.min(t.top,s.bottom-b))-e.top,u=Math.min(400,o?p:m);else{l=!0,u=Math.min(400,(a?e.right:s.right-e.left)-30);let v=s.bottom-e.bottom;v>=b||v>e.top?c=t.bottom-e.top:(h="bottom",c=e.bottom-t.top)}let w=(e.bottom-e.top)/n.offsetHeight,y=(e.right-e.left)/n.offsetWidth;return{style:`${h}: ${c/w}px; max-width: ${u/y}px`,class:"cm-completionInfo-"+(l?a?"left-narrow":"right-narrow":o?"left":"right")}}function y2(r){let e=r.addToOptions.slice();return r.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(s=>"cm-completionIcon-"+s)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,s,n){let a=document.createElement("span");a.className="cm-completionLabel";let o=t.displayLabel||t.label,l=0;for(let h=0;h<n.length;){let c=n[h++],u=n[h++];c>l&&a.appendChild(document.createTextNode(o.slice(l,c)));let p=a.appendChild(document.createElement("span"));p.appendChild(document.createTextNode(o.slice(c,u))),p.className="cm-completionMatchedText",l=u}return l<o.length&&a.appendChild(document.createTextNode(o.slice(l))),a},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function bl(r,e,t){if(r<=t)return{from:0,to:r};if(e<0&&(e=0),e<=r>>1){let s=Math.floor(e/t);return{from:s*t,to:(s+1)*t}}let i=Math.floor((r-e)/t);return{from:r-(i+1)*t,to:r-i*t}}class w2{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let s=e.state.field(t),{options:n,selected:a}=s.open,o=e.state.facet(Yt);this.optionContent=y2(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=bl(n.length,a,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:h}=e.state.field(t).open;for(let c=l.target,u;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(u=/-(\d+)$/.exec(c.id))&&+u[1]<h.length){this.applyCompletion(e,h[+u[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(Yt).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Ln.of(null)})}),this.showOptions(n,s.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let i=e.state.field(this.stateField),s=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=s){let{options:n,selected:a,disabled:o}=i.open;(!s.open||s.open.options!=n)&&(this.range=bl(n.length,a,e.state.facet(Yt).maxRenderedOptions),this.showOptions(n,i.id)),this.updateSel(),o!=((t=s.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=bl(t.options.length,t.selected,this.view.state.facet(Yt).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:s}=i;if(!s)return;let n=typeof s=="string"?document.createTextNode(s):s(i);if(!n)return;"then"in n?n.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a,i)}).catch(a=>fi(this.view.state,a,"completion info")):this.addInfoPane(n,i)}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:s,destroy:n}=e;i.appendChild(s),this.infoDestroy=n||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,s=this.range.from;i;i=i.nextSibling,s++)i.nodeName!="LI"||!i.id?s--:s==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&x2(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),s=e.getBoundingClientRect(),n=this.space;if(!n){let a=this.dom.ownerDocument.defaultView||window;n={left:0,top:0,right:a.innerWidth,bottom:a.innerHeight}}return s.top>Math.min(n.bottom,t.bottom)-10||s.bottom<Math.max(n.top,t.top)+10?null:this.view.state.facet(Yt).positionInfo(this.view,t,s,i,n,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const s=document.createElement("ul");s.id=t,s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-label",this.view.state.phrase("Completions"));let n=null;for(let a=i.from;a<i.to;a++){let{completion:o,match:l}=e[a],{section:h}=o;if(h){let p=typeof h=="string"?h:h.name;if(p!=n&&(a>i.from||i.from==0))if(n=p,typeof h!="string"&&h.header)s.appendChild(h.header(h));else{let m=s.appendChild(document.createElement("completion-section"));m.textContent=p}}const c=s.appendChild(document.createElement("li"));c.id=t+"-"+a,c.setAttribute("role","option");let u=this.optionClass(o);u&&(c.className=u);for(let p of this.optionContent){let m=p(o,this.view.state,this.view,l);m&&c.appendChild(m)}}return i.from&&s.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&s.classList.add("cm-completionListIncompleteBottom"),s}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function v2(r,e){return t=>new w2(t,r,e)}function x2(r,e){let t=r.getBoundingClientRect(),i=e.getBoundingClientRect(),s=t.height/r.offsetHeight;i.top<t.top?r.scrollTop-=(t.top-i.top)/s:i.bottom>t.bottom&&(r.scrollTop+=(i.bottom-t.bottom)/s)}function _p(r){return(r.boost||0)*100+(r.apply?10:0)+(r.info?5:0)+(r.type?1:0)}function k2(r,e){let t=[],i=null,s=h=>{t.push(h);let{section:c}=h.completion;if(c){i||(i=[]);let u=typeof c=="string"?c:c.name;i.some(p=>p.name==u)||i.push(typeof c=="string"?{name:u}:c)}},n=e.facet(Yt);for(let h of r)if(h.hasResult()){let c=h.result.getMatch;if(h.result.filter===!1)for(let u of h.result.options)s(new Ap(u,h.source,c?c(u):[],1e9-t.length));else{let u=e.sliceDoc(h.from,h.to),p,m=n.filterStrict?new O2(u):new g2(u);for(let g of h.result.options)if(p=m.match(g.label)){let b=g.displayLabel?c?c(g,p.matched):[]:p.matched;s(new Ap(g,h.source,b,p.score+(g.boost||0)))}}}if(i){let h=Object.create(null),c=0,u=(p,m)=>{var g,b;return((g=p.rank)!==null&&g!==void 0?g:1e9)-((b=m.rank)!==null&&b!==void 0?b:1e9)||(p.name<m.name?-1:1)};for(let p of i.sort(u))c-=1e5,h[p.name]=c;for(let p of t){let{section:m}=p.completion;m&&(p.score+=h[typeof m=="string"?m:m.name])}}let a=[],o=null,l=n.compareCompletions;for(let h of t.sort((c,u)=>u.score-c.score||l(c.completion,u.completion))){let c=h.completion;!o||o.label!=c.label||o.detail!=c.detail||o.type!=null&&c.type!=null&&o.type!=c.type||o.apply!=c.apply||o.boost!=c.boost?a.push(h):_p(h.completion)>_p(o)&&(a[a.length-1]=h),o=h.completion}return a}class vr{constructor(e,t,i,s,n,a){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=s,this.selected=n,this.disabled=a}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new vr(this.options,Qp(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,s,n,a){if(s&&!a&&e.some(h=>h.isPending))return s.setDisabled();let o=k2(e,t);if(!o.length)return s&&e.some(h=>h.isPending)?s.setDisabled():null;let l=t.facet(Yt).selectOnOpen?0:-1;if(s&&s.selected!=l&&s.selected!=-1){let h=s.options[s.selected].completion;for(let c=0;c<o.length;c++)if(o[c].completion==h){l=c;break}}return new vr(o,Qp(i,l),{pos:e.reduce((h,c)=>c.hasResult()?Math.min(h,c.from):h,1e8),create:_2,above:n.aboveCursor},s?s.timestamp:Date.now(),l,!1)}map(e){return new vr(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new vr(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class bo{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new bo(T2,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(Yt),n=(i.override||t.languageDataAt("autocomplete",er(t)).map(m2)).map(l=>(this.active.find(c=>c.source==l)||new Ii(l,this.active.some(c=>c.state!=0)?1:0)).update(e,i));n.length==this.active.length&&n.every((l,h)=>l==this.active[h])&&(n=this.active);let a=this.open,o=e.effects.some(l=>l.is(sc));a&&e.docChanged&&(a=a.map(e.changes)),e.selection||n.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!P2(n,this.active)||o?a=vr.build(n,t,this.id,a,i,o):a&&a.disabled&&!n.some(l=>l.isPending)&&(a=null),!a&&n.every(l=>!l.isPending)&&n.some(l=>l.hasResult())&&(n=n.map(l=>l.hasResult()?new Ii(l.source,0):l));for(let l of e.effects)l.is(rg)&&(a=a&&a.setSelected(l.value,this.id));return n==this.active&&a==this.open?this:new bo(n,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?S2:A2}}function P2(r,e){if(r==e)return!0;for(let t=0,i=0;;){for(;t<r.length&&!r[t].hasResult();)t++;for(;i<e.length&&!e[i].hasResult();)i++;let s=t==r.length,n=i==e.length;if(s||n)return s==n;if(r[t++].result!=e[i++].result)return!1}}const S2={"aria-autocomplete":"list"},A2={};function Qp(r,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":r};return e>-1&&(t["aria-activedescendant"]=r+"-"+e),t}const T2=[];function sg(r,e){if(r.isUserEvent("input.complete")){let i=r.annotation(ic);if(i&&e.activateOnCompletion(i))return 12}let t=r.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:r.isUserEvent("delete.backward")?2:r.selection?8:r.docChanged?16:0}class Ii{constructor(e,t,i=!1){this.source=e,this.state=t,this.explicit=i}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let i=sg(e,t),s=this;(i&8||i&16&&this.touches(e))&&(s=new Ii(s.source,0)),i&4&&s.state==0&&(s=new Ii(this.source,1)),s=s.updateFor(e,i);for(let n of e.effects)if(n.is(Oo))s=new Ii(s.source,1,n.value);else if(n.is(Ln))s=new Ii(s.source,0);else if(n.is(sc))for(let a of n.value)a.source==s.source&&(s=a);return s}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(er(e.state))}}class Qr extends Ii{constructor(e,t,i,s,n,a){super(e,3,t),this.limit=i,this.result=s,this.from=n,this.to=a}hasResult(){return!0}updateFor(e,t){var i;if(!(t&3))return this.map(e.changes);let s=this.result;s.map&&!e.changes.empty&&(s=s.map(s,e.changes));let n=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),o=er(e.state);if(o>a||!s||t&2&&(er(e.startState)==this.from||o<this.limit))return new Ii(this.source,t&4?1:0);let l=e.changes.mapPos(this.limit);return C2(s.validFor,e.state,n,a)?new Qr(this.source,this.explicit,l,s,n,a):s.update&&(s=s.update(s,n,a,new eg(e.state,o,!1)))?new Qr(this.source,this.explicit,l,s,s.from,(i=s.to)!==null&&i!==void 0?i:er(e.state)):new Ii(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Qr(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Ii(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function C2(r,e,t,i){if(!r)return!1;let s=e.sliceDoc(t,i);return typeof r=="function"?r(s,t,i,e):ig(r,!0).test(s)}const sc=Ge.define({map(r,e){return r.map(t=>t.map(e))}}),rg=Ge.define(),Oi=Ci.define({create(){return bo.start()},update(r,e){return r.update(e)},provide:r=>[$o.from(r,e=>e.tooltip),Te.contentAttributes.from(r,e=>e.attrs)]});function rc(r,e){const t=e.completion.apply||e.completion.label;let i=r.state.field(Oi).active.find(s=>s.source==e.source);return i instanceof Qr?(typeof t=="string"?r.dispatch(Object.assign(Object.assign({},d2(r.state,t,i.from,i.to)),{annotations:ic.of(e.completion)})):t(r,e.completion,i.from,i.to),!0):!1}const _2=v2(Oi,rc);function va(r,e="option"){return t=>{let i=t.state.field(Oi,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(Yt).interactionDelay)return!1;let s=1,n;e=="page"&&(n=D0(t,i.open.tooltip))&&(s=Math.max(2,Math.floor(n.dom.offsetHeight/n.dom.querySelector("li").offsetHeight)-1));let{length:a}=i.open.options,o=i.open.selected>-1?i.open.selected+s*(r?1:-1):r?0:a-1;return o<0?o=e=="page"?0:a-1:o>=a&&(o=e=="page"?a-1:0),t.dispatch({effects:rg.of(o)}),!0}}const Q2=r=>{let e=r.state.field(Oi,!1);return r.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<r.state.facet(Yt).interactionDelay?!1:rc(r,e.open.options[e.open.selected])},Ep=r=>r.state.field(Oi,!1)?(r.dispatch({effects:Oo.of(!0)}),!0):!1,E2=r=>{let e=r.state.field(Oi,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(r.dispatch({effects:Ln.of(null)}),!0)};class I2{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const M2=50,$2=1e3,N2=Ti.fromClass(class{constructor(r){this.view=r,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of r.state.field(Oi).active)e.isPending&&this.startQuery(e)}update(r){let e=r.state.field(Oi),t=r.state.facet(Yt);if(!r.selectionSet&&!r.docChanged&&r.startState.field(Oi)==e)return;let i=r.transactions.some(n=>{let a=sg(n,t);return a&8||(n.selection||n.docChanged)&&!(a&3)});for(let n=0;n<this.running.length;n++){let a=this.running[n];if(i||a.context.abortOnDocChange&&r.docChanged||a.updates.length+r.transactions.length>M2&&Date.now()-a.time>$2){for(let o of a.context.abortListeners)try{o()}catch(l){fi(this.view.state,l)}a.context.abortListeners=null,this.running.splice(n--,1)}else a.updates.push(...r.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),r.transactions.some(n=>n.effects.some(a=>a.is(Oo)))&&(this.pendingStart=!0);let s=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(n=>n.isPending&&!this.running.some(a=>a.active.source==n.source))?setTimeout(()=>this.startUpdate(),s):-1,this.composing!=0)for(let n of r.transactions)n.isUserEvent("input.type")?this.composing=2:this.composing==2&&n.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:r}=this.view,e=r.field(Oi);for(let t of e.active)t.isPending&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Yt).updateSyncTime))}startQuery(r){let{state:e}=this.view,t=er(e),i=new eg(e,t,r.explicit,this.view),s=new I2(r,i);this.running.push(s),Promise.resolve(r.source(i)).then(n=>{s.context.aborted||(s.done=n||null,this.scheduleAccept())},n=>{this.view.dispatch({effects:Ln.of(null)}),fi(this.view.state,n)})}scheduleAccept(){this.running.every(r=>r.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Yt).updateSyncTime))}accept(){var r;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Yt),i=this.view.state.field(Oi);for(let s=0;s<this.running.length;s++){let n=this.running[s];if(n.done===void 0)continue;if(this.running.splice(s--,1),n.done){let o=er(n.updates.length?n.updates[0].startState:this.view.state),l=Math.min(o,n.done.from+(n.active.explicit?0:1)),h=new Qr(n.active.source,n.active.explicit,l,n.done,n.done.from,(r=n.done.to)!==null&&r!==void 0?r:o);for(let c of n.updates)h=h.update(c,t);if(h.hasResult()){e.push(h);continue}}let a=i.active.find(o=>o.source==n.active.source);if(a&&a.isPending)if(n.done==null){let o=new Ii(n.active.source,0);for(let l of n.updates)o=o.update(l,t);o.isPending||e.push(o)}else this.startQuery(a)}(e.length||i.open&&i.open.disabled)&&this.view.dispatch({effects:sc.of(e)})}},{eventHandlers:{blur(r){let e=this.view.state.field(Oi,!1);if(e&&e.tooltip&&this.view.state.facet(Yt).closeOnBlur){let t=e.open&&D0(this.view,e.open.tooltip);(!t||!t.dom.contains(r.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Ln.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Oo.of(!1)}),20),this.composing=0}}}),L2=typeof navigator=="object"&&/Win/.test(navigator.platform),D2=Vr.highest(Te.domEventHandlers({keydown(r,e){let t=e.state.field(Oi,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||r.key.length>1||r.ctrlKey&&!(L2&&r.altKey)||r.metaKey)return!1;let i=t.open.options[t.open.selected],s=t.active.find(a=>a.source==i.source),n=i.completion.commitCharacters||s.result.commitCharacters;return n&&n.indexOf(r.key)>-1&&rc(e,i),!1}})),ng=Te.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:`${400}px`,boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:`${30}px`},".cm-completionInfo.cm-completionInfo-right-narrow":{left:`${30}px`},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class R2{constructor(e,t,i,s){this.field=e,this.line=t,this.from=i,this.to=s}}class nc{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,ai.TrackDel),i=e.mapPos(this.to,1,ai.TrackDel);return t==null||i==null?null:new nc(this.field,t,i)}}class ac{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],s=[t],n=e.doc.lineAt(t),a=/^\s*/.exec(n.text)[0];for(let l of this.lines){if(i.length){let h=a,c=/^\t*/.exec(l)[0].length;for(let u=0;u<c;u++)h+=e.facet(Kv);s.push(t+h.length-c),l=h+l.slice(c)}i.push(l),t+=l.length+1}let o=this.fieldPositions.map(l=>new nc(l.field,s[l.line]+l.from,s[l.line]+l.to));return{text:i,ranges:o}}static parse(e){let t=[],i=[],s=[],n;for(let a of e.split(/\r\n?|\n/)){for(;n=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(a);){let o=n[1]?+n[1]:null,l=n[2]||n[3]||"",h=-1,c=l.replace(/\\[{}]/g,u=>u[1]);for(let u=0;u<t.length;u++)(o!=null?t[u].seq==o:c?t[u].name==c:!1)&&(h=u);if(h<0){let u=0;for(;u<t.length&&(o==null||t[u].seq!=null&&t[u].seq<o);)u++;t.splice(u,0,{seq:o,name:c}),h=u;for(let p of s)p.field>=h&&p.field++}s.push(new R2(h,i.length,n.index,n.index+c.length)),a=a.slice(0,n.index)+l+a.slice(n.index+n[0].length)}a=a.replace(/\\([{}])/g,(o,l,h)=>{for(let c of s)c.line==i.length&&c.from>h&&(c.from--,c.to--);return l}),i.push(a)}return new ac(i,s)}}let Z2=pt.widget({widget:new class extends Zn{toDOM(){let r=document.createElement("span");return r.className="cm-snippetFieldPosition",r}ignoreEvent(){return!1}}}),j2=pt.mark({class:"cm-snippetField"});class Fr{constructor(e,t){this.ranges=e,this.active=t,this.deco=pt.set(e.map(i=>(i.from==i.to?Z2:j2).range(i.from,i.to)))}map(e){let t=[];for(let i of this.ranges){let s=i.map(e);if(!s)return null;t.push(s)}return new Fr(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(i=>i.field==this.active&&i.from<=t.from&&i.to>=t.to))}}const zn=Ge.define({map(r,e){return r&&r.map(e)}}),B2=Ge.define(),Dn=Ci.define({create(){return null},update(r,e){for(let t of e.effects){if(t.is(zn))return t.value;if(t.is(B2)&&r)return new Fr(r.ranges,t.value)}return r&&e.docChanged&&(r=r.map(e.changes)),r&&e.selection&&!r.selectionInsideField(e.selection)&&(r=null),r},provide:r=>Te.decorations.from(r,e=>e?e.deco:pt.none)});function oc(r,e){return Oe.create(r.filter(t=>t.field==e).map(t=>Oe.range(t.from,t.to)))}function X2(r){let e=ac.parse(r);return(t,i,s,n)=>{let{text:a,ranges:o}=e.instantiate(t.state,s),{main:l}=t.state.selection,h={changes:{from:s,to:n==l.from?l.to:n,insert:tt.of(a)},scrollIntoView:!0,annotations:i?[ic.of(i),ii.userEvent.of("input.complete")]:void 0};if(o.length&&(h.selection=oc(o,0)),o.some(c=>c.field>0)){let c=new Fr(o,0),u=h.effects=[zn.of(c)];t.state.field(Dn,!1)===void 0&&u.push(Ge.appendConfig.of([Dn,F2,W2,ng]))}t.dispatch(t.state.update(h))}}function ag(r){return({state:e,dispatch:t})=>{let i=e.field(Dn,!1);if(!i||r<0&&i.active==0)return!1;let s=i.active+r,n=r>0&&!i.ranges.some(a=>a.field==s+r);return t(e.update({selection:oc(i.ranges,s),effects:zn.of(n?null:new Fr(i.ranges,s)),scrollIntoView:!0})),!0}}const q2=({state:r,dispatch:e})=>r.field(Dn,!1)?(e(r.update({effects:zn.of(null)})),!0):!1,z2=ag(1),U2=ag(-1),V2=[{key:"Tab",run:z2,shift:U2},{key:"Escape",run:q2}],Ip=ye.define({combine(r){return r.length?r[0]:V2}}),F2=Vr.highest(Hh.compute([Ip],r=>r.facet(Ip)));function mi(r,e){return Object.assign(Object.assign({},e),{apply:X2(r)})}const W2=Te.domEventHandlers({mousedown(r,e){let t=e.state.field(Dn,!1),i;if(!t||(i=e.posAtCoords({x:r.clientX,y:r.clientY}))==null)return!1;let s=t.ranges.find(n=>n.from<=i&&n.to>=i);return!s||s.field==t.active?!1:(e.dispatch({selection:oc(t.ranges,s.field),effects:zn.of(t.ranges.some(n=>n.field>s.field)?new Fr(t.ranges,s.field):null),scrollIntoView:!0}),!0)}}),og=new class extends sr{};og.startSide=1;og.endSide=-1;function H2(r={}){return[D2,Oi,Yt.of(r),N2,G2,ng]}const Y2=[{key:"Ctrl-Space",run:Ep},{mac:"Alt-`",run:Ep},{key:"Escape",run:E2},{key:"ArrowDown",run:va(!0)},{key:"ArrowUp",run:va(!1)},{key:"PageDown",run:va(!0,"page")},{key:"PageUp",run:va(!1,"page")},{key:"Enter",run:Q2}],G2=Vr.highest(Hh.computeN([Yt],r=>r.facet(Yt).defaultKeymap?[Y2]:[])),lg=[mi("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),mi("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),mi("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),mi("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),mi("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),mi(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),mi("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),mi(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),mi(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),mi('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),mi('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],K2=lg.concat([mi("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),mi("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),mi("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),Mp=new Jw,hg=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function en(r){return(e,t)=>{let i=e.node.getChild("VariableDefinition");return i&&t(i,r),!0}}const J2=["FunctionDeclaration"],ex={FunctionDeclaration:en("function"),ClassDeclaration:en("class"),ClassExpression:()=>!0,EnumDeclaration:en("constant"),TypeAliasDeclaration:en("type"),NamespaceDeclaration:en("namespace"),VariableDefinition(r,e){r.matchContext(J2)||e(r,"variable")},TypeDefinition(r,e){e(r,"type")},__proto__:null};function cg(r,e){let t=Mp.get(e);if(t)return t;let i=[],s=!0;function n(a,o){let l=r.sliceString(a.from,a.to);i.push({label:l,type:o})}return e.cursor(Vt.IncludeAnonymous).iterate(a=>{if(s)s=!1;else if(a.name){let o=ex[a.name];if(o&&o(a,n)||hg.has(a.name))return!1}else if(a.to-a.from>8192){for(let o of cg(r,a.node))i.push(o);return!1}}),Mp.set(e,i),i}const $p=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,ug=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function tx(r){let e=Ps(r.state).resolveInner(r.pos,-1);if(ug.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&$p.test(r.state.sliceDoc(e.from,e.to));if(!t&&!r.explicit)return null;let i=[];for(let s=e;s;s=s.parent)hg.has(s.name)&&(i=i.concat(cg(r.state.doc,s)));return{options:i,from:t?e.from:r.pos,validFor:$p}}const tr=mo.define({name:"javascript",parser:Wv.configure({props:[Jv.add({IfStatement:ml({except:/^\s*({|else\b)/}),TryStatement:ml({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:s2,SwitchBody:r=>{let e=r.textAfter,t=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return r.baseIndent+(t?0:i?1:2)*r.unit},Block:t2({closing:"}"}),ArrowFunction:r=>r.baseIndent+r.unit,"TemplateString BlockComment":()=>null,"Statement Property":ml({except:/^{/}),JSXElement(r){let e=/^\s*<\//.test(r.textAfter);return r.lineIndent(r.node.from)+(e?0:r.unit)},JSXEscape(r){let e=/\s*\}/.test(r.textAfter);return r.lineIndent(r.node.from)+(e?0:r.unit)},"JSXOpenTag JSXSelfClosingTag"(r){return r.column(r.node.from)+r.unit}}),r2.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":n2,BlockComment(r){return{from:r.from+2,to:r.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),fg={test:r=>/^JSX/.test(r.name),facet:G0({commentTokens:{block:{open:"{/*",close:"*/}"}}})},ix=tr.configure({dialect:"ts"},"typescript"),sx=tr.configure({dialect:"jsx",props:[tc.add(r=>r.isTop?[fg]:void 0)]}),rx=tr.configure({dialect:"jsx ts",props:[tc.add(r=>r.isTop?[fg]:void 0)]},"typescript");let pg=r=>({label:r,type:"keyword"});const dg="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(pg),nx=dg.concat(["declare","implements","private","protected","public"].map(pg));function mg(r={}){let e=r.jsx?r.typescript?rx:sx:r.typescript?ix:tr,t=r.typescript?K2.concat(nx):lg.concat(dg);return new Gv(e,[tr.data.of({autocomplete:p2(ug,tg(t))}),tr.data.of({autocomplete:tx}),r.jsx?lx:[]])}function ax(r){for(;;){if(r.name=="JSXOpenTag"||r.name=="JSXSelfClosingTag"||r.name=="JSXFragmentTag")return r;if(r.name=="JSXEscape"||!r.parent)return null;r=r.parent}}function Np(r,e,t=r.length){for(let i=e==null?void 0:e.firstChild;i;i=i.nextSibling)if(i.name=="JSXIdentifier"||i.name=="JSXBuiltin"||i.name=="JSXNamespacedName"||i.name=="JSXMemberExpression")return r.sliceString(i.from,Math.min(i.to,t));return""}const ox=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),lx=Te.inputHandler.of((r,e,t,i,s)=>{if((ox?r.composing:r.compositionStarted)||r.state.readOnly||e!=t||i!=">"&&i!="/"||!tr.isActiveAt(r.state,e,-1))return!1;let n=s(),{state:a}=n,o=a.changeByRange(l=>{var h;let{head:c}=l,u=Ps(a).resolveInner(c-1,-1),p;if(u.name=="JSXStartTag"&&(u=u.parent),!(a.doc.sliceString(c-1,c)!=i||u.name=="JSXAttributeValue"&&u.to>c)){if(i==">"&&u.name=="JSXFragmentTag")return{range:l,changes:{from:c,insert:"</>"}};if(i=="/"&&u.name=="JSXStartCloseTag"){let m=u.parent,g=m.parent;if(g&&m.from==c-2&&((p=Np(a.doc,g.firstChild,c))||((h=g.firstChild)===null||h===void 0?void 0:h.name)=="JSXFragmentTag")){let b=`${p}>`;return{range:Oe.cursor(c+b.length,-1),changes:{from:c,insert:b}}}}else if(i==">"){let m=ax(u);if(m&&m.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(a.doc.sliceString(c,c+2))&&(p=Np(a.doc,m,c)))return{range:l,changes:{from:c,insert:`</${p}>`}}}}return{range:l}});return o.changes.empty?!1:(r.dispatch([n,a.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),hx="#e5c07b",Lp="#e06c75",cx="#56b6c2",ux="#ffffff",Ra="#abb2bf",vh="#7d8799",fx="#61afef",px="#98c379",Dp="#d19a66",dx="#c678dd",mx="#21252b",Rp="#2c313a",Zp="#282c34",yl="#353a42",gx="#3E4451",jp="#528bff",Ox=Te.theme({"&":{color:Ra,backgroundColor:Zp},".cm-content":{caretColor:jp},".cm-cursor, .cm-dropCursor":{borderLeftColor:jp},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:gx},".cm-panels":{backgroundColor:mx,color:Ra},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Zp,color:vh,border:"none"},".cm-activeLineGutter":{backgroundColor:Rp},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:yl},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:yl,borderBottomColor:yl},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Rp,color:Ra}}},{dark:!0}),bx=qn.define([{tag:_.keyword,color:dx},{tag:[_.name,_.deleted,_.character,_.propertyName,_.macroName],color:Lp},{tag:[_.function(_.variableName),_.labelName],color:fx},{tag:[_.color,_.constant(_.name),_.standard(_.name)],color:Dp},{tag:[_.definition(_.name),_.separator],color:Ra},{tag:[_.typeName,_.className,_.number,_.changed,_.annotation,_.modifier,_.self,_.namespace],color:hx},{tag:[_.operator,_.operatorKeyword,_.url,_.escape,_.regexp,_.link,_.special(_.string)],color:cx},{tag:[_.meta,_.comment],color:vh},{tag:_.strong,fontWeight:"bold"},{tag:_.emphasis,fontStyle:"italic"},{tag:_.strikethrough,textDecoration:"line-through"},{tag:_.link,color:vh,textDecoration:"underline"},{tag:_.heading,fontWeight:"bold",color:Lp},{tag:[_.atom,_.bool,_.special(_.variableName)],color:Dp},{tag:[_.processingInstruction,_.string,_.inserted],color:px},{tag:_.invalid,color:ux}]),gg=[Ox,a2(bx)];function ss(){var r=arguments[0];typeof r=="string"&&(r=document.createElement(r));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=t[i];typeof s=="string"?r.setAttribute(i,s):s!=null&&(r[i]=s)}e++}for(;e<arguments.length;e++)Og(r,arguments[e]);return r}function Og(r,e){if(typeof e=="string")r.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)r.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)Og(r,e[t]);else throw new RangeError("Unsupported child node: "+e)}class Bp{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class Ys{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let s=e,n=i.facet(ns).markerFilter;n&&(s=n(s,i));let a=e.slice().sort((u,p)=>u.from-p.from||u.to-p.to),o=new Lr,l=[],h=0;for(let u=0;;){let p=u==a.length?null:a[u];if(!p&&!l.length)break;let m,g;for(l.length?(m=h,g=l.reduce((w,y)=>Math.min(w,y.to),p&&p.from>m?p.from:1e8)):(m=p.from,g=p.to,l.push(p),u++);u<a.length;){let w=a[u];if(w.from==m&&(w.to>w.from||w.to==m))l.push(w),u++,g=Math.min(w.to,g);else{g=Math.min(w.from,g);break}}let b=Pg(l);if(l.some(w=>w.from==w.to||w.from==w.to-1&&i.doc.lineAt(w.from).to==w.from))o.add(m,m,pt.widget({widget:new Ax(b),diagnostics:l.slice()}));else{let w=l.reduce((y,v)=>v.markClass?y+" "+v.markClass:y,"");o.add(m,g,pt.mark({class:"cm-lintRange cm-lintRange-"+b+w,diagnostics:l.slice(),inclusiveEnd:l.some(y=>y.to>g)}))}h=g;for(let w=0;w<l.length;w++)l[w].to<=h&&l.splice(w--,1)}let c=o.finish();return new Ys(c,t,Xr(c))}}function Xr(r,e=null,t=0){let i=null;return r.between(t,1e9,(s,n,{spec:a})=>{if(!(e&&a.diagnostics.indexOf(e)<0))if(!i)i=new Bp(s,n,e||a.diagnostics[0]);else{if(a.diagnostics.indexOf(i.diagnostic)<0)return!1;i=new Bp(i.from,n,i.diagnostic)}}),i}function bg(r,e){let t=e.pos,i=e.end||t,s=r.state.facet(ns).hideOn(r,t,i);if(s!=null)return s;let n=r.startState.doc.lineAt(e.pos);return!!(r.effects.some(a=>a.is(Lo))||r.changes.touchesRange(n.from,Math.max(n.to,i)))}function yx(r,e){return r.field(Bi,!1)?e:e.concat(Ge.appendConfig.of(Tg))}function wx(r,e){return{effects:yx(r,[Lo.of(e)])}}const Lo=Ge.define(),yg=Ge.define(),wg=Ge.define(),Bi=Ci.define({create(){return new Ys(pt.none,null,null)},update(r,e){if(e.docChanged&&r.diagnostics.size){let t=r.diagnostics.map(e.changes),i=null,s=r.panel;if(r.selected){let n=e.changes.mapPos(r.selected.from,1);i=Xr(t,r.selected.diagnostic,n)||Xr(t,null,n)}!t.size&&s&&e.state.facet(ns).autoPanel&&(s=null),r=new Ys(t,s,i)}for(let t of e.effects)if(t.is(Lo)){let i=e.state.facet(ns).autoPanel?t.value.length?yo.open:null:r.panel;r=Ys.init(t.value,i,e.state)}else t.is(yg)?r=new Ys(r.diagnostics,t.value?yo.open:null,r.selected):t.is(wg)&&(r=new Ys(r.diagnostics,r.panel,t.value));return r},provide:r=>[uh.from(r,e=>e.panel),Te.decorations.from(r,e=>e.diagnostics)]}),vx=pt.mark({class:"cm-lintRange cm-lintRange-active"});function xx(r,e,t){let{diagnostics:i}=r.state.field(Bi),s,n=-1,a=-1;i.between(e-(t<0?1:0),e+(t>0?1:0),(l,h,{spec:c})=>{if(e>=l&&e<=h&&(l==h||(e>l||t>0)&&(e<h||t<0)))return s=c.diagnostics,n=l,a=h,!1});let o=r.state.facet(ns).tooltipFilter;return s&&o&&(s=o(s,r.state)),s?{pos:n,end:a,above:r.state.doc.lineAt(n).to<a,create(){return{dom:vg(r,s)}}}:null}function vg(r,e){return ss("ul",{class:"cm-tooltip-lint"},e.map(t=>kg(r,t,!1)))}const Xp=r=>{let e=r.state.field(Bi,!1);return!e||!e.panel?!1:(r.dispatch({effects:yg.of(!1)}),!0)},kx=Ti.fromClass(class{constructor(r){this.view=r,this.timeout=-1,this.set=!0;let{delay:e}=r.state.facet(ns);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let r=Date.now();if(r<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-r);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(ns);t.length&&Px(t.map(i=>Promise.resolve(i(this.view))),i=>{this.view.state.doc==e.doc&&this.view.dispatch(wx(this.view.state,i.reduce((s,n)=>s.concat(n))))},i=>{fi(this.view.state,i)})}}update(r){let e=r.state.facet(ns);(r.docChanged||e!=r.startState.facet(ns)||e.needsRefresh&&e.needsRefresh(r))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function Px(r,e,t){let i=[],s=-1;for(let n of r)n.then(a=>{i.push(a),clearTimeout(s),i.length==r.length?e(i):s=setTimeout(()=>e(i),200)},t)}const ns=ye.define({combine(r){return Object.assign({sources:r.map(e=>e.source).filter(e=>e!=null)},Qo(r.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t}))}});function Sx(r,e={}){return[ns.of({source:r,config:e}),kx,Tg]}function xg(r){let e=[];if(r)e:for(let{name:t}of r){for(let i=0;i<t.length;i++){let s=t[i];if(/[a-zA-Z]/.test(s)&&!e.some(n=>n.toLowerCase()==s.toLowerCase())){e.push(s);continue e}}e.push("")}return e}function kg(r,e,t){var i;let s=t?xg(e.actions):[];return ss("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},ss("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(r):e.message),(i=e.actions)===null||i===void 0?void 0:i.map((n,a)=>{let o=!1,l=p=>{if(p.preventDefault(),o)return;o=!0;let m=Xr(r.state.field(Bi).diagnostics,e);m&&n.apply(r,m.from,m.to)},{name:h}=n,c=s[a]?h.indexOf(s[a]):-1,u=c<0?h:[h.slice(0,c),ss("u",h.slice(c,c+1)),h.slice(c+1)];return ss("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${h}${c<0?"":` (access key "${s[a]})"`}.`},u)}),e.source&&ss("div",{class:"cm-diagnosticSource"},e.source))}class Ax extends Zn{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return ss("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class qp{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=kg(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class yo{constructor(e){this.view=e,this.items=[];let t=s=>{if(s.keyCode==27)Xp(this.view),this.view.focus();else if(s.keyCode==38||s.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(s.keyCode==40||s.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(s.keyCode==36)this.moveSelection(0);else if(s.keyCode==35)this.moveSelection(this.items.length-1);else if(s.keyCode==13)this.view.focus();else if(s.keyCode>=65&&s.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:n}=this.items[this.selectedIndex],a=xg(n.actions);for(let o=0;o<a.length;o++)if(a[o].toUpperCase().charCodeAt(0)==s.keyCode){let l=Xr(this.view.state.field(Bi).diagnostics,n);l&&n.actions[o].apply(e,l.from,l.to)}}else return;s.preventDefault()},i=s=>{for(let n=0;n<this.items.length;n++)this.items[n].dom.contains(s.target)&&this.moveSelection(n)};this.list=ss("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=ss("div",{class:"cm-panel-lint"},this.list,ss("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Xp(this.view)},"\xD7")),this.update()}get selectedIndex(){let e=this.view.state.field(Bi).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Bi),i=0,s=!1,n=null,a=new Set;for(e.between(0,this.view.state.doc.length,(o,l,{spec:h})=>{for(let c of h.diagnostics){if(a.has(c))continue;a.add(c);let u=-1,p;for(let m=i;m<this.items.length;m++)if(this.items[m].diagnostic==c){u=m;break}u<0?(p=new qp(this.view,c),this.items.splice(i,0,p),s=!0):(p=this.items[u],u>i&&(this.items.splice(i,u-i),s=!0)),t&&p.diagnostic==t.diagnostic?p.dom.hasAttribute("aria-selected")||(p.dom.setAttribute("aria-selected","true"),n=p):p.dom.hasAttribute("aria-selected")&&p.dom.removeAttribute("aria-selected"),i++}});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)s=!0,this.items.pop();this.items.length==0&&(this.items.push(new qp(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),s=!0),n?(this.list.setAttribute("aria-activedescendant",n.id),this.view.requestMeasure({key:this,read:()=>({sel:n.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:l})=>{let h=l.height/this.list.offsetHeight;o.top<l.top?this.list.scrollTop-=(l.top-o.top)/h:o.bottom>l.bottom&&(this.list.scrollTop+=(o.bottom-l.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),s&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Bi),i=Xr(t.diagnostics,this.items[e].diagnostic);!i||this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:wg.of(i)})}static open(e){return new yo(e)}}function Za(r,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(r)}</svg>')`}function xa(r){return Za(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${r}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Tx=Te.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:xa("#d11")},".cm-lintRange-warning":{backgroundImage:xa("orange")},".cm-lintRange-info":{backgroundImage:xa("#999")},".cm-lintRange-hint":{backgroundImage:xa("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Cx(r){return r=="error"?4:r=="warning"?3:r=="info"?2:1}function Pg(r){let e="hint",t=1;for(let i of r){let s=Cx(i.severity);s>t&&(t=s,e=i.severity)}return e}class Sg extends qs{constructor(e){super(),this.diagnostics=e,this.severity=Pg(e)}toDOM(e){let t=document.createElement("div");t.className="cm-lint-marker cm-lint-marker-"+this.severity;let i=this.diagnostics,s=e.state.facet(Do).tooltipFilter;return s&&(i=s(i,e.state)),i.length&&(t.onmouseover=()=>Qx(e,t,i)),t}}function _x(r,e){let t=i=>{let s=e.getBoundingClientRect();if(!(i.clientX>s.left-10&&i.clientX<s.right+10&&i.clientY>s.top-10&&i.clientY<s.bottom+10)){for(let n=i.target;n;n=n.parentNode)if(n.nodeType==1&&n.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",t),r.state.field(Ag)&&r.dispatch({effects:lc.of(null)})}};window.addEventListener("mousemove",t)}function Qx(r,e,t){function i(){let a=r.elementAtHeight(e.getBoundingClientRect().top+5-r.documentTop);r.coordsAtPos(a.from)&&r.dispatch({effects:lc.of({pos:a.from,above:!1,clip:!1,create(){return{dom:vg(r,t),getCoords:()=>e.getBoundingClientRect()}}})}),e.onmouseout=e.onmousemove=null,_x(r,e)}let{hoverTime:s}=r.state.facet(Do),n=setTimeout(i,s);e.onmouseout=()=>{clearTimeout(n),e.onmouseout=e.onmousemove=null},e.onmousemove=()=>{clearTimeout(n),n=setTimeout(i,s)}}function Ex(r,e){let t=Object.create(null);for(let s of e){let n=r.lineAt(s.from);(t[n.from]||(t[n.from]=[])).push(s)}let i=[];for(let s in t)i.push(new Sg(t[s]).range(+s));return Je.of(i,!0)}const Ix=jw({class:"cm-gutter-lint",markers:r=>r.state.field(xh),widgetMarker:(r,e,t)=>{let i=[];return r.state.field(xh).between(t.from,t.to,(s,n,a)=>{s>t.from&&s<t.to&&i.push(...a.diagnostics)}),i.length?new Sg(i):null}}),xh=Ci.define({create(){return Je.empty},update(r,e){r=r.map(e.changes);let t=e.state.facet(Do).markerFilter;for(let i of e.effects)if(i.is(Lo)){let s=i.value;t&&(s=t(s||[],e.state)),r=Ex(e.state.doc,s.slice(0))}return r}}),lc=Ge.define(),Ag=Ci.define({create(){return null},update(r,e){return r&&e.docChanged&&(r=bg(e,r)?null:Object.assign(Object.assign({},r),{pos:e.changes.mapPos(r.pos)})),e.effects.reduce((t,i)=>i.is(lc)?i.value:t,r)},provide:r=>$o.from(r)}),Mx=Te.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:Za('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:Za('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:Za('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),Tg=[Bi,Te.decorations.compute([Bi],r=>{let{selected:e,panel:t}=r.field(Bi);return!e||!t||e.from==e.to?pt.none:pt.set([vx.range(e.from,e.to)])}),Nw(xx,{hideOn:bg}),Tx],Do=ye.define({combine(r){return Qo(r,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function $x(r={}){return[Do.of(r),xh,Ix,Mx,Ag]}var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});function Nx(r,e){if(r==null)return{};var t={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.includes(i))continue;t[i]=r[i]}return t}class Ds{constructor(e,t,i){this.line=void 0,this.column=void 0,this.index=void 0,this.line=e,this.column=t,this.index=i}}class wo{constructor(e,t){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=e,this.end=t}}function ui(r,e){const{line:t,column:i,index:s}=r;return new Ds(t,i+e,s+e)}const zp="BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED";var Lx={ImportMetaOutsideModule:{message:`import.meta may appear only with 'sourceType: "module"'`,code:zp},ImportOutsideModule:{message:`'import' and 'export' may appear only with 'sourceType: "module"'`,code:zp}};const Up={ArrayPattern:"array destructuring pattern",AssignmentExpression:"assignment expression",AssignmentPattern:"assignment expression",ArrowFunctionExpression:"arrow function expression",ConditionalExpression:"conditional expression",CatchClause:"catch clause",ForOfStatement:"for-of statement",ForInStatement:"for-in statement",ForStatement:"for-loop",FormalParameters:"function parameter list",Identifier:"identifier",ImportSpecifier:"import specifier",ImportDefaultSpecifier:"import default specifier",ImportNamespaceSpecifier:"import namespace specifier",ObjectPattern:"object destructuring pattern",ParenthesizedExpression:"parenthesized expression",RestElement:"rest element",UpdateExpression:{true:"prefix operation",false:"postfix operation"},VariableDeclarator:"variable declaration",YieldExpression:"yield expression"},ja=r=>r.type==="UpdateExpression"?Up.UpdateExpression[`${r.prefix}`]:Up[r.type];var Dx={AccessorIsGenerator:({kind:r})=>`A ${r}ter cannot be a generator.`,ArgumentsInClass:"'arguments' is only allowed in functions and class methods.",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block.",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function.",AwaitBindingIdentifierInStaticBlock:"Can not use 'await' as identifier inside a static block.",AwaitExpressionFormalParameter:"'await' is not allowed in async function parameters.",AwaitUsingNotInAsyncContext:"'await using' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncContext:"'await' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncFunction:"'await' is only allowed within async functions.",BadGetterArity:"A 'get' accessor must not have any formal parameters.",BadSetterArity:"A 'set' accessor must have exactly one formal parameter.",BadSetterRestParameter:"A 'set' accessor function argument must not be a rest parameter.",ConstructorClassField:"Classes may not have a field named 'constructor'.",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'.",ConstructorIsAccessor:"Class constructor may not be an accessor.",ConstructorIsAsync:"Constructor can't be an async function.",ConstructorIsGenerator:"Constructor can't be a generator.",DeclarationMissingInitializer:({kind:r})=>`Missing initializer in ${r} declaration.`,DecoratorArgumentsOutsideParentheses:"Decorator arguments must be moved inside parentheses: use '@(decorator(args))' instead of '@(decorator)(args)'.",DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. Remove the 'decoratorsBeforeExport: true' option to use the 'export @decorator class {}' syntax.",DecoratorsBeforeAfterExport:"Decorators can be placed *either* before or after the 'export' keyword, but not in both locations at the same time.",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Decorators must be placed *after* the 'export' keyword. Remove the 'decoratorsBeforeExport: false' option to use the '@decorator export class {}' syntax.",DecoratorSemicolon:"Decorators must not be followed by a semicolon.",DecoratorStaticBlock:"Decorators can't be used with a static block.",DeferImportRequiresNamespace:'Only `import defer * as x from "./module"` is valid.',DeletePrivateField:"Deleting a private field is not allowed.",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class.",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:({exportName:r})=>`\`${r}\` has already been exported. Exported identifiers must be unique.`,DuplicateProto:"Redefinition of __proto__ property.",DuplicateRegExpFlags:"Duplicate regular expression flag.",DynamicImportPhaseRequiresImportExpressions:({phase:r})=>`'import.${r}(...)' can only be parsed when using the 'createImportExpressions' option.`,ElementAfterRest:"Rest element must be last element.",EscapedCharNotAnIdentifier:"Invalid Unicode escape.",ExportBindingIsString:({localName:r,exportName:e})=>`A string literal cannot be used as an exported binding without \`from\`.
- Did you mean \`export { '${r}' as '${e}' } from 'some-module'\`?`,ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'.",ForInOfLoopInitializer:({type:r})=>`'${r==="ForInStatement"?"for-in":"for-of"}' loop variable declaration may not have an initializer.`,ForInUsing:"For-in loop may not start with 'using' declaration.",ForOfAsync:"The left-hand side of a for-of loop may not be 'async'.",ForOfLet:"The left-hand side of a for-of loop may not start with 'let'.",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block.",IllegalBreakContinue:({type:r})=>`Unsyntactic ${r==="BreakStatement"?"break":"continue"}.`,IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list.",IllegalReturn:"'return' outside of function.",ImportAttributesUseAssert:"The `assert` keyword in import attributes is deprecated and it has been replaced by the `with` keyword. You can enable the `deprecatedImportAssert` parser plugin to suppress this error.",ImportBindingIsString:({importName:r})=>`A string literal cannot be used as an imported binding.
- Did you mean \`import { "${r}" as foo }\`?`,ImportCallArity:"`import()` requires exactly one or two arguments.",ImportCallNotNewExpression:"Cannot use new with import(...).",ImportCallSpreadArgument:"`...` is not allowed in `import()`.",ImportJSONBindingNotDefault:"A JSON module can only be imported with `default`.",ImportReflectionHasAssertion:"`import module x` cannot have assertions.",ImportReflectionNotBinding:'Only `import module x from "./module"` is valid.',IncompatibleRegExpUVFlags:"The 'u' and 'v' regular expression flags cannot be enabled at the same time.",InvalidBigIntLiteral:"Invalid BigIntLiteral.",InvalidCodePoint:"Code point out of bounds.",InvalidCoverInitializedName:"Invalid shorthand property initializer.",InvalidDecimal:"Invalid decimal.",InvalidDigit:({radix:r})=>`Expected number in radix ${r}.`,InvalidEscapeSequence:"Bad character escape sequence.",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template.",InvalidEscapedReservedWord:({reservedWord:r})=>`Escape sequence in keyword ${r}.`,InvalidIdentifier:({identifierName:r})=>`Invalid identifier ${r}.`,InvalidLhs:({ancestor:r})=>`Invalid left-hand side in ${ja(r)}.`,InvalidLhsBinding:({ancestor:r})=>`Binding invalid left-hand side in ${ja(r)}.`,InvalidLhsOptionalChaining:({ancestor:r})=>`Invalid optional chaining in the left-hand side of ${ja(r)}.`,InvalidNumber:"Invalid number.",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'.",InvalidOrUnexpectedToken:({unexpected:r})=>`Unexpected character '${r}'.`,InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern.",InvalidPrivateFieldResolution:({identifierName:r})=>`Private name #${r} is not defined.`,InvalidPropertyBindingPattern:"Binding member expression.",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions.",InvalidRestAssignmentPattern:"Invalid rest operator's argument.",LabelRedeclaration:({labelName:r})=>`Label '${r}' is already declared.`,LetInLexicalBinding:"'let' is disallowed as a lexically bound name.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'.",MalformedRegExpFlags:"Invalid regular expression flag.",MissingClassName:"A class name is required.",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingSemicolon:"Missing semicolon.",MissingPlugin:({missingPlugin:r})=>`This experimental syntax requires enabling the parser plugin: ${r.map(e=>JSON.stringify(e)).join(", ")}.`,MissingOneOfPlugins:({missingPlugin:r})=>`This experimental syntax requires enabling one of the following parser plugin(s): ${r.map(e=>JSON.stringify(e)).join(", ")}.`,MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX.",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators.",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`.",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values.",ModuleAttributesWithDuplicateKeys:({key:r})=>`Duplicate key "${r}" is not allowed in module attributes.`,ModuleExportNameHasLoneSurrogate:({surrogateCharCode:r})=>`An export name cannot include a lone surrogate, found '\\u${r.toString(16)}'.`,ModuleExportUndefined:({localName:r})=>`Export '${r}' is not defined.`,MultipleDefaultsInSwitch:"Multiple default clauses.",NewlineAfterThrow:"Illegal newline after throw.",NoCatchOrFinally:"Missing catch or finally clause.",NumberIdentifier:"Identifier directly after number.",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences.",ObsoleteAwaitStar:"'await*' has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"Constructors in/after an Optional Chain are not allowed.",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain.",OverrideOnConstructor:"'override' modifier cannot appear on a constructor declaration.",ParamDupe:"Argument name clash.",PatternHasAccessor:"Object pattern can't contain getter or setter.",PatternHasMethod:"Object pattern can't contain methods.",PrivateInExpectedIn:({identifierName:r})=>`Private names are only allowed in property accesses (\`obj.#${r}\`) or in \`in\` expressions (\`#${r} in obj\`).`,PrivateNameRedeclaration:({identifierName:r})=>`Duplicate private name #${r}.`,RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",RecordNoProto:"'__proto__' is not allowed in Record expressions.",RestTrailingComma:"Unexpected trailing comma after rest element.",SloppyFunction:"In non-strict mode code, functions can only be declared at top level or inside a block.",SloppyFunctionAnnexB:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement.",SourcePhaseImportRequiresDefault:'Only `import source x from "./module"` is valid.',StaticPrototype:"Classes may not have static property named prototype.",SuperNotAllowed:"`super()` is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super.",TrailingDecorator:"Decorators must be attached to a class element.",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder.",UnexpectedAwaitAfterPipelineBody:'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal.',UnexpectedDigitAfterHash:"Unexpected digit after hash token.",UnexpectedImportExport:"'import' and 'export' may only appear at the top level.",UnexpectedKeyword:({keyword:r})=>`Unexpected keyword '${r}'.`,UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration.",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context.",UnexpectedNewTarget:"`new.target` can only be used in functions or class properties.",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits.",UnexpectedPrivateField:"Unexpected private name.",UnexpectedReservedWord:({reservedWord:r})=>`Unexpected reserved word '${r}'.`,UnexpectedSuper:"'super' is only allowed in object methods and classes.",UnexpectedToken:({expected:r,unexpected:e})=>`Unexpected token${e?` '${e}'.`:""}${r?`, expected "${r}"`:""}`,UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnexpectedUsingDeclaration:"Using declaration cannot appear in the top level when source type is `script`.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration.",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"`import` can only be used in `import()` or `import.meta`.",UnsupportedMetaProperty:({target:r,onlyValidPropertyName:e})=>`The only valid meta property for ${r} is ${r}.${e}.`,UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters.",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties.",UnsupportedSuper:"'super' can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop]).",UnterminatedComment:"Unterminated comment.",UnterminatedRegExp:"Unterminated regular expression.",UnterminatedString:"Unterminated string constant.",UnterminatedTemplate:"Unterminated template.",UsingDeclarationExport:"Using declaration cannot be exported.",UsingDeclarationHasBindingPattern:"Using declaration cannot have destructuring patterns.",VarRedeclaration:({identifierName:r})=>`Identifier '${r}' has already been declared.`,YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator.",YieldInParameter:"Yield expression is not allowed in formal parameters.",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0."},Rx={StrictDelete:"Deleting local variable in strict mode.",StrictEvalArguments:({referenceName:r})=>`Assigning to '${r}' in strict mode.`,StrictEvalArgumentsBinding:({bindingName:r})=>`Binding '${r}' in strict mode.`,StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block.",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'.",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode.",StrictWith:"'with' in strict mode."};const Zx=new Set(["ArrowFunctionExpression","AssignmentExpression","ConditionalExpression","YieldExpression"]);var jx={PipeBodyIsTighter:"Unexpected yield after pipeline body; any yield expression acting as Hack-style pipe body must be parenthesized due to its loose operator precedence.",PipeTopicRequiresHackPipes:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.',PipeTopicUnbound:"Topic reference is unbound; it must be inside a pipe body.",PipeTopicUnconfiguredToken:({token:r})=>`Invalid topic token ${r}. In order to use ${r} as a topic reference, the pipelineOperator plugin must be configured with { "proposal": "hack", "topicToken": "${r}" }.`,PipeTopicUnused:"Hack-style pipe body does not contain a topic reference; Hack-style pipes must use topic at least once.",PipeUnparenthesizedBody:({type:r})=>`Hack-style pipe body cannot be an unparenthesized ${ja({type:r})}; please wrap it in parentheses.`,PipelineBodyNoArrow:'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized.',PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression.",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression.",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference.",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding.",PrimaryTopicRequiresSmartPipeline:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.'};const Bx=["message"];function Vp(r,e,t){Object.defineProperty(r,e,{enumerable:!1,configurable:!0,value:t})}function Xx({toMessage:r,code:e,reasonCode:t,syntaxPlugin:i}){const s=t==="MissingPlugin"||t==="MissingOneOfPlugins";{const n={AccessorCannotDeclareThisParameter:"AccesorCannotDeclareThisParameter",AccessorCannotHaveTypeParameters:"AccesorCannotHaveTypeParameters",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference",SetAccessorCannotHaveOptionalParameter:"SetAccesorCannotHaveOptionalParameter",SetAccessorCannotHaveRestParameter:"SetAccesorCannotHaveRestParameter",SetAccessorCannotHaveReturnType:"SetAccesorCannotHaveReturnType"};n[t]&&(t=n[t])}return function n(a,o){const l=new SyntaxError;return l.code=e,l.reasonCode=t,l.loc=a,l.pos=a.index,l.syntaxPlugin=i,s&&(l.missingPlugin=o.missingPlugin),Vp(l,"clone",function(c={}){var u;const{line:p,column:m,index:g}=(u=c.loc)!=null?u:a;return n(new Ds(p,m,g),Object.assign({},o,c.details))}),Vp(l,"details",o),Object.defineProperty(l,"message",{configurable:!0,get(){const h=`${r(o)} (${a.line}:${a.column})`;return this.message=h,h},set(h){Object.defineProperty(this,"message",{value:h,writable:!0})}}),l}}function bs(r,e){if(Array.isArray(r))return i=>bs(i,r[0]);const t={};for(const i of Object.keys(r)){const s=r[i],n=typeof s=="string"?{message:()=>s}:typeof s=="function"?{message:s}:s,{message:a}=n,o=Nx(n,Bx),l=typeof a=="string"?()=>a:a;t[i]=Xx(Object.assign({code:"BABEL_PARSER_SYNTAX_ERROR",reasonCode:i,toMessage:l},e?{syntaxPlugin:e}:{},o))}return t}const C=Object.assign({},bs(Lx),bs(Dx),bs(Rx),bs`pipelineOperator`(jx)),{defineProperty:qx}=Object,Fp=(r,e)=>{r&&qx(r,e,{enumerable:!1,value:r[e]})};function tn(r){return Fp(r.loc.start,"index"),Fp(r.loc.end,"index"),r}var zx=r=>class extends r{parse(){const t=tn(super.parse());return this.options.tokens&&(t.tokens=t.tokens.map(tn)),t}parseRegExpLiteral({pattern:t,flags:i}){let s=null;try{s=new RegExp(t,i)}catch{}const n=this.estreeParseLiteral(s);return n.regex={pattern:t,flags:i},n}parseBigIntLiteral(t){let i;try{i=BigInt(t)}catch{i=null}const s=this.estreeParseLiteral(i);return s.bigint=String(s.value||t),s}parseDecimalLiteral(t){const s=this.estreeParseLiteral(null);return s.decimal=String(s.value||t),s}estreeParseLiteral(t){return this.parseLiteral(t,"Literal")}parseStringLiteral(t){return this.estreeParseLiteral(t)}parseNumericLiteral(t){return this.estreeParseLiteral(t)}parseNullLiteral(){return this.estreeParseLiteral(null)}parseBooleanLiteral(t){return this.estreeParseLiteral(t)}directiveToStmt(t){const i=t.value;delete t.value,i.type="Literal",i.raw=i.extra.raw,i.value=i.extra.expressionValue;const s=t;return s.type="ExpressionStatement",s.expression=i,s.directive=i.extra.rawValue,delete i.extra,s}initFunction(t,i){super.initFunction(t,i),t.expression=!1}checkDeclaration(t){t!=null&&this.isObjectProperty(t)?this.checkDeclaration(t.value):super.checkDeclaration(t)}getObjectOrClassMethodParams(t){return t.value.params}isValidDirective(t){var i;return t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&!((i=t.expression.extra)!=null&&i.parenthesized)}parseBlockBody(t,i,s,n,a){super.parseBlockBody(t,i,s,n,a);const o=t.directives.map(l=>this.directiveToStmt(l));t.body=o.concat(t.body),delete t.directives}pushClassMethod(t,i,s,n,a,o){this.parseMethod(i,s,n,a,o,"ClassMethod",!0),i.typeParameters&&(i.value.typeParameters=i.typeParameters,delete i.typeParameters),t.body.push(i)}parsePrivateName(){const t=super.parsePrivateName();return this.getPluginOption("estree","classFeatures")?this.convertPrivateNameToPrivateIdentifier(t):t}convertPrivateNameToPrivateIdentifier(t){const i=super.getPrivateNameSV(t);return t=t,delete t.id,t.name=i,t.type="PrivateIdentifier",t}isPrivateName(t){return this.getPluginOption("estree","classFeatures")?t.type==="PrivateIdentifier":super.isPrivateName(t)}getPrivateNameSV(t){return this.getPluginOption("estree","classFeatures")?t.name:super.getPrivateNameSV(t)}parseLiteral(t,i){const s=super.parseLiteral(t,i);return s.raw=s.extra.raw,delete s.extra,s}parseFunctionBody(t,i,s=!1){super.parseFunctionBody(t,i,s),t.expression=t.body.type!=="BlockStatement"}parseMethod(t,i,s,n,a,o,l=!1){let h=this.startNode();return h.kind=t.kind,h=super.parseMethod(h,i,s,n,a,o,l),h.type="FunctionExpression",delete h.kind,t.value=h,o==="ClassPrivateMethod"&&(t.computed=!1),this.finishNode(t,"MethodDefinition")}nameIsConstructor(t){return t.type==="Literal"?t.value==="constructor":super.nameIsConstructor(t)}parseClassProperty(...t){const i=super.parseClassProperty(...t);return this.getPluginOption("estree","classFeatures")&&(i.type="PropertyDefinition"),i}parseClassPrivateProperty(...t){const i=super.parseClassPrivateProperty(...t);return this.getPluginOption("estree","classFeatures")&&(i.type="PropertyDefinition",i.computed=!1),i}parseObjectMethod(t,i,s,n,a){const o=super.parseObjectMethod(t,i,s,n,a);return o&&(o.type="Property",o.kind==="method"&&(o.kind="init"),o.shorthand=!1),o}parseObjectProperty(t,i,s,n){const a=super.parseObjectProperty(t,i,s,n);return a&&(a.kind="init",a.type="Property"),a}isValidLVal(t,i,s){return t==="Property"?"value":super.isValidLVal(t,i,s)}isAssignable(t,i){return t!=null&&this.isObjectProperty(t)?this.isAssignable(t.value,i):super.isAssignable(t,i)}toAssignable(t,i=!1){if(t!=null&&this.isObjectProperty(t)){const{key:s,value:n}=t;this.isPrivateName(s)&&this.classScope.usePrivateName(this.getPrivateNameSV(s),s.loc.start),this.toAssignable(n,i)}else super.toAssignable(t,i)}toAssignableObjectExpressionProp(t,i,s){t.type==="Property"&&(t.kind==="get"||t.kind==="set")?this.raise(C.PatternHasAccessor,t.key):t.type==="Property"&&t.method?this.raise(C.PatternHasMethod,t.key):super.toAssignableObjectExpressionProp(t,i,s)}finishCallExpression(t,i){const s=super.finishCallExpression(t,i);if(s.callee.type==="Import"){var n,a;s.type="ImportExpression",s.source=s.arguments[0],s.options=(n=s.arguments[1])!=null?n:null,s.attributes=(a=s.arguments[1])!=null?a:null,delete s.arguments,delete s.callee}return s}toReferencedArguments(t){t.type!=="ImportExpression"&&super.toReferencedArguments(t)}parseExport(t,i){const s=this.state.lastTokStartLoc,n=super.parseExport(t,i);switch(n.type){case"ExportAllDeclaration":n.exported=null;break;case"ExportNamedDeclaration":n.specifiers.length===1&&n.specifiers[0].type==="ExportNamespaceSpecifier"&&(n.type="ExportAllDeclaration",n.exported=n.specifiers[0].exported,delete n.specifiers);case"ExportDefaultDeclaration":{var a;const{declaration:o}=n;(o==null?void 0:o.type)==="ClassDeclaration"&&((a=o.decorators)==null?void 0:a.length)>0&&o.start===n.start&&this.resetStartLocation(n,s)}break}return n}parseSubscript(t,i,s,n){const a=super.parseSubscript(t,i,s,n);if(n.optionalChainMember){if((a.type==="OptionalMemberExpression"||a.type==="OptionalCallExpression")&&(a.type=a.type.substring(8)),n.stop){const o=this.startNodeAtNode(a);return o.expression=a,this.finishNode(o,"ChainExpression")}}else(a.type==="MemberExpression"||a.type==="CallExpression")&&(a.optional=!1);return a}isOptionalMemberExpression(t){return t.type==="ChainExpression"?t.expression.type==="MemberExpression":super.isOptionalMemberExpression(t)}hasPropertyAsPrivateName(t){return t.type==="ChainExpression"&&(t=t.expression),super.hasPropertyAsPrivateName(t)}isObjectProperty(t){return t.type==="Property"&&t.kind==="init"&&!t.method}isObjectMethod(t){return t.type==="Property"&&(t.method||t.kind==="get"||t.kind==="set")}finishNodeAt(t,i,s){return tn(super.finishNodeAt(t,i,s))}resetStartLocation(t,i){super.resetStartLocation(t,i),tn(t)}resetEndLocation(t,i=this.state.lastTokEndLoc){super.resetEndLocation(t,i),tn(t)}};class dn{constructor(e,t){this.token=void 0,this.preserveSpace=void 0,this.token=e,this.preserveSpace=!!t}}const ht={brace:new dn("{"),j_oTag:new dn("<tag"),j_cTag:new dn("</tag"),j_expr:new dn("<tag>...</tag>",!0)};ht.template=new dn("`",!0);const ze=!0,re=!0,wl=!0,sn=!0,Ts=!0,Ux=!0;class Cg{constructor(e,t={}){this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.rightAssociative=!!t.rightAssociative,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop!=null?t.binop:null,this.updateContext=null}}const hc=new Map;function Ye(r,e={}){e.keyword=r;const t=we(r,e);return hc.set(r,t),t}function ci(r,e){return we(r,{beforeExpr:ze,binop:e})}let Pn=-1;const us=[],cc=[],uc=[],fc=[],pc=[],dc=[];function we(r,e={}){var t,i,s,n;return++Pn,cc.push(r),uc.push((t=e.binop)!=null?t:-1),fc.push((i=e.beforeExpr)!=null?i:!1),pc.push((s=e.startsExpr)!=null?s:!1),dc.push((n=e.prefix)!=null?n:!1),us.push(new Cg(r,e)),Pn}function qe(r,e={}){var t,i,s,n;return++Pn,hc.set(r,Pn),cc.push(r),uc.push((t=e.binop)!=null?t:-1),fc.push((i=e.beforeExpr)!=null?i:!1),pc.push((s=e.startsExpr)!=null?s:!1),dc.push((n=e.prefix)!=null?n:!1),us.push(new Cg("name",e)),Pn}const Vx={bracketL:we("[",{beforeExpr:ze,startsExpr:re}),bracketHashL:we("#[",{beforeExpr:ze,startsExpr:re}),bracketBarL:we("[|",{beforeExpr:ze,startsExpr:re}),bracketR:we("]"),bracketBarR:we("|]"),braceL:we("{",{beforeExpr:ze,startsExpr:re}),braceBarL:we("{|",{beforeExpr:ze,startsExpr:re}),braceHashL:we("#{",{beforeExpr:ze,startsExpr:re}),braceR:we("}"),braceBarR:we("|}"),parenL:we("(",{beforeExpr:ze,startsExpr:re}),parenR:we(")"),comma:we(",",{beforeExpr:ze}),semi:we(";",{beforeExpr:ze}),colon:we(":",{beforeExpr:ze}),doubleColon:we("::",{beforeExpr:ze}),dot:we("."),question:we("?",{beforeExpr:ze}),questionDot:we("?."),arrow:we("=>",{beforeExpr:ze}),template:we("template"),ellipsis:we("...",{beforeExpr:ze}),backQuote:we("`",{startsExpr:re}),dollarBraceL:we("${",{beforeExpr:ze,startsExpr:re}),templateTail:we("...`",{startsExpr:re}),templateNonTail:we("...${",{beforeExpr:ze,startsExpr:re}),at:we("@"),hash:we("#",{startsExpr:re}),interpreterDirective:we("#!..."),eq:we("=",{beforeExpr:ze,isAssign:sn}),assign:we("_=",{beforeExpr:ze,isAssign:sn}),slashAssign:we("_=",{beforeExpr:ze,isAssign:sn}),xorAssign:we("_=",{beforeExpr:ze,isAssign:sn}),moduloAssign:we("_=",{beforeExpr:ze,isAssign:sn}),incDec:we("++/--",{prefix:Ts,postfix:Ux,startsExpr:re}),bang:we("!",{beforeExpr:ze,prefix:Ts,startsExpr:re}),tilde:we("~",{beforeExpr:ze,prefix:Ts,startsExpr:re}),doubleCaret:we("^^",{startsExpr:re}),doubleAt:we("@@",{startsExpr:re}),pipeline:ci("|>",0),nullishCoalescing:ci("??",1),logicalOR:ci("||",1),logicalAND:ci("&&",2),bitwiseOR:ci("|",3),bitwiseXOR:ci("^",4),bitwiseAND:ci("&",5),equality:ci("==/!=/===/!==",6),lt:ci("</>/<=/>=",7),gt:ci("</>/<=/>=",7),relational:ci("</>/<=/>=",7),bitShift:ci("<</>>/>>>",8),bitShiftL:ci("<</>>/>>>",8),bitShiftR:ci("<</>>/>>>",8),plusMin:we("+/-",{beforeExpr:ze,binop:9,prefix:Ts,startsExpr:re}),modulo:we("%",{binop:10,startsExpr:re}),star:we("*",{binop:10}),slash:ci("/",10),exponent:we("**",{beforeExpr:ze,binop:11,rightAssociative:!0}),_in:Ye("in",{beforeExpr:ze,binop:7}),_instanceof:Ye("instanceof",{beforeExpr:ze,binop:7}),_break:Ye("break"),_case:Ye("case",{beforeExpr:ze}),_catch:Ye("catch"),_continue:Ye("continue"),_debugger:Ye("debugger"),_default:Ye("default",{beforeExpr:ze}),_else:Ye("else",{beforeExpr:ze}),_finally:Ye("finally"),_function:Ye("function",{startsExpr:re}),_if:Ye("if"),_return:Ye("return",{beforeExpr:ze}),_switch:Ye("switch"),_throw:Ye("throw",{beforeExpr:ze,prefix:Ts,startsExpr:re}),_try:Ye("try"),_var:Ye("var"),_const:Ye("const"),_with:Ye("with"),_new:Ye("new",{beforeExpr:ze,startsExpr:re}),_this:Ye("this",{startsExpr:re}),_super:Ye("super",{startsExpr:re}),_class:Ye("class",{startsExpr:re}),_extends:Ye("extends",{beforeExpr:ze}),_export:Ye("export"),_import:Ye("import",{startsExpr:re}),_null:Ye("null",{startsExpr:re}),_true:Ye("true",{startsExpr:re}),_false:Ye("false",{startsExpr:re}),_typeof:Ye("typeof",{beforeExpr:ze,prefix:Ts,startsExpr:re}),_void:Ye("void",{beforeExpr:ze,prefix:Ts,startsExpr:re}),_delete:Ye("delete",{beforeExpr:ze,prefix:Ts,startsExpr:re}),_do:Ye("do",{isLoop:wl,beforeExpr:ze}),_for:Ye("for",{isLoop:wl}),_while:Ye("while",{isLoop:wl}),_as:qe("as",{startsExpr:re}),_assert:qe("assert",{startsExpr:re}),_async:qe("async",{startsExpr:re}),_await:qe("await",{startsExpr:re}),_defer:qe("defer",{startsExpr:re}),_from:qe("from",{startsExpr:re}),_get:qe("get",{startsExpr:re}),_let:qe("let",{startsExpr:re}),_meta:qe("meta",{startsExpr:re}),_of:qe("of",{startsExpr:re}),_sent:qe("sent",{startsExpr:re}),_set:qe("set",{startsExpr:re}),_source:qe("source",{startsExpr:re}),_static:qe("static",{startsExpr:re}),_using:qe("using",{startsExpr:re}),_yield:qe("yield",{startsExpr:re}),_asserts:qe("asserts",{startsExpr:re}),_checks:qe("checks",{startsExpr:re}),_exports:qe("exports",{startsExpr:re}),_global:qe("global",{startsExpr:re}),_implements:qe("implements",{startsExpr:re}),_intrinsic:qe("intrinsic",{startsExpr:re}),_infer:qe("infer",{startsExpr:re}),_is:qe("is",{startsExpr:re}),_mixins:qe("mixins",{startsExpr:re}),_proto:qe("proto",{startsExpr:re}),_require:qe("require",{startsExpr:re}),_satisfies:qe("satisfies",{startsExpr:re}),_keyof:qe("keyof",{startsExpr:re}),_readonly:qe("readonly",{startsExpr:re}),_unique:qe("unique",{startsExpr:re}),_abstract:qe("abstract",{startsExpr:re}),_declare:qe("declare",{startsExpr:re}),_enum:qe("enum",{startsExpr:re}),_module:qe("module",{startsExpr:re}),_namespace:qe("namespace",{startsExpr:re}),_interface:qe("interface",{startsExpr:re}),_type:qe("type",{startsExpr:re}),_opaque:qe("opaque",{startsExpr:re}),name:we("name",{startsExpr:re}),placeholder:we("%%",{startsExpr:!0}),string:we("string",{startsExpr:re}),num:we("num",{startsExpr:re}),bigint:we("bigint",{startsExpr:re}),decimal:we("decimal",{startsExpr:re}),regexp:we("regexp",{startsExpr:re}),privateName:we("#name",{startsExpr:re}),eof:we("eof"),jsxName:we("jsxName"),jsxText:we("jsxText",{beforeExpr:!0}),jsxTagStart:we("jsxTagStart",{startsExpr:!0}),jsxTagEnd:we("jsxTagEnd")};function Ke(r){return r>=93&&r<=133}function Fx(r){return r<=92}function Xi(r){return r>=58&&r<=133}function _g(r){return r>=58&&r<=137}function Wx(r){return fc[r]}function kh(r){return pc[r]}function Hx(r){return r>=29&&r<=33}function Wp(r){return r>=129&&r<=131}function Yx(r){return r>=90&&r<=92}function mc(r){return r>=58&&r<=92}function Gx(r){return r>=39&&r<=59}function Kx(r){return r===34}function Jx(r){return dc[r]}function ek(r){return r>=121&&r<=123}function tk(r){return r>=124&&r<=130}function Rs(r){return cc[r]}function Ba(r){return uc[r]}function ik(r){return r===57}function vo(r){return r>=24&&r<=25}function hs(r){return us[r]}us[8].updateContext=r=>{r.pop()},us[5].updateContext=us[7].updateContext=us[23].updateContext=r=>{r.push(ht.brace)},us[22].updateContext=r=>{r[r.length-1]===ht.template?r.pop():r.push(ht.template)},us[143].updateContext=r=>{r.push(ht.j_expr,ht.j_oTag)};let gc="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Qg="\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65";const sk=new RegExp("["+gc+"]"),rk=new RegExp("["+gc+Qg+"]");gc=Qg=null;const Eg=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],nk=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239];function Ph(r,e){let t=65536;for(let i=0,s=e.length;i<s;i+=2){if(t+=e[i],t>r)return!1;if(t+=e[i+1],t>=r)return!0}return!1}function ds(r){return r<65?r===36:r<=90?!0:r<97?r===95:r<=122?!0:r<=65535?r>=170&&sk.test(String.fromCharCode(r)):Ph(r,Eg)}function Er(r){return r<48?r===36:r<58?!0:r<65?!1:r<=90?!0:r<97?r===95:r<=122?!0:r<=65535?r>=170&&rk.test(String.fromCharCode(r)):Ph(r,Eg)||Ph(r,nk)}const Oc={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},ak=new Set(Oc.keyword),ok=new Set(Oc.strict),lk=new Set(Oc.strictBind);function Ig(r,e){return e&&r==="await"||r==="enum"}function Mg(r,e){return Ig(r,e)||ok.has(r)}function $g(r){return lk.has(r)}function Ng(r,e){return Mg(r,e)||$g(r)}function hk(r){return ak.has(r)}function ck(r,e,t){return r===64&&e===64&&ds(t)}const uk=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete","implements","interface","let","package","private","protected","public","static","yield","eval","arguments","enum","await"]);function fk(r){return uk.has(r)}class bc{constructor(e){this.flags=0,this.names=new Map,this.firstLexicalName="",this.flags=e}}class yc{constructor(e,t){this.parser=void 0,this.scopeStack=[],this.inModule=void 0,this.undefinedExports=new Map,this.parser=e,this.inModule=t}get inTopLevel(){return(this.currentScope().flags&1)>0}get inFunction(){return(this.currentVarScopeFlags()&2)>0}get allowSuper(){return(this.currentThisScopeFlags()&16)>0}get allowDirectSuper(){return(this.currentThisScopeFlags()&32)>0}get inClass(){return(this.currentThisScopeFlags()&64)>0}get inClassAndNotInNonArrowFunction(){const e=this.currentThisScopeFlags();return(e&64)>0&&(e&2)===0}get inStaticBlock(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(t&128)return!0;if(t&451)return!1}}get inNonArrowFunction(){return(this.currentThisScopeFlags()&2)>0}get treatFunctionsAsVar(){return this.treatFunctionsAsVarInScope(this.currentScope())}createScope(e){return new bc(e)}enter(e){this.scopeStack.push(this.createScope(e))}exit(){return this.scopeStack.pop().flags}treatFunctionsAsVarInScope(e){return!!(e.flags&130||!this.parser.inModule&&e.flags&1)}declareName(e,t,i){let s=this.currentScope();if(t&8||t&16){this.checkRedeclarationInScope(s,e,t,i);let n=s.names.get(e)||0;t&16?n=n|4:(s.firstLexicalName||(s.firstLexicalName=e),n=n|2),s.names.set(e,n),t&8&&this.maybeExportDefined(s,e)}else if(t&4)for(let n=this.scopeStack.length-1;n>=0&&(s=this.scopeStack[n],this.checkRedeclarationInScope(s,e,t,i),s.names.set(e,(s.names.get(e)||0)|1),this.maybeExportDefined(s,e),!(s.flags&387));--n);this.parser.inModule&&s.flags&1&&this.undefinedExports.delete(e)}maybeExportDefined(e,t){this.parser.inModule&&e.flags&1&&this.undefinedExports.delete(t)}checkRedeclarationInScope(e,t,i,s){this.isRedeclaredInScope(e,t,i)&&this.parser.raise(C.VarRedeclaration,s,{identifierName:t})}isRedeclaredInScope(e,t,i){if(!(i&1))return!1;if(i&8)return e.names.has(t);const s=e.names.get(t);return i&16?(s&2)>0||!this.treatFunctionsAsVarInScope(e)&&(s&1)>0:(s&2)>0&&!(e.flags&8&&e.firstLexicalName===t)||!this.treatFunctionsAsVarInScope(e)&&(s&4)>0}checkLocalExport(e){const{name:t}=e;this.scopeStack[0].names.has(t)||this.undefinedExports.set(t,e.loc.start)}currentScope(){return this.scopeStack[this.scopeStack.length-1]}currentVarScopeFlags(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(t&387)return t}}currentThisScopeFlags(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(t&451&&!(t&4))return t}}}class pk extends bc{constructor(...e){super(...e),this.declareFunctions=new Set}}class dk extends yc{createScope(e){return new pk(e)}declareName(e,t,i){const s=this.currentScope();if(t&2048){this.checkRedeclarationInScope(s,e,t,i),this.maybeExportDefined(s,e),s.declareFunctions.add(e);return}super.declareName(e,t,i)}isRedeclaredInScope(e,t,i){if(super.isRedeclaredInScope(e,t,i))return!0;if(i&2048&&!e.declareFunctions.has(t)){const s=e.names.get(t);return(s&4)>0||(s&2)>0}return!1}checkLocalExport(e){this.scopeStack[0].declareFunctions.has(e.name)||super.checkLocalExport(e)}}class mk{constructor(){this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1}sourceToOffsetPos(e){return e+this.startIndex}offsetToSourcePos(e){return e-this.startIndex}hasPlugin(e){if(typeof e=="string")return this.plugins.has(e);{const[t,i]=e;if(!this.hasPlugin(t))return!1;const s=this.plugins.get(t);for(const n of Object.keys(i))if((s==null?void 0:s[n])!==i[n])return!1;return!0}}getPluginOption(e,t){var i;return(i=this.plugins.get(e))==null?void 0:i[t]}}function Lg(r,e){r.trailingComments===void 0?r.trailingComments=e:r.trailingComments.unshift(...e)}function gk(r,e){r.leadingComments===void 0?r.leadingComments=e:r.leadingComments.unshift(...e)}function Rn(r,e){r.innerComments===void 0?r.innerComments=e:r.innerComments.unshift(...e)}function rn(r,e,t){let i=null,s=e.length;for(;i===null&&s>0;)i=e[--s];i===null||i.start>t.start?Rn(r,t.comments):Lg(i,t.comments)}class Ok extends mk{addComment(e){this.filename&&(e.loc.filename=this.filename);const{commentsLen:t}=this.state;this.comments.length!==t&&(this.comments.length=t),this.comments.push(e),this.state.commentsLen++}processComment(e){const{commentStack:t}=this.state,i=t.length;if(i===0)return;let s=i-1;const n=t[s];n.start===e.end&&(n.leadingNode=e,s--);const{start:a}=e;for(;s>=0;s--){const o=t[s],l=o.end;if(l>a)o.containingNode=e,this.finalizeComment(o),t.splice(s,1);else{l===a&&(o.trailingNode=e);break}}}finalizeComment(e){const{comments:t}=e;if(e.leadingNode!==null||e.trailingNode!==null)e.leadingNode!==null&&Lg(e.leadingNode,t),e.trailingNode!==null&&gk(e.trailingNode,t);else{const{containingNode:i,start:s}=e;if(this.input.charCodeAt(this.offsetToSourcePos(s)-1)===44)switch(i.type){case"ObjectExpression":case"ObjectPattern":case"RecordExpression":rn(i,i.properties,e);break;case"CallExpression":case"OptionalCallExpression":rn(i,i.arguments,e);break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":rn(i,i.params,e);break;case"ArrayExpression":case"ArrayPattern":case"TupleExpression":rn(i,i.elements,e);break;case"ExportNamedDeclaration":case"ImportDeclaration":rn(i,i.specifiers,e);break;default:Rn(i,t)}else Rn(i,t)}}finalizeRemainingComments(){const{commentStack:e}=this.state;for(let t=e.length-1;t>=0;t--)this.finalizeComment(e[t]);this.state.commentStack=[]}resetPreviousNodeTrailingComments(e){const{commentStack:t}=this.state,{length:i}=t;if(i===0)return;const s=t[i-1];s.leadingNode===e&&(s.leadingNode=null)}resetPreviousIdentifierLeadingComments(e){const{commentStack:t}=this.state,{length:i}=t;i!==0&&(t[i-1].trailingNode===e?t[i-1].trailingNode=null:i>=2&&t[i-2].trailingNode===e&&(t[i-2].trailingNode=null))}takeSurroundingComments(e,t,i){const{commentStack:s}=this.state,n=s.length;if(n===0)return;let a=n-1;for(;a>=0;a--){const o=s[a],l=o.end;if(o.start===i)o.leadingNode=e;else if(l===t)o.trailingNode=e;else if(l<t)break}}}const bk=/\r\n|[\r\n\u2028\u2029]/,ka=new RegExp(bk.source,"g");function Ir(r){switch(r){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function Hp(r,e,t){for(let i=e;i<t;i++)if(Ir(r.charCodeAt(i)))return!0;return!1}const vl=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,xl=/(?:[^\S\n\r\u2028\u2029]|\/\/.*|\/\*.*?\*\/)*/g;function yk(r){switch(r){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}class wc{constructor(){this.flags=1024,this.startIndex=void 0,this.curLine=void 0,this.lineStart=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.labels=[],this.commentsLen=0,this.commentStack=[],this.pos=0,this.type=140,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.context=[ht.brace],this.firstInvalidTemplateEscapePos=null,this.strictErrors=new Map,this.tokensLength=0}get strict(){return(this.flags&1)>0}set strict(e){e?this.flags|=1:this.flags&=-2}init({strictMode:e,sourceType:t,startIndex:i,startLine:s,startColumn:n}){this.strict=e===!1?!1:e===!0?!0:t==="module",this.startIndex=i,this.curLine=s,this.lineStart=-n,this.startLoc=this.endLoc=new Ds(s,n,i)}get maybeInArrowParameters(){return(this.flags&2)>0}set maybeInArrowParameters(e){e?this.flags|=2:this.flags&=-3}get inType(){return(this.flags&4)>0}set inType(e){e?this.flags|=4:this.flags&=-5}get noAnonFunctionType(){return(this.flags&8)>0}set noAnonFunctionType(e){e?this.flags|=8:this.flags&=-9}get hasFlowComment(){return(this.flags&16)>0}set hasFlowComment(e){e?this.flags|=16:this.flags&=-17}get isAmbientContext(){return(this.flags&32)>0}set isAmbientContext(e){e?this.flags|=32:this.flags&=-33}get inAbstractClass(){return(this.flags&64)>0}set inAbstractClass(e){e?this.flags|=64:this.flags&=-65}get inDisallowConditionalTypesContext(){return(this.flags&128)>0}set inDisallowConditionalTypesContext(e){e?this.flags|=128:this.flags&=-129}get soloAwait(){return(this.flags&256)>0}set soloAwait(e){e?this.flags|=256:this.flags&=-257}get inFSharpPipelineDirectBody(){return(this.flags&512)>0}set inFSharpPipelineDirectBody(e){e?this.flags|=512:this.flags&=-513}get canStartJSXElement(){return(this.flags&1024)>0}set canStartJSXElement(e){e?this.flags|=1024:this.flags&=-1025}get containsEsc(){return(this.flags&2048)>0}set containsEsc(e){e?this.flags|=2048:this.flags&=-2049}get hasTopLevelAwait(){return(this.flags&4096)>0}set hasTopLevelAwait(e){e?this.flags|=4096:this.flags&=-4097}curPosition(){return new Ds(this.curLine,this.pos-this.lineStart,this.pos+this.startIndex)}clone(){const e=new wc;return e.flags=this.flags,e.startIndex=this.startIndex,e.curLine=this.curLine,e.lineStart=this.lineStart,e.startLoc=this.startLoc,e.endLoc=this.endLoc,e.errors=this.errors.slice(),e.potentialArrowAt=this.potentialArrowAt,e.noArrowAt=this.noArrowAt.slice(),e.noArrowParamsConversionAt=this.noArrowParamsConversionAt.slice(),e.topicContext=this.topicContext,e.labels=this.labels.slice(),e.commentsLen=this.commentsLen,e.commentStack=this.commentStack.slice(),e.pos=this.pos,e.type=this.type,e.value=this.value,e.start=this.start,e.end=this.end,e.lastTokEndLoc=this.lastTokEndLoc,e.lastTokStartLoc=this.lastTokStartLoc,e.context=this.context.slice(),e.firstInvalidTemplateEscapePos=this.firstInvalidTemplateEscapePos,e.strictErrors=this.strictErrors,e.tokensLength=this.tokensLength,e}}var wk=function(e){return e>=48&&e<=57};const Yp={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},Pa={bin:r=>r===48||r===49,oct:r=>r>=48&&r<=55,dec:r=>r>=48&&r<=57,hex:r=>r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102};function Gp(r,e,t,i,s,n){const a=t,o=i,l=s;let h="",c=null,u=t;const{length:p}=e;for(;;){if(t>=p){n.unterminated(a,o,l),h+=e.slice(u,t);break}const m=e.charCodeAt(t);if(vk(r,m,e,t)){h+=e.slice(u,t);break}if(m===92){h+=e.slice(u,t);const g=xk(e,t,i,s,r==="template",n);g.ch===null&&!c?c={pos:t,lineStart:i,curLine:s}:h+=g.ch,{pos:t,lineStart:i,curLine:s}=g,u=t}else m===8232||m===8233?(++t,++s,i=t):m===10||m===13?r==="template"?(h+=e.slice(u,t)+`
`,++t,m===13&&e.charCodeAt(t)===10&&++t,++s,u=i=t):n.unterminated(a,o,l):++t}return{pos:t,str:h,firstInvalidLoc:c,lineStart:i,curLine:s,containsInvalid:!!c}}function vk(r,e,t,i){return r==="template"?e===96||e===36&&t.charCodeAt(i+1)===123:e===(r==="double"?34:39)}function xk(r,e,t,i,s,n){const a=!s;e++;const o=h=>({pos:e,ch:h,lineStart:t,curLine:i}),l=r.charCodeAt(e++);switch(l){case 110:return o(`
`);case 114:return o("\r");case 120:{let h;return{code:h,pos:e}=Sh(r,e,t,i,2,!1,a,n),o(h===null?null:String.fromCharCode(h))}case 117:{let h;return{code:h,pos:e}=Rg(r,e,t,i,a,n),o(h===null?null:String.fromCodePoint(h))}case 116:return o("	");case 98:return o("\b");case 118:return o("\v");case 102:return o("\f");case 13:r.charCodeAt(e)===10&&++e;case 10:t=e,++i;case 8232:case 8233:return o("");case 56:case 57:if(s)return o(null);n.strictNumericEscape(e-1,t,i);default:if(l>=48&&l<=55){const h=e-1;let u=/^[0-7]+/.exec(r.slice(h,e+2))[0],p=parseInt(u,8);p>255&&(u=u.slice(0,-1),p=parseInt(u,8)),e+=u.length-1;const m=r.charCodeAt(e);if(u!=="0"||m===56||m===57){if(s)return o(null);n.strictNumericEscape(h,t,i)}return o(String.fromCharCode(p))}return o(String.fromCharCode(l))}}function Sh(r,e,t,i,s,n,a,o){const l=e;let h;return{n:h,pos:e}=Dg(r,e,t,i,16,s,n,!1,o,!a),h===null&&(a?o.invalidEscapeSequence(l,t,i):e=l-1),{code:h,pos:e}}function Dg(r,e,t,i,s,n,a,o,l,h){const c=e,u=s===16?Yp.hex:Yp.decBinOct,p=s===16?Pa.hex:s===10?Pa.dec:s===8?Pa.oct:Pa.bin;let m=!1,g=0;for(let b=0,w=n==null?1/0:n;b<w;++b){const y=r.charCodeAt(e);let v;if(y===95&&o!=="bail"){const T=r.charCodeAt(e-1),x=r.charCodeAt(e+1);if(o){if(Number.isNaN(x)||!p(x)||u.has(T)||u.has(x)){if(h)return{n:null,pos:e};l.unexpectedNumericSeparator(e,t,i)}}else{if(h)return{n:null,pos:e};l.numericSeparatorInEscapeSequence(e,t,i)}++e;continue}if(y>=97?v=y-97+10:y>=65?v=y-65+10:wk(y)?v=y-48:v=1/0,v>=s){if(v<=9&&h)return{n:null,pos:e};if(v<=9&&l.invalidDigit(e,t,i,s))v=0;else if(a)v=0,m=!0;else break}++e,g=g*s+v}return e===c||n!=null&&e-c!==n||m?{n:null,pos:e}:{n:g,pos:e}}function Rg(r,e,t,i,s,n){const a=r.charCodeAt(e);let o;if(a===123){if(++e,{code:o,pos:e}=Sh(r,e,t,i,r.indexOf("}",e)-e,!0,s,n),++e,o!==null&&o>1114111)if(s)n.invalidCodePoint(e,t,i);else return{code:null,pos:e}}else({code:o,pos:e}=Sh(r,e,t,i,4,!1,s,n));return{code:o,pos:e}}function nn(r,e,t){return new Ds(t,r-e,r)}const kk=new Set([103,109,115,105,121,117,100,118]);class _s{constructor(e){const t=e.startIndex||0;this.type=e.type,this.value=e.value,this.start=t+e.start,this.end=t+e.end,this.loc=new wo(e.startLoc,e.endLoc)}}class Pk extends Ok{constructor(e,t){super(),this.isLookahead=void 0,this.tokens=[],this.errorHandlers_readInt={invalidDigit:(i,s,n,a)=>this.options.errorRecovery?(this.raise(C.InvalidDigit,nn(i,s,n),{radix:a}),!0):!1,numericSeparatorInEscapeSequence:this.errorBuilder(C.NumericSeparatorInEscapeSequence),unexpectedNumericSeparator:this.errorBuilder(C.UnexpectedNumericSeparator)},this.errorHandlers_readCodePoint=Object.assign({},this.errorHandlers_readInt,{invalidEscapeSequence:this.errorBuilder(C.InvalidEscapeSequence),invalidCodePoint:this.errorBuilder(C.InvalidCodePoint)}),this.errorHandlers_readStringContents_string=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:(i,s,n)=>{this.recordStrictModeErrors(C.StrictNumericEscape,nn(i,s,n))},unterminated:(i,s,n)=>{throw this.raise(C.UnterminatedString,nn(i-1,s,n))}}),this.errorHandlers_readStringContents_template=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:this.errorBuilder(C.StrictNumericEscape),unterminated:(i,s,n)=>{throw this.raise(C.UnterminatedTemplate,nn(i,s,n))}}),this.state=new wc,this.state.init(e),this.input=t,this.length=t.length,this.comments=[],this.isLookahead=!1}pushToken(e){this.tokens.length=this.state.tokensLength,this.tokens.push(e),++this.state.tokensLength}next(){this.checkKeywordEscapes(),this.options.tokens&&this.pushToken(new _s(this.state)),this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()}eat(e){return this.match(e)?(this.next(),!0):!1}match(e){return this.state.type===e}createLookaheadState(e){return{pos:e.pos,value:null,type:e.type,start:e.start,end:e.end,context:[this.curContext()],inType:e.inType,startLoc:e.startLoc,lastTokEndLoc:e.lastTokEndLoc,curLine:e.curLine,lineStart:e.lineStart,curPosition:e.curPosition}}lookahead(){const e=this.state;this.state=this.createLookaheadState(e),this.isLookahead=!0,this.nextToken(),this.isLookahead=!1;const t=this.state;return this.state=e,t}nextTokenStart(){return this.nextTokenStartSince(this.state.pos)}nextTokenStartSince(e){return vl.lastIndex=e,vl.test(this.input)?vl.lastIndex:e}lookaheadCharCode(){return this.input.charCodeAt(this.nextTokenStart())}nextTokenInLineStart(){return this.nextTokenInLineStartSince(this.state.pos)}nextTokenInLineStartSince(e){return xl.lastIndex=e,xl.test(this.input)?xl.lastIndex:e}lookaheadInLineCharCode(){return this.input.charCodeAt(this.nextTokenInLineStart())}codePointAtPos(e){let t=this.input.charCodeAt(e);if((t&64512)===55296&&++e<this.input.length){const i=this.input.charCodeAt(e);(i&64512)===56320&&(t=65536+((t&1023)<<10)+(i&1023))}return t}setStrict(e){this.state.strict=e,e&&(this.state.strictErrors.forEach(([t,i])=>this.raise(t,i)),this.state.strictErrors.clear())}curContext(){return this.state.context[this.state.context.length-1]}nextToken(){if(this.skipSpace(),this.state.start=this.state.pos,this.isLookahead||(this.state.startLoc=this.state.curPosition()),this.state.pos>=this.length){this.finishToken(140);return}this.getTokenFromCode(this.codePointAtPos(this.state.pos))}skipBlockComment(e){let t;this.isLookahead||(t=this.state.curPosition());const i=this.state.pos,s=this.input.indexOf(e,i+2);if(s===-1)throw this.raise(C.UnterminatedComment,this.state.curPosition());for(this.state.pos=s+e.length,ka.lastIndex=i+2;ka.test(this.input)&&ka.lastIndex<=s;)++this.state.curLine,this.state.lineStart=ka.lastIndex;if(this.isLookahead)return;const n={type:"CommentBlock",value:this.input.slice(i+2,s),start:this.sourceToOffsetPos(i),end:this.sourceToOffsetPos(s+e.length),loc:new wo(t,this.state.curPosition())};return this.options.tokens&&this.pushToken(n),n}skipLineComment(e){const t=this.state.pos;let i;this.isLookahead||(i=this.state.curPosition());let s=this.input.charCodeAt(this.state.pos+=e);if(this.state.pos<this.length)for(;!Ir(s)&&++this.state.pos<this.length;)s=this.input.charCodeAt(this.state.pos);if(this.isLookahead)return;const n=this.state.pos,a=this.input.slice(t+e,n),o={type:"CommentLine",value:a,start:this.sourceToOffsetPos(t),end:this.sourceToOffsetPos(n),loc:new wo(i,this.state.curPosition())};return this.options.tokens&&this.pushToken(o),o}skipSpace(){const e=this.state.pos,t=[];e:for(;this.state.pos<this.length;){const i=this.input.charCodeAt(this.state.pos);switch(i){case 32:case 160:case 9:++this.state.pos;break;case 13:this.input.charCodeAt(this.state.pos+1)===10&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:{const s=this.skipBlockComment("*/");s!==void 0&&(this.addComment(s),this.options.attachComment&&t.push(s));break}case 47:{const s=this.skipLineComment(2);s!==void 0&&(this.addComment(s),this.options.attachComment&&t.push(s));break}default:break e}break;default:if(yk(i))++this.state.pos;else if(i===45&&!this.inModule&&this.options.annexB){const s=this.state.pos;if(this.input.charCodeAt(s+1)===45&&this.input.charCodeAt(s+2)===62&&(e===0||this.state.lineStart>e)){const n=this.skipLineComment(3);n!==void 0&&(this.addComment(n),this.options.attachComment&&t.push(n))}else break e}else if(i===60&&!this.inModule&&this.options.annexB){const s=this.state.pos;if(this.input.charCodeAt(s+1)===33&&this.input.charCodeAt(s+2)===45&&this.input.charCodeAt(s+3)===45){const n=this.skipLineComment(4);n!==void 0&&(this.addComment(n),this.options.attachComment&&t.push(n))}else break e}else break e}}if(t.length>0){const i=this.state.pos,s={start:this.sourceToOffsetPos(e),end:this.sourceToOffsetPos(i),comments:t,leadingNode:null,trailingNode:null,containingNode:null};this.state.commentStack.push(s)}}finishToken(e,t){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();const i=this.state.type;this.state.type=e,this.state.value=t,this.isLookahead||this.updateContext(i)}replaceToken(e){this.state.type=e,this.updateContext()}readToken_numberSign(){if(this.state.pos===0&&this.readToken_interpreter())return;const e=this.state.pos+1,t=this.codePointAtPos(e);if(t>=48&&t<=57)throw this.raise(C.UnexpectedDigitAfterHash,this.state.curPosition());if(t===123||t===91&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),this.getPluginOption("recordAndTuple","syntaxType")==="bar")throw this.raise(t===123?C.RecordExpressionHashIncorrectStartSyntaxType:C.TupleExpressionHashIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,t===123?this.finishToken(7):this.finishToken(1)}else ds(t)?(++this.state.pos,this.finishToken(139,this.readWord1(t))):t===92?(++this.state.pos,this.finishToken(139,this.readWord1())):this.finishOp(27,1)}readToken_dot(){const e=this.input.charCodeAt(this.state.pos+1);if(e>=48&&e<=57){this.readNumber(!0);return}e===46&&this.input.charCodeAt(this.state.pos+2)===46?(this.state.pos+=3,this.finishToken(21)):(++this.state.pos,this.finishToken(16))}readToken_slash(){this.input.charCodeAt(this.state.pos+1)===61?this.finishOp(31,2):this.finishOp(56,1)}readToken_interpreter(){if(this.state.pos!==0||this.length<2)return!1;let e=this.input.charCodeAt(this.state.pos+1);if(e!==33)return!1;const t=this.state.pos;for(this.state.pos+=1;!Ir(e)&&++this.state.pos<this.length;)e=this.input.charCodeAt(this.state.pos);const i=this.input.slice(t+2,this.state.pos);return this.finishToken(28,i),!0}readToken_mult_modulo(e){let t=e===42?55:54,i=1,s=this.input.charCodeAt(this.state.pos+1);e===42&&s===42&&(i++,s=this.input.charCodeAt(this.state.pos+2),t=57),s===61&&!this.state.inType&&(i++,t=e===37?33:30),this.finishOp(t,i)}readToken_pipe_amp(e){const t=this.input.charCodeAt(this.state.pos+1);if(t===e){this.input.charCodeAt(this.state.pos+2)===61?this.finishOp(30,3):this.finishOp(e===124?41:42,2);return}if(e===124){if(t===62){this.finishOp(39,2);return}if(this.hasPlugin("recordAndTuple")&&t===125){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(C.RecordExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(9);return}if(this.hasPlugin("recordAndTuple")&&t===93){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(C.TupleExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(4);return}}if(t===61){this.finishOp(30,2);return}this.finishOp(e===124?43:45,1)}readToken_caret(){const e=this.input.charCodeAt(this.state.pos+1);e===61&&!this.state.inType?this.finishOp(32,2):e===94&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"^^"}])?(this.finishOp(37,2),this.input.codePointAt(this.state.pos)===94&&this.unexpected()):this.finishOp(44,1)}readToken_atSign(){this.input.charCodeAt(this.state.pos+1)===64&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"@@"}])?this.finishOp(38,2):this.finishOp(26,1)}readToken_plus_min(e){const t=this.input.charCodeAt(this.state.pos+1);if(t===e){this.finishOp(34,2);return}t===61?this.finishOp(30,2):this.finishOp(53,1)}readToken_lt(){const{pos:e}=this.state,t=this.input.charCodeAt(e+1);if(t===60){if(this.input.charCodeAt(e+2)===61){this.finishOp(30,3);return}this.finishOp(51,2);return}if(t===61){this.finishOp(49,2);return}this.finishOp(47,1)}readToken_gt(){const{pos:e}=this.state,t=this.input.charCodeAt(e+1);if(t===62){const i=this.input.charCodeAt(e+2)===62?3:2;if(this.input.charCodeAt(e+i)===61){this.finishOp(30,i+1);return}this.finishOp(52,i);return}if(t===61){this.finishOp(49,2);return}this.finishOp(48,1)}readToken_eq_excl(e){const t=this.input.charCodeAt(this.state.pos+1);if(t===61){this.finishOp(46,this.input.charCodeAt(this.state.pos+2)===61?3:2);return}if(e===61&&t===62){this.state.pos+=2,this.finishToken(19);return}this.finishOp(e===61?29:35,1)}readToken_question(){const e=this.input.charCodeAt(this.state.pos+1),t=this.input.charCodeAt(this.state.pos+2);e===63?t===61?this.finishOp(30,3):this.finishOp(40,2):e===46&&!(t>=48&&t<=57)?(this.state.pos+=2,this.finishToken(18)):(++this.state.pos,this.finishToken(17))}getTokenFromCode(e){switch(e){case 46:this.readToken_dot();return;case 40:++this.state.pos,this.finishToken(10);return;case 41:++this.state.pos,this.finishToken(11);return;case 59:++this.state.pos,this.finishToken(13);return;case 44:++this.state.pos,this.finishToken(12);return;case 91:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(C.TupleExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(2)}else++this.state.pos,this.finishToken(0);return;case 93:++this.state.pos,this.finishToken(3);return;case 123:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(C.RecordExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(6)}else++this.state.pos,this.finishToken(5);return;case 125:++this.state.pos,this.finishToken(8);return;case 58:this.hasPlugin("functionBind")&&this.input.charCodeAt(this.state.pos+1)===58?this.finishOp(15,2):(++this.state.pos,this.finishToken(14));return;case 63:this.readToken_question();return;case 96:this.readTemplateToken();return;case 48:{const t=this.input.charCodeAt(this.state.pos+1);if(t===120||t===88){this.readRadixNumber(16);return}if(t===111||t===79){this.readRadixNumber(8);return}if(t===98||t===66){this.readRadixNumber(2);return}}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:this.readNumber(!1);return;case 34:case 39:this.readString(e);return;case 47:this.readToken_slash();return;case 37:case 42:this.readToken_mult_modulo(e);return;case 124:case 38:this.readToken_pipe_amp(e);return;case 94:this.readToken_caret();return;case 43:case 45:this.readToken_plus_min(e);return;case 60:this.readToken_lt();return;case 62:this.readToken_gt();return;case 61:case 33:this.readToken_eq_excl(e);return;case 126:this.finishOp(36,1);return;case 64:this.readToken_atSign();return;case 35:this.readToken_numberSign();return;case 92:this.readWord();return;default:if(ds(e)){this.readWord(e);return}}throw this.raise(C.InvalidOrUnexpectedToken,this.state.curPosition(),{unexpected:String.fromCodePoint(e)})}finishOp(e,t){const i=this.input.slice(this.state.pos,this.state.pos+t);this.state.pos+=t,this.finishToken(e,i)}readRegexp(){const e=this.state.startLoc,t=this.state.start+1;let i,s,{pos:n}=this.state;for(;;++n){if(n>=this.length)throw this.raise(C.UnterminatedRegExp,ui(e,1));const h=this.input.charCodeAt(n);if(Ir(h))throw this.raise(C.UnterminatedRegExp,ui(e,1));if(i)i=!1;else{if(h===91)s=!0;else if(h===93&&s)s=!1;else if(h===47&&!s)break;i=h===92}}const a=this.input.slice(t,n);++n;let o="";const l=()=>ui(e,n+2-t);for(;n<this.length;){const h=this.codePointAtPos(n),c=String.fromCharCode(h);if(kk.has(h))h===118?o.includes("u")&&this.raise(C.IncompatibleRegExpUVFlags,l()):h===117&&o.includes("v")&&this.raise(C.IncompatibleRegExpUVFlags,l()),o.includes(c)&&this.raise(C.DuplicateRegExpFlags,l());else if(Er(h)||h===92)this.raise(C.MalformedRegExpFlags,l());else break;++n,o+=c}this.state.pos=n,this.finishToken(138,{pattern:a,flags:o})}readInt(e,t,i=!1,s=!0){const{n,pos:a}=Dg(this.input,this.state.pos,this.state.lineStart,this.state.curLine,e,t,i,s,this.errorHandlers_readInt,!1);return this.state.pos=a,n}readRadixNumber(e){const t=this.state.pos,i=this.state.curPosition();let s=!1;this.state.pos+=2;const n=this.readInt(e);n==null&&this.raise(C.InvalidDigit,ui(i,2),{radix:e});const a=this.input.charCodeAt(this.state.pos);if(a===110)++this.state.pos,s=!0;else if(a===109)throw this.raise(C.InvalidDecimal,i);if(ds(this.codePointAtPos(this.state.pos)))throw this.raise(C.NumberIdentifier,this.state.curPosition());if(s){const o=this.input.slice(t,this.state.pos).replace(/[_n]/g,"");this.finishToken(136,o);return}this.finishToken(135,n)}readNumber(e){const t=this.state.pos,i=this.state.curPosition();let s=!1,n=!1,a=!1,o=!1;!e&&this.readInt(10)===null&&this.raise(C.InvalidNumber,this.state.curPosition());const l=this.state.pos-t>=2&&this.input.charCodeAt(t)===48;if(l){const m=this.input.slice(t,this.state.pos);if(this.recordStrictModeErrors(C.StrictOctalLiteral,i),!this.state.strict){const g=m.indexOf("_");g>0&&this.raise(C.ZeroDigitNumericSeparator,ui(i,g))}o=l&&!/[89]/.test(m)}let h=this.input.charCodeAt(this.state.pos);if(h===46&&!o&&(++this.state.pos,this.readInt(10),s=!0,h=this.input.charCodeAt(this.state.pos)),(h===69||h===101)&&!o&&(h=this.input.charCodeAt(++this.state.pos),(h===43||h===45)&&++this.state.pos,this.readInt(10)===null&&this.raise(C.InvalidOrMissingExponent,i),s=!0,a=!0,h=this.input.charCodeAt(this.state.pos)),h===110&&((s||l)&&this.raise(C.InvalidBigIntLiteral,i),++this.state.pos,n=!0),h===109){this.expectPlugin("decimal",this.state.curPosition()),(a||l)&&this.raise(C.InvalidDecimal,i),++this.state.pos;var c=!0}if(ds(this.codePointAtPos(this.state.pos)))throw this.raise(C.NumberIdentifier,this.state.curPosition());const u=this.input.slice(t,this.state.pos).replace(/[_mn]/g,"");if(n){this.finishToken(136,u);return}if(c){this.finishToken(137,u);return}const p=o?parseInt(u,8):parseFloat(u);this.finishToken(135,p)}readCodePoint(e){const{code:t,pos:i}=Rg(this.input,this.state.pos,this.state.lineStart,this.state.curLine,e,this.errorHandlers_readCodePoint);return this.state.pos=i,t}readString(e){const{str:t,pos:i,curLine:s,lineStart:n}=Gp(e===34?"double":"single",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_string);this.state.pos=i+1,this.state.lineStart=n,this.state.curLine=s,this.finishToken(134,t)}readTemplateContinuation(){this.match(8)||this.unexpected(null,8),this.state.pos--,this.readTemplateToken()}readTemplateToken(){const e=this.input[this.state.pos],{str:t,firstInvalidLoc:i,pos:s,curLine:n,lineStart:a}=Gp("template",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_template);this.state.pos=s+1,this.state.lineStart=a,this.state.curLine=n,i&&(this.state.firstInvalidTemplateEscapePos=new Ds(i.curLine,i.pos-i.lineStart,this.sourceToOffsetPos(i.pos))),this.input.codePointAt(s)===96?this.finishToken(24,i?null:e+t+"`"):(this.state.pos++,this.finishToken(25,i?null:e+t+"${"))}recordStrictModeErrors(e,t){const i=t.index;this.state.strict&&!this.state.strictErrors.has(i)?this.raise(e,t):this.state.strictErrors.set(i,[e,t])}readWord1(e){this.state.containsEsc=!1;let t="";const i=this.state.pos;let s=this.state.pos;for(e!==void 0&&(this.state.pos+=e<=65535?1:2);this.state.pos<this.length;){const n=this.codePointAtPos(this.state.pos);if(Er(n))this.state.pos+=n<=65535?1:2;else if(n===92){this.state.containsEsc=!0,t+=this.input.slice(s,this.state.pos);const a=this.state.curPosition(),o=this.state.pos===i?ds:Er;if(this.input.charCodeAt(++this.state.pos)!==117){this.raise(C.MissingUnicodeEscape,this.state.curPosition()),s=this.state.pos-1;continue}++this.state.pos;const l=this.readCodePoint(!0);l!==null&&(o(l)||this.raise(C.EscapedCharNotAnIdentifier,a),t+=String.fromCodePoint(l)),s=this.state.pos}else break}return t+this.input.slice(s,this.state.pos)}readWord(e){const t=this.readWord1(e),i=hc.get(t);i!==void 0?this.finishToken(i,Rs(i)):this.finishToken(132,t)}checkKeywordEscapes(){const{type:e}=this.state;mc(e)&&this.state.containsEsc&&this.raise(C.InvalidEscapedReservedWord,this.state.startLoc,{reservedWord:Rs(e)})}raise(e,t,i={}){const s=t instanceof Ds?t:t.loc.start,n=e(s,i);if(!this.options.errorRecovery)throw n;return this.isLookahead||this.state.errors.push(n),n}raiseOverwrite(e,t,i={}){const s=t instanceof Ds?t:t.loc.start,n=s.index,a=this.state.errors;for(let o=a.length-1;o>=0;o--){const l=a[o];if(l.loc.index===n)return a[o]=e(s,i);if(l.loc.index<n)break}return this.raise(e,t,i)}updateContext(e){}unexpected(e,t){throw this.raise(C.UnexpectedToken,e!=null?e:this.state.startLoc,{expected:t?Rs(t):null})}expectPlugin(e,t){if(this.hasPlugin(e))return!0;throw this.raise(C.MissingPlugin,t!=null?t:this.state.startLoc,{missingPlugin:[e]})}expectOnePlugin(e){if(!e.some(t=>this.hasPlugin(t)))throw this.raise(C.MissingOneOfPlugins,this.state.startLoc,{missingPlugin:e})}errorBuilder(e){return(t,i,s)=>{this.raise(e,nn(t,i,s))}}}class Sk{constructor(){this.privateNames=new Set,this.loneAccessors=new Map,this.undefinedPrivateNames=new Map}}class Ak{constructor(e){this.parser=void 0,this.stack=[],this.undefinedPrivateNames=new Map,this.parser=e}current(){return this.stack[this.stack.length-1]}enter(){this.stack.push(new Sk)}exit(){const e=this.stack.pop(),t=this.current();for(const[i,s]of Array.from(e.undefinedPrivateNames))t?t.undefinedPrivateNames.has(i)||t.undefinedPrivateNames.set(i,s):this.parser.raise(C.InvalidPrivateFieldResolution,s,{identifierName:i})}declarePrivateName(e,t,i){const{privateNames:s,loneAccessors:n,undefinedPrivateNames:a}=this.current();let o=s.has(e);if(t&3){const l=o&&n.get(e);if(l){const h=l&4,c=t&4,u=l&3,p=t&3;o=u===p||h!==c,o||n.delete(e)}else o||n.set(e,t)}o&&this.parser.raise(C.PrivateNameRedeclaration,i,{identifierName:e}),s.add(e),a.delete(e)}usePrivateName(e,t){let i;for(i of this.stack)if(i.privateNames.has(e))return;i?i.undefinedPrivateNames.set(e,t):this.parser.raise(C.InvalidPrivateFieldResolution,t,{identifierName:e})}}class Zo{constructor(e=0){this.type=e}canBeArrowParameterDeclaration(){return this.type===2||this.type===1}isCertainlyParameterDeclaration(){return this.type===3}}class Zg extends Zo{constructor(e){super(e),this.declarationErrors=new Map}recordDeclarationError(e,t){const i=t.index;this.declarationErrors.set(i,[e,t])}clearDeclarationError(e){this.declarationErrors.delete(e)}iterateErrors(e){this.declarationErrors.forEach(e)}}class Tk{constructor(e){this.parser=void 0,this.stack=[new Zo],this.parser=e}enter(e){this.stack.push(e)}exit(){this.stack.pop()}recordParameterInitializerError(e,t){const i=t.loc.start,{stack:s}=this;let n=s.length-1,a=s[n];for(;!a.isCertainlyParameterDeclaration();){if(a.canBeArrowParameterDeclaration())a.recordDeclarationError(e,i);else return;a=s[--n]}this.parser.raise(e,i)}recordArrowParameterBindingError(e,t){const{stack:i}=this,s=i[i.length-1],n=t.loc.start;if(s.isCertainlyParameterDeclaration())this.parser.raise(e,n);else if(s.canBeArrowParameterDeclaration())s.recordDeclarationError(e,n);else return}recordAsyncArrowParametersError(e){const{stack:t}=this;let i=t.length-1,s=t[i];for(;s.canBeArrowParameterDeclaration();)s.type===2&&s.recordDeclarationError(C.AwaitBindingIdentifier,e),s=t[--i]}validateAsPattern(){const{stack:e}=this,t=e[e.length-1];!t.canBeArrowParameterDeclaration()||t.iterateErrors(([i,s])=>{this.parser.raise(i,s);let n=e.length-2,a=e[n];for(;a.canBeArrowParameterDeclaration();)a.clearDeclarationError(s.index),a=e[--n]})}}function Ck(){return new Zo(3)}function _k(){return new Zg(1)}function Qk(){return new Zg(2)}function jg(){return new Zo}class Ek{constructor(){this.stacks=[]}enter(e){this.stacks.push(e)}exit(){this.stacks.pop()}currentFlags(){return this.stacks[this.stacks.length-1]}get hasAwait(){return(this.currentFlags()&2)>0}get hasYield(){return(this.currentFlags()&1)>0}get hasReturn(){return(this.currentFlags()&4)>0}get hasIn(){return(this.currentFlags()&8)>0}}function Xa(r,e){return(r?2:0)|(e?1:0)}class Ik extends Pk{addExtra(e,t,i,s=!0){if(!e)return;let{extra:n}=e;n==null&&(n={},e.extra=n),s?n[t]=i:Object.defineProperty(n,t,{enumerable:s,value:i})}isContextual(e){return this.state.type===e&&!this.state.containsEsc}isUnparsedContextual(e,t){const i=e+t.length;if(this.input.slice(e,i)===t){const s=this.input.charCodeAt(i);return!(Er(s)||(s&64512)===55296)}return!1}isLookaheadContextual(e){const t=this.nextTokenStart();return this.isUnparsedContextual(t,e)}eatContextual(e){return this.isContextual(e)?(this.next(),!0):!1}expectContextual(e,t){if(!this.eatContextual(e)){if(t!=null)throw this.raise(t,this.state.startLoc);this.unexpected(null,e)}}canInsertSemicolon(){return this.match(140)||this.match(8)||this.hasPrecedingLineBreak()}hasPrecedingLineBreak(){return Hp(this.input,this.offsetToSourcePos(this.state.lastTokEndLoc.index),this.state.start)}hasFollowingLineBreak(){return Hp(this.input,this.state.end,this.nextTokenStart())}isLineTerminator(){return this.eat(13)||this.canInsertSemicolon()}semicolon(e=!0){(e?this.isLineTerminator():this.eat(13))||this.raise(C.MissingSemicolon,this.state.lastTokEndLoc)}expect(e,t){this.eat(e)||this.unexpected(t,e)}tryParse(e,t=this.state.clone()){const i={node:null};try{const s=e((n=null)=>{throw i.node=n,i});if(this.state.errors.length>t.errors.length){const n=this.state;return this.state=t,this.state.tokensLength=n.tokensLength,{node:s,error:n.errors[t.errors.length],thrown:!1,aborted:!1,failState:n}}return{node:s,error:null,thrown:!1,aborted:!1,failState:null}}catch(s){const n=this.state;if(this.state=t,s instanceof SyntaxError)return{node:null,error:s,thrown:!0,aborted:!1,failState:n};if(s===i)return{node:i.node,error:null,thrown:!1,aborted:!0,failState:n};throw s}}checkExpressionErrors(e,t){if(!e)return!1;const{shorthandAssignLoc:i,doubleProtoLoc:s,privateKeyLoc:n,optionalParametersLoc:a}=e,o=!!i||!!s||!!a||!!n;if(!t)return o;i!=null&&this.raise(C.InvalidCoverInitializedName,i),s!=null&&this.raise(C.DuplicateProto,s),n!=null&&this.raise(C.UnexpectedPrivateField,n),a!=null&&this.unexpected(a)}isLiteralPropertyName(){return _g(this.state.type)}isPrivateName(e){return e.type==="PrivateName"}getPrivateNameSV(e){return e.id.name}hasPropertyAsPrivateName(e){return(e.type==="MemberExpression"||e.type==="OptionalMemberExpression")&&this.isPrivateName(e.property)}isObjectProperty(e){return e.type==="ObjectProperty"}isObjectMethod(e){return e.type==="ObjectMethod"}initializeScopes(e=this.options.sourceType==="module"){const t=this.state.labels;this.state.labels=[];const i=this.exportedIdentifiers;this.exportedIdentifiers=new Set;const s=this.inModule;this.inModule=e;const n=this.scope,a=this.getScopeHandler();this.scope=new a(this,e);const o=this.prodParam;this.prodParam=new Ek;const l=this.classScope;this.classScope=new Ak(this);const h=this.expressionScope;return this.expressionScope=new Tk(this),()=>{this.state.labels=t,this.exportedIdentifiers=i,this.inModule=s,this.scope=n,this.prodParam=o,this.classScope=l,this.expressionScope=h}}enterInitialScopes(){let e=0;this.inModule&&(e|=2),this.scope.enter(1),this.prodParam.enter(e)}checkDestructuringPrivate(e){const{privateKeyLoc:t}=e;t!==null&&this.expectPlugin("destructuringPrivate",t)}}class qa{constructor(){this.shorthandAssignLoc=null,this.doubleProtoLoc=null,this.privateKeyLoc=null,this.optionalParametersLoc=null}}class xo{constructor(e,t,i){this.type="",this.start=t,this.end=0,this.loc=new wo(i),e!=null&&e.options.ranges&&(this.range=[t,0]),e!=null&&e.filename&&(this.loc.filename=e.filename)}}const vc=xo.prototype;vc.__clone=function(){const r=new xo(void 0,this.start,this.loc.start),e=Object.keys(this);for(let t=0,i=e.length;t<i;t++){const s=e[t];s!=="leadingComments"&&s!=="trailingComments"&&s!=="innerComments"&&(r[s]=this[s])}return r};function Mk(r){return vs(r)}function vs(r){const{type:e,start:t,end:i,loc:s,range:n,extra:a,name:o}=r,l=Object.create(vc);return l.type=e,l.start=t,l.end=i,l.loc=s,l.range=n,l.extra=a,l.name=o,e==="Placeholder"&&(l.expectedNode=r.expectedNode),l}function $k(r){const{type:e,start:t,end:i,loc:s,range:n,extra:a}=r;if(e==="Placeholder")return Mk(r);const o=Object.create(vc);return o.type=e,o.start=t,o.end=i,o.loc=s,o.range=n,r.raw!==void 0?o.raw=r.raw:o.extra=a,o.value=r.value,o}class Nk extends Ik{startNode(){const e=this.state.startLoc;return new xo(this,e.index,e)}startNodeAt(e){return new xo(this,e.index,e)}startNodeAtNode(e){return this.startNodeAt(e.loc.start)}finishNode(e,t){return this.finishNodeAt(e,t,this.state.lastTokEndLoc)}finishNodeAt(e,t,i){return e.type=t,e.end=i.index,e.loc.end=i,this.options.ranges&&(e.range[1]=i.index),this.options.attachComment&&this.processComment(e),e}resetStartLocation(e,t){e.start=t.index,e.loc.start=t,this.options.ranges&&(e.range[0]=t.index)}resetEndLocation(e,t=this.state.lastTokEndLoc){e.end=t.index,e.loc.end=t,this.options.ranges&&(e.range[1]=t.index)}resetStartLocationFromNode(e,t){this.resetStartLocation(e,t.loc.start)}}const Lk=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),Pe=bs`flow`({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module.",AssignReservedType:({reservedType:r})=>`Cannot overwrite reserved type ${r}.`,DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement.",EnumBooleanMemberNotInitialized:({memberName:r,enumName:e})=>`Boolean enum members need to be initialized. Use either \`${r} = true,\` or \`${r} = false,\` in enum \`${e}\`.`,EnumDuplicateMemberName:({memberName:r,enumName:e})=>`Enum member names need to be unique, but the name \`${r}\` has already been used before in enum \`${e}\`.`,EnumInconsistentMemberValues:({enumName:r})=>`Enum \`${r}\` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.`,EnumInvalidExplicitType:({invalidEnumType:r,enumName:e})=>`Enum type \`${r}\` is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${e}\`.`,EnumInvalidExplicitTypeUnknownSupplied:({enumName:r})=>`Supplied enum type is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${r}\`.`,EnumInvalidMemberInitializerPrimaryType:({enumName:r,memberName:e,explicitType:t})=>`Enum \`${r}\` has type \`${t}\`, so the initializer of \`${e}\` needs to be a ${t} literal.`,EnumInvalidMemberInitializerSymbolType:({enumName:r,memberName:e})=>`Symbol enum members cannot be initialized. Use \`${e},\` in enum \`${r}\`.`,EnumInvalidMemberInitializerUnknownType:({enumName:r,memberName:e})=>`The enum member initializer for \`${e}\` needs to be a literal (either a boolean, number, or string) in enum \`${r}\`.`,EnumInvalidMemberName:({enumName:r,memberName:e,suggestion:t})=>`Enum member names cannot start with lowercase 'a' through 'z'. Instead of using \`${e}\`, consider using \`${t}\`, in enum \`${r}\`.`,EnumNumberMemberNotInitialized:({enumName:r,memberName:e})=>`Number enum members need to be initialized, e.g. \`${e} = 1\` in enum \`${r}\`.`,EnumStringMemberInconsistentlyInitialized:({enumName:r})=>`String enum members need to consistently either all use initializers, or use no initializers, in enum \`${r}\`.`,GetterMayNotHaveThisParam:"A getter cannot have a `this` parameter.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` or `typeof` keyword.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements.",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type.",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions.",InexactVariance:"Explicit inexact syntax cannot have variance.",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`.",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`.",NestedFlowComment:"Cannot have a flow comment inside another flow comment.",PatternIsOptional:Object.assign({message:"A binding pattern parameter cannot be optional in an implementation signature."},{reasonCode:"OptionalBindingPattern"}),SetterMayNotHaveThisParam:"A setter cannot have a `this` parameter.",SpreadVariance:"Spread properties cannot have variance.",ThisParamAnnotationRequired:"A type annotation is required for the `this` parameter.",ThisParamBannedInConstructor:"Constructors cannot have a `this` parameter; constructors don't bind `this` like other functions.",ThisParamMayNotBeOptional:"The `this` parameter cannot be optional.",ThisParamMustBeFirst:"The `this` parameter must be the first function parameter.",ThisParamNoDefault:"The `this` parameter may not have a default value.",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis.",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object.",UnexpectedReservedType:({reservedType:r})=>`Unexpected reserved type ${r}.`,UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new.",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions.",UnexpectedSubtractionOperand:'Unexpected token, expected "number" or "bigint".',UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration.",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`.",UnsupportedDeclareExportKind:({unsupportedExportKind:r,suggestion:e})=>`\`declare export ${r}\` is not supported. Use \`${e}\` instead.`,UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module.",UnterminatedFlowComment:"Unterminated flow-comment."});function Dk(r){return r.type==="DeclareExportAllDeclaration"||r.type==="DeclareExportDeclaration"&&(!r.declaration||r.declaration.type!=="TypeAlias"&&r.declaration.type!=="InterfaceDeclaration")}function Kp(r){return r.importKind==="type"||r.importKind==="typeof"}const Rk={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"};function Zk(r,e){const t=[],i=[];for(let s=0;s<r.length;s++)(e(r[s],s,r)?t:i).push(r[s]);return[t,i]}const jk=/\*?\s*@((?:no)?flow)\b/;var Bk=r=>class extends r{constructor(...t){super(...t),this.flowPragma=void 0}getScopeHandler(){return dk}shouldParseTypes(){return this.getPluginOption("flow","all")||this.flowPragma==="flow"}finishToken(t,i){t!==134&&t!==13&&t!==28&&this.flowPragma===void 0&&(this.flowPragma=null),super.finishToken(t,i)}addComment(t){if(this.flowPragma===void 0){const i=jk.exec(t.value);if(i)if(i[1]==="flow")this.flowPragma="flow";else if(i[1]==="noflow")this.flowPragma="noflow";else throw new Error("Unexpected flow pragma")}super.addComment(t)}flowParseTypeInitialiser(t){const i=this.state.inType;this.state.inType=!0,this.expect(t||14);const s=this.flowParseType();return this.state.inType=i,s}flowParsePredicate(){const t=this.startNode(),i=this.state.startLoc;return this.next(),this.expectContextual(110),this.state.lastTokStartLoc.index>i.index+1&&this.raise(Pe.UnexpectedSpaceBetweenModuloChecks,i),this.eat(10)?(t.value=super.parseExpression(),this.expect(11),this.finishNode(t,"DeclaredPredicate")):this.finishNode(t,"InferredPredicate")}flowParseTypeAndPredicateInitialiser(){const t=this.state.inType;this.state.inType=!0,this.expect(14);let i=null,s=null;return this.match(54)?(this.state.inType=t,s=this.flowParsePredicate()):(i=this.flowParseType(),this.state.inType=t,this.match(54)&&(s=this.flowParsePredicate())),[i,s]}flowParseDeclareClass(t){return this.next(),this.flowParseInterfaceish(t,!0),this.finishNode(t,"DeclareClass")}flowParseDeclareFunction(t){this.next();const i=t.id=this.parseIdentifier(),s=this.startNode(),n=this.startNode();this.match(47)?s.typeParameters=this.flowParseTypeParameterDeclaration():s.typeParameters=null,this.expect(10);const a=this.flowParseFunctionTypeParams();return s.params=a.params,s.rest=a.rest,s.this=a._this,this.expect(11),[s.returnType,t.predicate]=this.flowParseTypeAndPredicateInitialiser(),n.typeAnnotation=this.finishNode(s,"FunctionTypeAnnotation"),i.typeAnnotation=this.finishNode(n,"TypeAnnotation"),this.resetEndLocation(i),this.semicolon(),this.scope.declareName(t.id.name,2048,t.id.loc.start),this.finishNode(t,"DeclareFunction")}flowParseDeclare(t,i){if(this.match(80))return this.flowParseDeclareClass(t);if(this.match(68))return this.flowParseDeclareFunction(t);if(this.match(74))return this.flowParseDeclareVariable(t);if(this.eatContextual(127))return this.match(16)?this.flowParseDeclareModuleExports(t):(i&&this.raise(Pe.NestedDeclareModule,this.state.lastTokStartLoc),this.flowParseDeclareModule(t));if(this.isContextual(130))return this.flowParseDeclareTypeAlias(t);if(this.isContextual(131))return this.flowParseDeclareOpaqueType(t);if(this.isContextual(129))return this.flowParseDeclareInterface(t);if(this.match(82))return this.flowParseDeclareExportDeclaration(t,i);this.unexpected()}flowParseDeclareVariable(t){return this.next(),t.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(t.id.name,5,t.id.loc.start),this.semicolon(),this.finishNode(t,"DeclareVariable")}flowParseDeclareModule(t){this.scope.enter(0),this.match(134)?t.id=super.parseExprAtom():t.id=this.parseIdentifier();const i=t.body=this.startNode(),s=i.body=[];for(this.expect(5);!this.match(8);){let o=this.startNode();this.match(83)?(this.next(),!this.isContextual(130)&&!this.match(87)&&this.raise(Pe.InvalidNonTypeImportInDeclareModule,this.state.lastTokStartLoc),super.parseImport(o)):(this.expectContextual(125,Pe.UnsupportedStatementInDeclareModule),o=this.flowParseDeclare(o,!0)),s.push(o)}this.scope.exit(),this.expect(8),this.finishNode(i,"BlockStatement");let n=null,a=!1;return s.forEach(o=>{Dk(o)?(n==="CommonJS"&&this.raise(Pe.AmbiguousDeclareModuleKind,o),n="ES"):o.type==="DeclareModuleExports"&&(a&&this.raise(Pe.DuplicateDeclareModuleExports,o),n==="ES"&&this.raise(Pe.AmbiguousDeclareModuleKind,o),n="CommonJS",a=!0)}),t.kind=n||"CommonJS",this.finishNode(t,"DeclareModule")}flowParseDeclareExportDeclaration(t,i){if(this.expect(82),this.eat(65))return this.match(68)||this.match(80)?t.declaration=this.flowParseDeclare(this.startNode()):(t.declaration=this.flowParseType(),this.semicolon()),t.default=!0,this.finishNode(t,"DeclareExportDeclaration");if(this.match(75)||this.isLet()||(this.isContextual(130)||this.isContextual(129))&&!i){const s=this.state.value;throw this.raise(Pe.UnsupportedDeclareExportKind,this.state.startLoc,{unsupportedExportKind:s,suggestion:Rk[s]})}if(this.match(74)||this.match(68)||this.match(80)||this.isContextual(131))return t.declaration=this.flowParseDeclare(this.startNode()),t.default=!1,this.finishNode(t,"DeclareExportDeclaration");if(this.match(55)||this.match(5)||this.isContextual(129)||this.isContextual(130)||this.isContextual(131))return t=this.parseExport(t,null),t.type==="ExportNamedDeclaration"&&(t.type="ExportDeclaration",t.default=!1,delete t.exportKind),t.type="Declare"+t.type,t;this.unexpected()}flowParseDeclareModuleExports(t){return this.next(),this.expectContextual(111),t.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(t,"DeclareModuleExports")}flowParseDeclareTypeAlias(t){this.next();const i=this.flowParseTypeAlias(t);return i.type="DeclareTypeAlias",i}flowParseDeclareOpaqueType(t){this.next();const i=this.flowParseOpaqueType(t,!0);return i.type="DeclareOpaqueType",i}flowParseDeclareInterface(t){return this.next(),this.flowParseInterfaceish(t,!1),this.finishNode(t,"DeclareInterface")}flowParseInterfaceish(t,i){if(t.id=this.flowParseRestrictedIdentifier(!i,!0),this.scope.declareName(t.id.name,i?17:8201,t.id.loc.start),this.match(47)?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.extends=[],this.eat(81))do t.extends.push(this.flowParseInterfaceExtends());while(!i&&this.eat(12));if(i){if(t.implements=[],t.mixins=[],this.eatContextual(117))do t.mixins.push(this.flowParseInterfaceExtends());while(this.eat(12));if(this.eatContextual(113))do t.implements.push(this.flowParseInterfaceExtends());while(this.eat(12))}t.body=this.flowParseObjectType({allowStatic:i,allowExact:!1,allowSpread:!1,allowProto:i,allowInexact:!1})}flowParseInterfaceExtends(){const t=this.startNode();return t.id=this.flowParseQualifiedTypeIdentifier(),this.match(47)?t.typeParameters=this.flowParseTypeParameterInstantiation():t.typeParameters=null,this.finishNode(t,"InterfaceExtends")}flowParseInterface(t){return this.flowParseInterfaceish(t,!1),this.finishNode(t,"InterfaceDeclaration")}checkNotUnderscore(t){t==="_"&&this.raise(Pe.UnexpectedReservedUnderscore,this.state.startLoc)}checkReservedType(t,i,s){!Lk.has(t)||this.raise(s?Pe.AssignReservedType:Pe.UnexpectedReservedType,i,{reservedType:t})}flowParseRestrictedIdentifier(t,i){return this.checkReservedType(this.state.value,this.state.startLoc,i),this.parseIdentifier(t)}flowParseTypeAlias(t){return t.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(t.id.name,8201,t.id.loc.start),this.match(47)?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.right=this.flowParseTypeInitialiser(29),this.semicolon(),this.finishNode(t,"TypeAlias")}flowParseOpaqueType(t,i){return this.expectContextual(130),t.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(t.id.name,8201,t.id.loc.start),this.match(47)?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.supertype=null,this.match(14)&&(t.supertype=this.flowParseTypeInitialiser(14)),t.impltype=null,i||(t.impltype=this.flowParseTypeInitialiser(29)),this.semicolon(),this.finishNode(t,"OpaqueType")}flowParseTypeParameter(t=!1){const i=this.state.startLoc,s=this.startNode(),n=this.flowParseVariance(),a=this.flowParseTypeAnnotatableIdentifier();return s.name=a.name,s.variance=n,s.bound=a.typeAnnotation,this.match(29)?(this.eat(29),s.default=this.flowParseType()):t&&this.raise(Pe.MissingTypeParamDefault,i),this.finishNode(s,"TypeParameter")}flowParseTypeParameterDeclaration(){const t=this.state.inType,i=this.startNode();i.params=[],this.state.inType=!0,this.match(47)||this.match(143)?this.next():this.unexpected();let s=!1;do{const n=this.flowParseTypeParameter(s);i.params.push(n),n.default&&(s=!0),this.match(48)||this.expect(12)}while(!this.match(48));return this.expect(48),this.state.inType=t,this.finishNode(i,"TypeParameterDeclaration")}flowParseTypeParameterInstantiation(){const t=this.startNode(),i=this.state.inType;t.params=[],this.state.inType=!0,this.expect(47);const s=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.match(48);)t.params.push(this.flowParseType()),this.match(48)||this.expect(12);return this.state.noAnonFunctionType=s,this.expect(48),this.state.inType=i,this.finishNode(t,"TypeParameterInstantiation")}flowParseTypeParameterInstantiationCallOrNew(){const t=this.startNode(),i=this.state.inType;for(t.params=[],this.state.inType=!0,this.expect(47);!this.match(48);)t.params.push(this.flowParseTypeOrImplicitInstantiation()),this.match(48)||this.expect(12);return this.expect(48),this.state.inType=i,this.finishNode(t,"TypeParameterInstantiation")}flowParseInterfaceType(){const t=this.startNode();if(this.expectContextual(129),t.extends=[],this.eat(81))do t.extends.push(this.flowParseInterfaceExtends());while(this.eat(12));return t.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(t,"InterfaceTypeAnnotation")}flowParseObjectPropertyKey(){return this.match(135)||this.match(134)?super.parseExprAtom():this.parseIdentifier(!0)}flowParseObjectTypeIndexer(t,i,s){return t.static=i,this.lookahead().type===14?(t.id=this.flowParseObjectPropertyKey(),t.key=this.flowParseTypeInitialiser()):(t.id=null,t.key=this.flowParseType()),this.expect(3),t.value=this.flowParseTypeInitialiser(),t.variance=s,this.finishNode(t,"ObjectTypeIndexer")}flowParseObjectTypeInternalSlot(t,i){return t.static=i,t.id=this.flowParseObjectPropertyKey(),this.expect(3),this.expect(3),this.match(47)||this.match(10)?(t.method=!0,t.optional=!1,t.value=this.flowParseObjectTypeMethodish(this.startNodeAt(t.loc.start))):(t.method=!1,this.eat(17)&&(t.optional=!0),t.value=this.flowParseTypeInitialiser()),this.finishNode(t,"ObjectTypeInternalSlot")}flowParseObjectTypeMethodish(t){for(t.params=[],t.rest=null,t.typeParameters=null,t.this=null,this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(10),this.match(78)&&(t.this=this.flowParseFunctionTypeParam(!0),t.this.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)t.params.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(t.rest=this.flowParseFunctionTypeParam(!1)),this.expect(11),t.returnType=this.flowParseTypeInitialiser(),this.finishNode(t,"FunctionTypeAnnotation")}flowParseObjectTypeCallProperty(t,i){const s=this.startNode();return t.static=i,t.value=this.flowParseObjectTypeMethodish(s),this.finishNode(t,"ObjectTypeCallProperty")}flowParseObjectType({allowStatic:t,allowExact:i,allowSpread:s,allowProto:n,allowInexact:a}){const o=this.state.inType;this.state.inType=!0;const l=this.startNode();l.callProperties=[],l.properties=[],l.indexers=[],l.internalSlots=[];let h,c,u=!1;for(i&&this.match(6)?(this.expect(6),h=9,c=!0):(this.expect(5),h=8,c=!1),l.exact=c;!this.match(h);){let m=!1,g=null,b=null;const w=this.startNode();if(n&&this.isContextual(118)){const v=this.lookahead();v.type!==14&&v.type!==17&&(this.next(),g=this.state.startLoc,t=!1)}if(t&&this.isContextual(106)){const v=this.lookahead();v.type!==14&&v.type!==17&&(this.next(),m=!0)}const y=this.flowParseVariance();if(this.eat(0))g!=null&&this.unexpected(g),this.eat(0)?(y&&this.unexpected(y.loc.start),l.internalSlots.push(this.flowParseObjectTypeInternalSlot(w,m))):l.indexers.push(this.flowParseObjectTypeIndexer(w,m,y));else if(this.match(10)||this.match(47))g!=null&&this.unexpected(g),y&&this.unexpected(y.loc.start),l.callProperties.push(this.flowParseObjectTypeCallProperty(w,m));else{let v="init";if(this.isContextual(99)||this.isContextual(104)){const x=this.lookahead();_g(x.type)&&(v=this.state.value,this.next())}const T=this.flowParseObjectTypeProperty(w,m,g,y,v,s,a!=null?a:!c);T===null?(u=!0,b=this.state.lastTokStartLoc):l.properties.push(T)}this.flowObjectTypeSemicolon(),b&&!this.match(8)&&!this.match(9)&&this.raise(Pe.UnexpectedExplicitInexactInObject,b)}this.expect(h),s&&(l.inexact=u);const p=this.finishNode(l,"ObjectTypeAnnotation");return this.state.inType=o,p}flowParseObjectTypeProperty(t,i,s,n,a,o,l){if(this.eat(21))return this.match(12)||this.match(13)||this.match(8)||this.match(9)?(o?l||this.raise(Pe.InexactInsideExact,this.state.lastTokStartLoc):this.raise(Pe.InexactInsideNonObject,this.state.lastTokStartLoc),n&&this.raise(Pe.InexactVariance,n),null):(o||this.raise(Pe.UnexpectedSpreadType,this.state.lastTokStartLoc),s!=null&&this.unexpected(s),n&&this.raise(Pe.SpreadVariance,n),t.argument=this.flowParseType(),this.finishNode(t,"ObjectTypeSpreadProperty"));{t.key=this.flowParseObjectPropertyKey(),t.static=i,t.proto=s!=null,t.kind=a;let h=!1;return this.match(47)||this.match(10)?(t.method=!0,s!=null&&this.unexpected(s),n&&this.unexpected(n.loc.start),t.value=this.flowParseObjectTypeMethodish(this.startNodeAt(t.loc.start)),(a==="get"||a==="set")&&this.flowCheckGetterSetterParams(t),!o&&t.key.name==="constructor"&&t.value.this&&this.raise(Pe.ThisParamBannedInConstructor,t.value.this)):(a!=="init"&&this.unexpected(),t.method=!1,this.eat(17)&&(h=!0),t.value=this.flowParseTypeInitialiser(),t.variance=n),t.optional=h,this.finishNode(t,"ObjectTypeProperty")}}flowCheckGetterSetterParams(t){const i=t.kind==="get"?0:1,s=t.value.params.length+(t.value.rest?1:0);t.value.this&&this.raise(t.kind==="get"?Pe.GetterMayNotHaveThisParam:Pe.SetterMayNotHaveThisParam,t.value.this),s!==i&&this.raise(t.kind==="get"?C.BadGetterArity:C.BadSetterArity,t),t.kind==="set"&&t.value.rest&&this.raise(C.BadSetterRestParameter,t)}flowObjectTypeSemicolon(){!this.eat(13)&&!this.eat(12)&&!this.match(8)&&!this.match(9)&&this.unexpected()}flowParseQualifiedTypeIdentifier(t,i){var s;(s=t)!=null||(t=this.state.startLoc);let n=i||this.flowParseRestrictedIdentifier(!0);for(;this.eat(16);){const a=this.startNodeAt(t);a.qualification=n,a.id=this.flowParseRestrictedIdentifier(!0),n=this.finishNode(a,"QualifiedTypeIdentifier")}return n}flowParseGenericType(t,i){const s=this.startNodeAt(t);return s.typeParameters=null,s.id=this.flowParseQualifiedTypeIdentifier(t,i),this.match(47)&&(s.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(s,"GenericTypeAnnotation")}flowParseTypeofType(){const t=this.startNode();return this.expect(87),t.argument=this.flowParsePrimaryType(),this.finishNode(t,"TypeofTypeAnnotation")}flowParseTupleType(){const t=this.startNode();for(t.types=[],this.expect(0);this.state.pos<this.length&&!this.match(3)&&(t.types.push(this.flowParseType()),!this.match(3));)this.expect(12);return this.expect(3),this.finishNode(t,"TupleTypeAnnotation")}flowParseFunctionTypeParam(t){let i=null,s=!1,n=null;const a=this.startNode(),o=this.lookahead(),l=this.state.type===78;return o.type===14||o.type===17?(l&&!t&&this.raise(Pe.ThisParamMustBeFirst,a),i=this.parseIdentifier(l),this.eat(17)&&(s=!0,l&&this.raise(Pe.ThisParamMayNotBeOptional,a)),n=this.flowParseTypeInitialiser()):n=this.flowParseType(),a.name=i,a.optional=s,a.typeAnnotation=n,this.finishNode(a,"FunctionTypeParam")}reinterpretTypeAsFunctionTypeParam(t){const i=this.startNodeAt(t.loc.start);return i.name=null,i.optional=!1,i.typeAnnotation=t,this.finishNode(i,"FunctionTypeParam")}flowParseFunctionTypeParams(t=[]){let i=null,s=null;for(this.match(78)&&(s=this.flowParseFunctionTypeParam(!0),s.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)t.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(i=this.flowParseFunctionTypeParam(!1)),{params:t,rest:i,_this:s}}flowIdentToTypeAnnotation(t,i,s){switch(s.name){case"any":return this.finishNode(i,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(i,"BooleanTypeAnnotation");case"mixed":return this.finishNode(i,"MixedTypeAnnotation");case"empty":return this.finishNode(i,"EmptyTypeAnnotation");case"number":return this.finishNode(i,"NumberTypeAnnotation");case"string":return this.finishNode(i,"StringTypeAnnotation");case"symbol":return this.finishNode(i,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(s.name),this.flowParseGenericType(t,s)}}flowParsePrimaryType(){const t=this.state.startLoc,i=this.startNode();let s,n,a=!1;const o=this.state.noAnonFunctionType;switch(this.state.type){case 5:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case 6:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case 0:return this.state.noAnonFunctionType=!1,n=this.flowParseTupleType(),this.state.noAnonFunctionType=o,n;case 47:{const l=this.startNode();return l.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(10),s=this.flowParseFunctionTypeParams(),l.params=s.params,l.rest=s.rest,l.this=s._this,this.expect(11),this.expect(19),l.returnType=this.flowParseType(),this.finishNode(l,"FunctionTypeAnnotation")}case 10:{const l=this.startNode();if(this.next(),!this.match(11)&&!this.match(21))if(Ke(this.state.type)||this.match(78)){const h=this.lookahead().type;a=h!==17&&h!==14}else a=!0;if(a){if(this.state.noAnonFunctionType=!1,n=this.flowParseType(),this.state.noAnonFunctionType=o,this.state.noAnonFunctionType||!(this.match(12)||this.match(11)&&this.lookahead().type===19))return this.expect(11),n;this.eat(12)}return n?s=this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(n)]):s=this.flowParseFunctionTypeParams(),l.params=s.params,l.rest=s.rest,l.this=s._this,this.expect(11),this.expect(19),l.returnType=this.flowParseType(),l.typeParameters=null,this.finishNode(l,"FunctionTypeAnnotation")}case 134:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case 85:case 86:return i.value=this.match(85),this.next(),this.finishNode(i,"BooleanLiteralTypeAnnotation");case 53:if(this.state.value==="-"){if(this.next(),this.match(135))return this.parseLiteralAtNode(-this.state.value,"NumberLiteralTypeAnnotation",i);if(this.match(136))return this.parseLiteralAtNode(-this.state.value,"BigIntLiteralTypeAnnotation",i);throw this.raise(Pe.UnexpectedSubtractionOperand,this.state.startLoc)}this.unexpected();return;case 135:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case 136:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case 88:return this.next(),this.finishNode(i,"VoidTypeAnnotation");case 84:return this.next(),this.finishNode(i,"NullLiteralTypeAnnotation");case 78:return this.next(),this.finishNode(i,"ThisTypeAnnotation");case 55:return this.next(),this.finishNode(i,"ExistsTypeAnnotation");case 87:return this.flowParseTypeofType();default:if(mc(this.state.type)){const l=Rs(this.state.type);return this.next(),super.createIdentifier(i,l)}else if(Ke(this.state.type))return this.isContextual(129)?this.flowParseInterfaceType():this.flowIdentToTypeAnnotation(t,i,this.parseIdentifier())}this.unexpected()}flowParsePostfixType(){const t=this.state.startLoc;let i=this.flowParsePrimaryType(),s=!1;for(;(this.match(0)||this.match(18))&&!this.canInsertSemicolon();){const n=this.startNodeAt(t),a=this.eat(18);s=s||a,this.expect(0),!a&&this.match(3)?(n.elementType=i,this.next(),i=this.finishNode(n,"ArrayTypeAnnotation")):(n.objectType=i,n.indexType=this.flowParseType(),this.expect(3),s?(n.optional=a,i=this.finishNode(n,"OptionalIndexedAccessType")):i=this.finishNode(n,"IndexedAccessType"))}return i}flowParsePrefixType(){const t=this.startNode();return this.eat(17)?(t.typeAnnotation=this.flowParsePrefixType(),this.finishNode(t,"NullableTypeAnnotation")):this.flowParsePostfixType()}flowParseAnonFunctionWithoutParens(){const t=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(19)){const i=this.startNodeAt(t.loc.start);return i.params=[this.reinterpretTypeAsFunctionTypeParam(t)],i.rest=null,i.this=null,i.returnType=this.flowParseType(),i.typeParameters=null,this.finishNode(i,"FunctionTypeAnnotation")}return t}flowParseIntersectionType(){const t=this.startNode();this.eat(45);const i=this.flowParseAnonFunctionWithoutParens();for(t.types=[i];this.eat(45);)t.types.push(this.flowParseAnonFunctionWithoutParens());return t.types.length===1?i:this.finishNode(t,"IntersectionTypeAnnotation")}flowParseUnionType(){const t=this.startNode();this.eat(43);const i=this.flowParseIntersectionType();for(t.types=[i];this.eat(43);)t.types.push(this.flowParseIntersectionType());return t.types.length===1?i:this.finishNode(t,"UnionTypeAnnotation")}flowParseType(){const t=this.state.inType;this.state.inType=!0;const i=this.flowParseUnionType();return this.state.inType=t,i}flowParseTypeOrImplicitInstantiation(){if(this.state.type===132&&this.state.value==="_"){const t=this.state.startLoc,i=this.parseIdentifier();return this.flowParseGenericType(t,i)}else return this.flowParseType()}flowParseTypeAnnotation(){const t=this.startNode();return t.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(t,"TypeAnnotation")}flowParseTypeAnnotatableIdentifier(t){const i=t?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(14)&&(i.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(i)),i}typeCastToParameter(t){return t.expression.typeAnnotation=t.typeAnnotation,this.resetEndLocation(t.expression,t.typeAnnotation.loc.end),t.expression}flowParseVariance(){let t=null;return this.match(53)?(t=this.startNode(),this.state.value==="+"?t.kind="plus":t.kind="minus",this.next(),this.finishNode(t,"Variance")):t}parseFunctionBody(t,i,s=!1){if(i){this.forwardNoArrowParamsConversionAt(t,()=>super.parseFunctionBody(t,!0,s));return}super.parseFunctionBody(t,!1,s)}parseFunctionBodyAndFinish(t,i,s=!1){if(this.match(14)){const n=this.startNode();[n.typeAnnotation,t.predicate]=this.flowParseTypeAndPredicateInitialiser(),t.returnType=n.typeAnnotation?this.finishNode(n,"TypeAnnotation"):null}return super.parseFunctionBodyAndFinish(t,i,s)}parseStatementLike(t){if(this.state.strict&&this.isContextual(129)){const s=this.lookahead();if(Xi(s.type)){const n=this.startNode();return this.next(),this.flowParseInterface(n)}}else if(this.isContextual(126)){const s=this.startNode();return this.next(),this.flowParseEnumDeclaration(s)}const i=super.parseStatementLike(t);return this.flowPragma===void 0&&!this.isValidDirective(i)&&(this.flowPragma=null),i}parseExpressionStatement(t,i,s){if(i.type==="Identifier"){if(i.name==="declare"){if(this.match(80)||Ke(this.state.type)||this.match(68)||this.match(74)||this.match(82))return this.flowParseDeclare(t)}else if(Ke(this.state.type)){if(i.name==="interface")return this.flowParseInterface(t);if(i.name==="type")return this.flowParseTypeAlias(t);if(i.name==="opaque")return this.flowParseOpaqueType(t,!1)}}return super.parseExpressionStatement(t,i,s)}shouldParseExportDeclaration(){const{type:t}=this.state;return t===126||Wp(t)?!this.state.containsEsc:super.shouldParseExportDeclaration()}isExportDefaultSpecifier(){const{type:t}=this.state;return t===126||Wp(t)?this.state.containsEsc:super.isExportDefaultSpecifier()}parseExportDefaultExpression(){if(this.isContextual(126)){const t=this.startNode();return this.next(),this.flowParseEnumDeclaration(t)}return super.parseExportDefaultExpression()}parseConditional(t,i,s){if(!this.match(17))return t;if(this.state.maybeInArrowParameters){const p=this.lookaheadCharCode();if(p===44||p===61||p===58||p===41)return this.setOptionalParametersError(s),t}this.expect(17);const n=this.state.clone(),a=this.state.noArrowAt,o=this.startNodeAt(i);let{consequent:l,failed:h}=this.tryParseConditionalConsequent(),[c,u]=this.getArrowLikeExpressions(l);if(h||u.length>0){const p=[...a];if(u.length>0){this.state=n,this.state.noArrowAt=p;for(let m=0;m<u.length;m++)p.push(u[m].start);({consequent:l,failed:h}=this.tryParseConditionalConsequent()),[c,u]=this.getArrowLikeExpressions(l)}h&&c.length>1&&this.raise(Pe.AmbiguousConditionalArrow,n.startLoc),h&&c.length===1&&(this.state=n,p.push(c[0].start),this.state.noArrowAt=p,{consequent:l,failed:h}=this.tryParseConditionalConsequent())}return this.getArrowLikeExpressions(l,!0),this.state.noArrowAt=a,this.expect(14),o.test=t,o.consequent=l,o.alternate=this.forwardNoArrowParamsConversionAt(o,()=>this.parseMaybeAssign(void 0,void 0)),this.finishNode(o,"ConditionalExpression")}tryParseConditionalConsequent(){this.state.noArrowParamsConversionAt.push(this.state.start);const t=this.parseMaybeAssignAllowIn(),i=!this.match(14);return this.state.noArrowParamsConversionAt.pop(),{consequent:t,failed:i}}getArrowLikeExpressions(t,i){const s=[t],n=[];for(;s.length!==0;){const a=s.pop();a.type==="ArrowFunctionExpression"&&a.body.type!=="BlockStatement"?(a.typeParameters||!a.returnType?this.finishArrowValidation(a):n.push(a),s.push(a.body)):a.type==="ConditionalExpression"&&(s.push(a.consequent),s.push(a.alternate))}return i?(n.forEach(a=>this.finishArrowValidation(a)),[n,[]]):Zk(n,a=>a.params.every(o=>this.isAssignable(o,!0)))}finishArrowValidation(t){var i;this.toAssignableList(t.params,(i=t.extra)==null?void 0:i.trailingCommaLoc,!1),this.scope.enter(6),super.checkParams(t,!1,!0),this.scope.exit()}forwardNoArrowParamsConversionAt(t,i){let s;return this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(t.start))?(this.state.noArrowParamsConversionAt.push(this.state.start),s=i(),this.state.noArrowParamsConversionAt.pop()):s=i(),s}parseParenItem(t,i){const s=super.parseParenItem(t,i);if(this.eat(17)&&(s.optional=!0,this.resetEndLocation(t)),this.match(14)){const n=this.startNodeAt(i);return n.expression=s,n.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(n,"TypeCastExpression")}return s}assertModuleNodeAllowed(t){t.type==="ImportDeclaration"&&(t.importKind==="type"||t.importKind==="typeof")||t.type==="ExportNamedDeclaration"&&t.exportKind==="type"||t.type==="ExportAllDeclaration"&&t.exportKind==="type"||super.assertModuleNodeAllowed(t)}parseExportDeclaration(t){if(this.isContextual(130)){t.exportKind="type";const i=this.startNode();return this.next(),this.match(5)?(t.specifiers=this.parseExportSpecifiers(!0),super.parseExportFrom(t),null):this.flowParseTypeAlias(i)}else if(this.isContextual(131)){t.exportKind="type";const i=this.startNode();return this.next(),this.flowParseOpaqueType(i,!1)}else if(this.isContextual(129)){t.exportKind="type";const i=this.startNode();return this.next(),this.flowParseInterface(i)}else if(this.isContextual(126)){t.exportKind="value";const i=this.startNode();return this.next(),this.flowParseEnumDeclaration(i)}else return super.parseExportDeclaration(t)}eatExportStar(t){return super.eatExportStar(t)?!0:this.isContextual(130)&&this.lookahead().type===55?(t.exportKind="type",this.next(),this.next(),!0):!1}maybeParseExportNamespaceSpecifier(t){const{startLoc:i}=this.state,s=super.maybeParseExportNamespaceSpecifier(t);return s&&t.exportKind==="type"&&this.unexpected(i),s}parseClassId(t,i,s){super.parseClassId(t,i,s),this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration())}parseClassMember(t,i,s){const{startLoc:n}=this.state;if(this.isContextual(125)){if(super.parseClassMemberFromModifier(t,i))return;i.declare=!0}super.parseClassMember(t,i,s),i.declare&&(i.type!=="ClassProperty"&&i.type!=="ClassPrivateProperty"&&i.type!=="PropertyDefinition"?this.raise(Pe.DeclareClassElement,n):i.value&&this.raise(Pe.DeclareClassFieldInitializer,i.value))}isIterator(t){return t==="iterator"||t==="asyncIterator"}readIterator(){const t=super.readWord1(),i="@@"+t;(!this.isIterator(t)||!this.state.inType)&&this.raise(C.InvalidIdentifier,this.state.curPosition(),{identifierName:i}),this.finishToken(132,i)}getTokenFromCode(t){const i=this.input.charCodeAt(this.state.pos+1);t===123&&i===124?this.finishOp(6,2):this.state.inType&&(t===62||t===60)?this.finishOp(t===62?48:47,1):this.state.inType&&t===63?i===46?this.finishOp(18,2):this.finishOp(17,1):ck(t,i,this.input.charCodeAt(this.state.pos+2))?(this.state.pos+=2,this.readIterator()):super.getTokenFromCode(t)}isAssignable(t,i){return t.type==="TypeCastExpression"?this.isAssignable(t.expression,i):super.isAssignable(t,i)}toAssignable(t,i=!1){!i&&t.type==="AssignmentExpression"&&t.left.type==="TypeCastExpression"&&(t.left=this.typeCastToParameter(t.left)),super.toAssignable(t,i)}toAssignableList(t,i,s){for(let n=0;n<t.length;n++){const a=t[n];(a==null?void 0:a.type)==="TypeCastExpression"&&(t[n]=this.typeCastToParameter(a))}super.toAssignableList(t,i,s)}toReferencedList(t,i){for(let n=0;n<t.length;n++){var s;const a=t[n];a&&a.type==="TypeCastExpression"&&!((s=a.extra)!=null&&s.parenthesized)&&(t.length>1||!i)&&this.raise(Pe.TypeCastInPattern,a.typeAnnotation)}return t}parseArrayLike(t,i,s,n){const a=super.parseArrayLike(t,i,s,n);return i&&!this.state.maybeInArrowParameters&&this.toReferencedList(a.elements),a}isValidLVal(t,i,s){return t==="TypeCastExpression"||super.isValidLVal(t,i,s)}parseClassProperty(t){return this.match(14)&&(t.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassProperty(t)}parseClassPrivateProperty(t){return this.match(14)&&(t.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassPrivateProperty(t)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(14)||super.isClassProperty()}isNonstaticConstructor(t){return!this.match(14)&&super.isNonstaticConstructor(t)}pushClassMethod(t,i,s,n,a,o){if(i.variance&&this.unexpected(i.variance.loc.start),delete i.variance,this.match(47)&&(i.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassMethod(t,i,s,n,a,o),i.params&&a){const l=i.params;l.length>0&&this.isThisParam(l[0])&&this.raise(Pe.ThisParamBannedInConstructor,i)}else if(i.type==="MethodDefinition"&&a&&i.value.params){const l=i.value.params;l.length>0&&this.isThisParam(l[0])&&this.raise(Pe.ThisParamBannedInConstructor,i)}}pushClassPrivateMethod(t,i,s,n){i.variance&&this.unexpected(i.variance.loc.start),delete i.variance,this.match(47)&&(i.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassPrivateMethod(t,i,s,n)}parseClassSuper(t){if(super.parseClassSuper(t),t.superClass&&this.match(47)&&(t.superTypeParameters=this.flowParseTypeParameterInstantiation()),this.isContextual(113)){this.next();const i=t.implements=[];do{const s=this.startNode();s.id=this.flowParseRestrictedIdentifier(!0),this.match(47)?s.typeParameters=this.flowParseTypeParameterInstantiation():s.typeParameters=null,i.push(this.finishNode(s,"ClassImplements"))}while(this.eat(12))}}checkGetterSetterParams(t){super.checkGetterSetterParams(t);const i=this.getObjectOrClassMethodParams(t);if(i.length>0){const s=i[0];this.isThisParam(s)&&t.kind==="get"?this.raise(Pe.GetterMayNotHaveThisParam,s):this.isThisParam(s)&&this.raise(Pe.SetterMayNotHaveThisParam,s)}}parsePropertyNamePrefixOperator(t){t.variance=this.flowParseVariance()}parseObjPropValue(t,i,s,n,a,o,l){t.variance&&this.unexpected(t.variance.loc.start),delete t.variance;let h;this.match(47)&&!o&&(h=this.flowParseTypeParameterDeclaration(),this.match(10)||this.unexpected());const c=super.parseObjPropValue(t,i,s,n,a,o,l);return h&&((c.value||c).typeParameters=h),c}parseFunctionParamType(t){return this.eat(17)&&(t.type!=="Identifier"&&this.raise(Pe.PatternIsOptional,t),this.isThisParam(t)&&this.raise(Pe.ThisParamMayNotBeOptional,t),t.optional=!0),this.match(14)?t.typeAnnotation=this.flowParseTypeAnnotation():this.isThisParam(t)&&this.raise(Pe.ThisParamAnnotationRequired,t),this.match(29)&&this.isThisParam(t)&&this.raise(Pe.ThisParamNoDefault,t),this.resetEndLocation(t),t}parseMaybeDefault(t,i){const s=super.parseMaybeDefault(t,i);return s.type==="AssignmentPattern"&&s.typeAnnotation&&s.right.start<s.typeAnnotation.start&&this.raise(Pe.TypeBeforeInitializer,s.typeAnnotation),s}checkImportReflection(t){super.checkImportReflection(t),t.module&&t.importKind!=="value"&&this.raise(Pe.ImportReflectionHasImportType,t.specifiers[0].loc.start)}parseImportSpecifierLocal(t,i,s){i.local=Kp(t)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),t.specifiers.push(this.finishImportSpecifier(i,s))}isPotentialImportPhase(t){if(super.isPotentialImportPhase(t))return!0;if(this.isContextual(130)){if(!t)return!0;const i=this.lookaheadCharCode();return i===123||i===42}return!t&&this.isContextual(87)}applyImportPhase(t,i,s,n){if(super.applyImportPhase(t,i,s,n),i){if(!s&&this.match(65))return;t.exportKind=s==="type"?s:"value"}else s==="type"&&this.match(55)&&this.unexpected(),t.importKind=s==="type"||s==="typeof"?s:"value"}parseImportSpecifier(t,i,s,n,a){const o=t.imported;let l=null;o.type==="Identifier"&&(o.name==="type"?l="type":o.name==="typeof"&&(l="typeof"));let h=!1;if(this.isContextual(93)&&!this.isLookaheadContextual("as")){const u=this.parseIdentifier(!0);l!==null&&!Xi(this.state.type)?(t.imported=u,t.importKind=l,t.local=vs(u)):(t.imported=o,t.importKind=null,t.local=this.parseIdentifier())}else{if(l!==null&&Xi(this.state.type))t.imported=this.parseIdentifier(!0),t.importKind=l;else{if(i)throw this.raise(C.ImportBindingIsString,t,{importName:o.value});t.imported=o,t.importKind=null}this.eatContextual(93)?t.local=this.parseIdentifier():(h=!0,t.local=vs(t.imported))}const c=Kp(t);return s&&c&&this.raise(Pe.ImportTypeShorthandOnlyInPureImport,t),(s||c)&&this.checkReservedType(t.local.name,t.local.loc.start,!0),h&&!s&&!c&&this.checkReservedWord(t.local.name,t.loc.start,!0,!0),this.finishImportSpecifier(t,"ImportSpecifier")}parseBindingAtom(){switch(this.state.type){case 78:return this.parseIdentifier(!0);default:return super.parseBindingAtom()}}parseFunctionParams(t,i){const s=t.kind;s!=="get"&&s!=="set"&&this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),super.parseFunctionParams(t,i)}parseVarId(t,i){super.parseVarId(t,i),this.match(14)&&(t.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(t.id))}parseAsyncArrowFromCallExpression(t,i){if(this.match(14)){const s=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,t.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=s}return super.parseAsyncArrowFromCallExpression(t,i)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}parseMaybeAssign(t,i){var s;let n=null,a;if(this.hasPlugin("jsx")&&(this.match(143)||this.match(47))){if(n=this.state.clone(),a=this.tryParse(()=>super.parseMaybeAssign(t,i),n),!a.error)return a.node;const{context:h}=this.state,c=h[h.length-1];(c===ht.j_oTag||c===ht.j_expr)&&h.pop()}if((s=a)!=null&&s.error||this.match(47)){var o,l;n=n||this.state.clone();let h;const c=this.tryParse(p=>{var m;h=this.flowParseTypeParameterDeclaration();const g=this.forwardNoArrowParamsConversionAt(h,()=>{const w=super.parseMaybeAssign(t,i);return this.resetStartLocationFromNode(w,h),w});(m=g.extra)!=null&&m.parenthesized&&p();const b=this.maybeUnwrapTypeCastExpression(g);return b.type!=="ArrowFunctionExpression"&&p(),b.typeParameters=h,this.resetStartLocationFromNode(b,h),g},n);let u=null;if(c.node&&this.maybeUnwrapTypeCastExpression(c.node).type==="ArrowFunctionExpression"){if(!c.error&&!c.aborted)return c.node.async&&this.raise(Pe.UnexpectedTypeParameterBeforeAsyncArrowFunction,h),c.node;u=c.node}if((o=a)!=null&&o.node)return this.state=a.failState,a.node;if(u)return this.state=c.failState,u;throw(l=a)!=null&&l.thrown?a.error:c.thrown?c.error:this.raise(Pe.UnexpectedTokenAfterTypeParameter,h)}return super.parseMaybeAssign(t,i)}parseArrow(t){if(this.match(14)){const i=this.tryParse(()=>{const s=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;const n=this.startNode();return[n.typeAnnotation,t.predicate]=this.flowParseTypeAndPredicateInitialiser(),this.state.noAnonFunctionType=s,this.canInsertSemicolon()&&this.unexpected(),this.match(19)||this.unexpected(),n});if(i.thrown)return null;i.error&&(this.state=i.failState),t.returnType=i.node.typeAnnotation?this.finishNode(i.node,"TypeAnnotation"):null}return super.parseArrow(t)}shouldParseArrow(t){return this.match(14)||super.shouldParseArrow(t)}setArrowFunctionParameters(t,i){this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(t.start))?t.params=i:super.setArrowFunctionParameters(t,i)}checkParams(t,i,s,n=!0){if(!(s&&this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(t.start)))){for(let a=0;a<t.params.length;a++)this.isThisParam(t.params[a])&&a>0&&this.raise(Pe.ThisParamMustBeFirst,t.params[a]);super.checkParams(t,i,s,n)}}parseParenAndDistinguishExpression(t){return super.parseParenAndDistinguishExpression(t&&!this.state.noArrowAt.includes(this.sourceToOffsetPos(this.state.start)))}parseSubscripts(t,i,s){if(t.type==="Identifier"&&t.name==="async"&&this.state.noArrowAt.includes(i.index)){this.next();const n=this.startNodeAt(i);n.callee=t,n.arguments=super.parseCallExpressionArguments(11),t=this.finishNode(n,"CallExpression")}else if(t.type==="Identifier"&&t.name==="async"&&this.match(47)){const n=this.state.clone(),a=this.tryParse(l=>this.parseAsyncArrowWithTypeParameters(i)||l(),n);if(!a.error&&!a.aborted)return a.node;const o=this.tryParse(()=>super.parseSubscripts(t,i,s),n);if(o.node&&!o.error)return o.node;if(a.node)return this.state=a.failState,a.node;if(o.node)return this.state=o.failState,o.node;throw a.error||o.error}return super.parseSubscripts(t,i,s)}parseSubscript(t,i,s,n){if(this.match(18)&&this.isLookaheadToken_lt()){if(n.optionalChainMember=!0,s)return n.stop=!0,t;this.next();const a=this.startNodeAt(i);return a.callee=t,a.typeArguments=this.flowParseTypeParameterInstantiation(),this.expect(10),a.arguments=this.parseCallExpressionArguments(11),a.optional=!0,this.finishCallExpression(a,!0)}else if(!s&&this.shouldParseTypes()&&this.match(47)){const a=this.startNodeAt(i);a.callee=t;const o=this.tryParse(()=>(a.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(10),a.arguments=super.parseCallExpressionArguments(11),n.optionalChainMember&&(a.optional=!1),this.finishCallExpression(a,n.optionalChainMember)));if(o.node)return o.error&&(this.state=o.failState),o.node}return super.parseSubscript(t,i,s,n)}parseNewCallee(t){super.parseNewCallee(t);let i=null;this.shouldParseTypes()&&this.match(47)&&(i=this.tryParse(()=>this.flowParseTypeParameterInstantiationCallOrNew()).node),t.typeArguments=i}parseAsyncArrowWithTypeParameters(t){const i=this.startNodeAt(t);if(this.parseFunctionParams(i,!1),!!this.parseArrow(i))return super.parseArrowExpression(i,void 0,!0)}readToken_mult_modulo(t){const i=this.input.charCodeAt(this.state.pos+1);if(t===42&&i===47&&this.state.hasFlowComment){this.state.hasFlowComment=!1,this.state.pos+=2,this.nextToken();return}super.readToken_mult_modulo(t)}readToken_pipe_amp(t){const i=this.input.charCodeAt(this.state.pos+1);if(t===124&&i===125){this.finishOp(9,2);return}super.readToken_pipe_amp(t)}parseTopLevel(t,i){const s=super.parseTopLevel(t,i);return this.state.hasFlowComment&&this.raise(Pe.UnterminatedFlowComment,this.state.curPosition()),s}skipBlockComment(){if(this.hasPlugin("flowComments")&&this.skipFlowComment()){if(this.state.hasFlowComment)throw this.raise(Pe.NestedFlowComment,this.state.startLoc);this.hasFlowCommentCompletion();const t=this.skipFlowComment();t&&(this.state.pos+=t,this.state.hasFlowComment=!0);return}return super.skipBlockComment(this.state.hasFlowComment?"*-/":"*/")}skipFlowComment(){const{pos:t}=this.state;let i=2;for(;[32,9].includes(this.input.charCodeAt(t+i));)i++;const s=this.input.charCodeAt(i+t),n=this.input.charCodeAt(i+t+1);return s===58&&n===58?i+2:this.input.slice(i+t,i+t+12)==="flow-include"?i+12:s===58&&n!==58?i:!1}hasFlowCommentCompletion(){if(this.input.indexOf("*/",this.state.pos)===-1)throw this.raise(C.UnterminatedComment,this.state.curPosition())}flowEnumErrorBooleanMemberNotInitialized(t,{enumName:i,memberName:s}){this.raise(Pe.EnumBooleanMemberNotInitialized,t,{memberName:s,enumName:i})}flowEnumErrorInvalidMemberInitializer(t,i){return this.raise(i.explicitType?i.explicitType==="symbol"?Pe.EnumInvalidMemberInitializerSymbolType:Pe.EnumInvalidMemberInitializerPrimaryType:Pe.EnumInvalidMemberInitializerUnknownType,t,i)}flowEnumErrorNumberMemberNotInitialized(t,i){this.raise(Pe.EnumNumberMemberNotInitialized,t,i)}flowEnumErrorStringMemberInconsistentlyInitialized(t,i){this.raise(Pe.EnumStringMemberInconsistentlyInitialized,t,i)}flowEnumMemberInit(){const t=this.state.startLoc,i=()=>this.match(12)||this.match(8);switch(this.state.type){case 135:{const s=this.parseNumericLiteral(this.state.value);return i()?{type:"number",loc:s.loc.start,value:s}:{type:"invalid",loc:t}}case 134:{const s=this.parseStringLiteral(this.state.value);return i()?{type:"string",loc:s.loc.start,value:s}:{type:"invalid",loc:t}}case 85:case 86:{const s=this.parseBooleanLiteral(this.match(85));return i()?{type:"boolean",loc:s.loc.start,value:s}:{type:"invalid",loc:t}}default:return{type:"invalid",loc:t}}}flowEnumMemberRaw(){const t=this.state.startLoc,i=this.parseIdentifier(!0),s=this.eat(29)?this.flowEnumMemberInit():{type:"none",loc:t};return{id:i,init:s}}flowEnumCheckExplicitTypeMismatch(t,i,s){const{explicitType:n}=i;n!==null&&n!==s&&this.flowEnumErrorInvalidMemberInitializer(t,i)}flowEnumMembers({enumName:t,explicitType:i}){const s=new Set,n={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]};let a=!1;for(;!this.match(8);){if(this.eat(21)){a=!0;break}const o=this.startNode(),{id:l,init:h}=this.flowEnumMemberRaw(),c=l.name;if(c==="")continue;/^[a-z]/.test(c)&&this.raise(Pe.EnumInvalidMemberName,l,{memberName:c,suggestion:c[0].toUpperCase()+c.slice(1),enumName:t}),s.has(c)&&this.raise(Pe.EnumDuplicateMemberName,l,{memberName:c,enumName:t}),s.add(c);const u={enumName:t,explicitType:i,memberName:c};switch(o.id=l,h.type){case"boolean":{this.flowEnumCheckExplicitTypeMismatch(h.loc,u,"boolean"),o.init=h.value,n.booleanMembers.push(this.finishNode(o,"EnumBooleanMember"));break}case"number":{this.flowEnumCheckExplicitTypeMismatch(h.loc,u,"number"),o.init=h.value,n.numberMembers.push(this.finishNode(o,"EnumNumberMember"));break}case"string":{this.flowEnumCheckExplicitTypeMismatch(h.loc,u,"string"),o.init=h.value,n.stringMembers.push(this.finishNode(o,"EnumStringMember"));break}case"invalid":throw this.flowEnumErrorInvalidMemberInitializer(h.loc,u);case"none":switch(i){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized(h.loc,u);break;case"number":this.flowEnumErrorNumberMemberNotInitialized(h.loc,u);break;default:n.defaultedMembers.push(this.finishNode(o,"EnumDefaultedMember"))}}this.match(8)||this.expect(12)}return{members:n,hasUnknownMembers:a}}flowEnumStringMembers(t,i,{enumName:s}){if(t.length===0)return i;if(i.length===0)return t;if(i.length>t.length){for(const n of t)this.flowEnumErrorStringMemberInconsistentlyInitialized(n,{enumName:s});return i}else{for(const n of i)this.flowEnumErrorStringMemberInconsistentlyInitialized(n,{enumName:s});return t}}flowEnumParseExplicitType({enumName:t}){if(!this.eatContextual(102))return null;if(!Ke(this.state.type))throw this.raise(Pe.EnumInvalidExplicitTypeUnknownSupplied,this.state.startLoc,{enumName:t});const{value:i}=this.state;return this.next(),i!=="boolean"&&i!=="number"&&i!=="string"&&i!=="symbol"&&this.raise(Pe.EnumInvalidExplicitType,this.state.startLoc,{enumName:t,invalidEnumType:i}),i}flowEnumBody(t,i){const s=i.name,n=i.loc.start,a=this.flowEnumParseExplicitType({enumName:s});this.expect(5);const{members:o,hasUnknownMembers:l}=this.flowEnumMembers({enumName:s,explicitType:a});switch(t.hasUnknownMembers=l,a){case"boolean":return t.explicitType=!0,t.members=o.booleanMembers,this.expect(8),this.finishNode(t,"EnumBooleanBody");case"number":return t.explicitType=!0,t.members=o.numberMembers,this.expect(8),this.finishNode(t,"EnumNumberBody");case"string":return t.explicitType=!0,t.members=this.flowEnumStringMembers(o.stringMembers,o.defaultedMembers,{enumName:s}),this.expect(8),this.finishNode(t,"EnumStringBody");case"symbol":return t.members=o.defaultedMembers,this.expect(8),this.finishNode(t,"EnumSymbolBody");default:{const h=()=>(t.members=[],this.expect(8),this.finishNode(t,"EnumStringBody"));t.explicitType=!1;const c=o.booleanMembers.length,u=o.numberMembers.length,p=o.stringMembers.length,m=o.defaultedMembers.length;if(!c&&!u&&!p&&!m)return h();if(!c&&!u)return t.members=this.flowEnumStringMembers(o.stringMembers,o.defaultedMembers,{enumName:s}),this.expect(8),this.finishNode(t,"EnumStringBody");if(!u&&!p&&c>=m){for(const g of o.defaultedMembers)this.flowEnumErrorBooleanMemberNotInitialized(g.loc.start,{enumName:s,memberName:g.id.name});return t.members=o.booleanMembers,this.expect(8),this.finishNode(t,"EnumBooleanBody")}else if(!c&&!p&&u>=m){for(const g of o.defaultedMembers)this.flowEnumErrorNumberMemberNotInitialized(g.loc.start,{enumName:s,memberName:g.id.name});return t.members=o.numberMembers,this.expect(8),this.finishNode(t,"EnumNumberBody")}else return this.raise(Pe.EnumInconsistentMemberValues,n,{enumName:s}),h()}}}flowParseEnumDeclaration(t){const i=this.parseIdentifier();return t.id=i,t.body=this.flowEnumBody(this.startNode(),i),this.finishNode(t,"EnumDeclaration")}isLookaheadToken_lt(){const t=this.nextTokenStart();if(this.input.charCodeAt(t)===60){const i=this.input.charCodeAt(t+1);return i!==60&&i!==61}return!1}maybeUnwrapTypeCastExpression(t){return t.type==="TypeCastExpression"?t.expression:t}};const Xk={__proto__:null,quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",lang:"\u2329",rang:"\u232A",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"},Vs=bs`jsx`({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression.",MissingClosingTagElement:({openingTagName:r})=>`Expected corresponding JSX closing tag for <${r}>.`,MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>.",UnexpectedSequenceExpression:"Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",UnexpectedToken:({unexpected:r,HTMLEntity:e})=>`Unexpected token \`${r}\`. Did you mean \`${e}\` or \`{'${r}'}\`?`,UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text.",UnterminatedJsxContent:"Unterminated JSX contents.",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"});function Cs(r){return r?r.type==="JSXOpeningFragment"||r.type==="JSXClosingFragment":!1}function xr(r){if(r.type==="JSXIdentifier")return r.name;if(r.type==="JSXNamespacedName")return r.namespace.name+":"+r.name.name;if(r.type==="JSXMemberExpression")return xr(r.object)+"."+xr(r.property);throw new Error("Node had unexpected type: "+r.type)}var qk=r=>class extends r{jsxReadToken(){let t="",i=this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(Vs.UnterminatedJsxContent,this.state.startLoc);const s=this.input.charCodeAt(this.state.pos);switch(s){case 60:case 123:if(this.state.pos===this.state.start){s===60&&this.state.canStartJSXElement?(++this.state.pos,this.finishToken(143)):super.getTokenFromCode(s);return}t+=this.input.slice(i,this.state.pos),this.finishToken(142,t);return;case 38:t+=this.input.slice(i,this.state.pos),t+=this.jsxReadEntity(),i=this.state.pos;break;case 62:case 125:default:Ir(s)?(t+=this.input.slice(i,this.state.pos),t+=this.jsxReadNewLine(!0),i=this.state.pos):++this.state.pos}}}jsxReadNewLine(t){const i=this.input.charCodeAt(this.state.pos);let s;return++this.state.pos,i===13&&this.input.charCodeAt(this.state.pos)===10?(++this.state.pos,s=t?`
`:`\r
`):s=String.fromCharCode(i),++this.state.curLine,this.state.lineStart=this.state.pos,s}jsxReadString(t){let i="",s=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(C.UnterminatedString,this.state.startLoc);const n=this.input.charCodeAt(this.state.pos);if(n===t)break;n===38?(i+=this.input.slice(s,this.state.pos),i+=this.jsxReadEntity(),s=this.state.pos):Ir(n)?(i+=this.input.slice(s,this.state.pos),i+=this.jsxReadNewLine(!1),s=this.state.pos):++this.state.pos}i+=this.input.slice(s,this.state.pos++),this.finishToken(134,i)}jsxReadEntity(){const t=++this.state.pos;if(this.codePointAtPos(this.state.pos)===35){++this.state.pos;let i=10;this.codePointAtPos(this.state.pos)===120&&(i=16,++this.state.pos);const s=this.readInt(i,void 0,!1,"bail");if(s!==null&&this.codePointAtPos(this.state.pos)===59)return++this.state.pos,String.fromCodePoint(s)}else{let i=0,s=!1;for(;i++<10&&this.state.pos<this.length&&!(s=this.codePointAtPos(this.state.pos)===59);)++this.state.pos;if(s){const n=this.input.slice(t,this.state.pos),a=Xk[n];if(++this.state.pos,a)return a}}return this.state.pos=t,"&"}jsxReadWord(){let t;const i=this.state.pos;do t=this.input.charCodeAt(++this.state.pos);while(Er(t)||t===45);this.finishToken(141,this.input.slice(i,this.state.pos))}jsxParseIdentifier(){const t=this.startNode();return this.match(141)?t.name=this.state.value:mc(this.state.type)?t.name=Rs(this.state.type):this.unexpected(),this.next(),this.finishNode(t,"JSXIdentifier")}jsxParseNamespacedName(){const t=this.state.startLoc,i=this.jsxParseIdentifier();if(!this.eat(14))return i;const s=this.startNodeAt(t);return s.namespace=i,s.name=this.jsxParseIdentifier(),this.finishNode(s,"JSXNamespacedName")}jsxParseElementName(){const t=this.state.startLoc;let i=this.jsxParseNamespacedName();if(i.type==="JSXNamespacedName")return i;for(;this.eat(16);){const s=this.startNodeAt(t);s.object=i,s.property=this.jsxParseIdentifier(),i=this.finishNode(s,"JSXMemberExpression")}return i}jsxParseAttributeValue(){let t;switch(this.state.type){case 5:return t=this.startNode(),this.setContext(ht.brace),this.next(),t=this.jsxParseExpressionContainer(t,ht.j_oTag),t.expression.type==="JSXEmptyExpression"&&this.raise(Vs.AttributeIsEmpty,t),t;case 143:case 134:return this.parseExprAtom();default:throw this.raise(Vs.UnsupportedJsxValue,this.state.startLoc)}}jsxParseEmptyExpression(){const t=this.startNodeAt(this.state.lastTokEndLoc);return this.finishNodeAt(t,"JSXEmptyExpression",this.state.startLoc)}jsxParseSpreadChild(t){return this.next(),t.expression=this.parseExpression(),this.setContext(ht.j_expr),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(t,"JSXSpreadChild")}jsxParseExpressionContainer(t,i){if(this.match(8))t.expression=this.jsxParseEmptyExpression();else{const s=this.parseExpression();t.expression=s}return this.setContext(i),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(t,"JSXExpressionContainer")}jsxParseAttribute(){const t=this.startNode();return this.match(5)?(this.setContext(ht.brace),this.next(),this.expect(21),t.argument=this.parseMaybeAssignAllowIn(),this.setContext(ht.j_oTag),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(t,"JSXSpreadAttribute")):(t.name=this.jsxParseNamespacedName(),t.value=this.eat(29)?this.jsxParseAttributeValue():null,this.finishNode(t,"JSXAttribute"))}jsxParseOpeningElementAt(t){const i=this.startNodeAt(t);return this.eat(144)?this.finishNode(i,"JSXOpeningFragment"):(i.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(i))}jsxParseOpeningElementAfterName(t){const i=[];for(;!this.match(56)&&!this.match(144);)i.push(this.jsxParseAttribute());return t.attributes=i,t.selfClosing=this.eat(56),this.expect(144),this.finishNode(t,"JSXOpeningElement")}jsxParseClosingElementAt(t){const i=this.startNodeAt(t);return this.eat(144)?this.finishNode(i,"JSXClosingFragment"):(i.name=this.jsxParseElementName(),this.expect(144),this.finishNode(i,"JSXClosingElement"))}jsxParseElementAt(t){const i=this.startNodeAt(t),s=[],n=this.jsxParseOpeningElementAt(t);let a=null;if(!n.selfClosing){e:for(;;)switch(this.state.type){case 143:if(t=this.state.startLoc,this.next(),this.eat(56)){a=this.jsxParseClosingElementAt(t);break e}s.push(this.jsxParseElementAt(t));break;case 142:s.push(this.parseLiteral(this.state.value,"JSXText"));break;case 5:{const o=this.startNode();this.setContext(ht.brace),this.next(),this.match(21)?s.push(this.jsxParseSpreadChild(o)):s.push(this.jsxParseExpressionContainer(o,ht.j_expr));break}default:this.unexpected()}Cs(n)&&!Cs(a)&&a!==null?this.raise(Vs.MissingClosingTagFragment,a):!Cs(n)&&Cs(a)?this.raise(Vs.MissingClosingTagElement,a,{openingTagName:xr(n.name)}):!Cs(n)&&!Cs(a)&&xr(a.name)!==xr(n.name)&&this.raise(Vs.MissingClosingTagElement,a,{openingTagName:xr(n.name)})}if(Cs(n)?(i.openingFragment=n,i.closingFragment=a):(i.openingElement=n,i.closingElement=a),i.children=s,this.match(47))throw this.raise(Vs.UnwrappedAdjacentJSXElements,this.state.startLoc);return Cs(n)?this.finishNode(i,"JSXFragment"):this.finishNode(i,"JSXElement")}jsxParseElement(){const t=this.state.startLoc;return this.next(),this.jsxParseElementAt(t)}setContext(t){const{context:i}=this.state;i[i.length-1]=t}parseExprAtom(t){return this.match(143)?this.jsxParseElement():this.match(47)&&this.input.charCodeAt(this.state.pos)!==33?(this.replaceToken(143),this.jsxParseElement()):super.parseExprAtom(t)}skipSpace(){this.curContext().preserveSpace||super.skipSpace()}getTokenFromCode(t){const i=this.curContext();if(i===ht.j_expr){this.jsxReadToken();return}if(i===ht.j_oTag||i===ht.j_cTag){if(ds(t)){this.jsxReadWord();return}if(t===62){++this.state.pos,this.finishToken(144);return}if((t===34||t===39)&&i===ht.j_oTag){this.jsxReadString(t);return}}if(t===60&&this.state.canStartJSXElement&&this.input.charCodeAt(this.state.pos+1)!==33){++this.state.pos,this.finishToken(143);return}super.getTokenFromCode(t)}updateContext(t){const{context:i,type:s}=this.state;if(s===56&&t===143)i.splice(-2,2,ht.j_cTag),this.state.canStartJSXElement=!1;else if(s===143)i.push(ht.j_oTag);else if(s===144){const n=i[i.length-1];n===ht.j_oTag&&t===56||n===ht.j_cTag?(i.pop(),this.state.canStartJSXElement=i[i.length-1]===ht.j_expr):(this.setContext(ht.j_expr),this.state.canStartJSXElement=!0)}else this.state.canStartJSXElement=Wx(s)}};class zk extends bc{constructor(...e){super(...e),this.tsNames=new Map}}class Uk extends yc{constructor(...e){super(...e),this.importsStack=[]}createScope(e){return this.importsStack.push(new Set),new zk(e)}enter(e){e===256&&this.importsStack.push(new Set),super.enter(e)}exit(){const e=super.exit();return e===256&&this.importsStack.pop(),e}hasImport(e,t){const i=this.importsStack.length;if(this.importsStack[i-1].has(e))return!0;if(!t&&i>1){for(let s=0;s<i-1;s++)if(this.importsStack[s].has(e))return!0}return!1}declareName(e,t,i){if(t&4096){this.hasImport(e,!0)&&this.parser.raise(C.VarRedeclaration,i,{identifierName:e}),this.importsStack[this.importsStack.length-1].add(e);return}const s=this.currentScope();let n=s.tsNames.get(e)||0;if(t&1024){this.maybeExportDefined(s,e),s.tsNames.set(e,n|16);return}super.declareName(e,t,i),t&2&&(t&1||(this.checkRedeclarationInScope(s,e,t,i),this.maybeExportDefined(s,e)),n=n|1),t&256&&(n=n|2),t&512&&(n=n|4),t&128&&(n=n|8),n&&s.tsNames.set(e,n)}isRedeclaredInScope(e,t,i){const s=e.tsNames.get(t);if((s&2)>0){if(i&256){const n=!!(i&512),a=(s&4)>0;return n!==a}return!0}return i&128&&(s&8)>0?e.names.get(t)&2?!!(i&1):!1:i&2&&(s&1)>0?!0:super.isRedeclaredInScope(e,t,i)}checkLocalExport(e){const{name:t}=e;if(this.hasImport(t))return;const i=this.scopeStack.length;for(let s=i-1;s>=0;s--){const a=this.scopeStack[s].tsNames.get(t);if((a&1)>0||(a&16)>0)return}super.checkLocalExport(e)}}const Bg=r=>r.type==="ParenthesizedExpression"?Bg(r.expression):r;class Vk extends Nk{toAssignable(e,t=!1){var i,s;let n;switch((e.type==="ParenthesizedExpression"||(i=e.extra)!=null&&i.parenthesized)&&(n=Bg(e),t?n.type==="Identifier"?this.expressionScope.recordArrowParameterBindingError(C.InvalidParenthesizedAssignment,e):n.type!=="MemberExpression"&&!this.isOptionalMemberExpression(n)&&this.raise(C.InvalidParenthesizedAssignment,e):this.raise(C.InvalidParenthesizedAssignment,e)),e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern";for(let o=0,l=e.properties.length,h=l-1;o<l;o++){var a;const c=e.properties[o],u=o===h;this.toAssignableObjectExpressionProp(c,u,t),u&&c.type==="RestElement"&&(a=e.extra)!=null&&a.trailingCommaLoc&&this.raise(C.RestTrailingComma,e.extra.trailingCommaLoc)}break;case"ObjectProperty":{const{key:o,value:l}=e;this.isPrivateName(o)&&this.classScope.usePrivateName(this.getPrivateNameSV(o),o.loc.start),this.toAssignable(l,t);break}case"SpreadElement":throw new Error("Internal @babel/parser error (this is a bug, please report it). SpreadElement should be converted by .toAssignable's caller.");case"ArrayExpression":e.type="ArrayPattern",this.toAssignableList(e.elements,(s=e.extra)==null?void 0:s.trailingCommaLoc,t);break;case"AssignmentExpression":e.operator!=="="&&this.raise(C.MissingEqInAssignment,e.left.loc.end),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(n,t);break}}toAssignableObjectExpressionProp(e,t,i){if(e.type==="ObjectMethod")this.raise(e.kind==="get"||e.kind==="set"?C.PatternHasAccessor:C.PatternHasMethod,e.key);else if(e.type==="SpreadElement"){e.type="RestElement";const s=e.argument;this.checkToRestConversion(s,!1),this.toAssignable(s,i),t||this.raise(C.RestTrailingComma,e)}else this.toAssignable(e,i)}toAssignableList(e,t,i){const s=e.length-1;for(let n=0;n<=s;n++){const a=e[n];if(!!a){if(a.type==="SpreadElement"){a.type="RestElement";const o=a.argument;this.checkToRestConversion(o,!0),this.toAssignable(o,i)}else this.toAssignable(a,i);a.type==="RestElement"&&(n<s?this.raise(C.RestTrailingComma,a):t&&this.raise(C.RestTrailingComma,t))}}}isAssignable(e,t){switch(e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":return!0;case"ObjectExpression":{const i=e.properties.length-1;return e.properties.every((s,n)=>s.type!=="ObjectMethod"&&(n===i||s.type!=="SpreadElement")&&this.isAssignable(s))}case"ObjectProperty":return this.isAssignable(e.value);case"SpreadElement":return this.isAssignable(e.argument);case"ArrayExpression":return e.elements.every(i=>i===null||this.isAssignable(i));case"AssignmentExpression":return e.operator==="=";case"ParenthesizedExpression":return this.isAssignable(e.expression);case"MemberExpression":case"OptionalMemberExpression":return!t;default:return!1}}toReferencedList(e,t){return e}toReferencedListDeep(e,t){this.toReferencedList(e,t);for(const i of e)(i==null?void 0:i.type)==="ArrayExpression"&&this.toReferencedListDeep(i.elements)}parseSpread(e){const t=this.startNode();return this.next(),t.argument=this.parseMaybeAssignAllowIn(e,void 0),this.finishNode(t,"SpreadElement")}parseRestBinding(){const e=this.startNode();return this.next(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")}parseBindingAtom(){switch(this.state.type){case 0:{const e=this.startNode();return this.next(),e.elements=this.parseBindingList(3,93,1),this.finishNode(e,"ArrayPattern")}case 5:return this.parseObjectLike(8,!0)}return this.parseIdentifier()}parseBindingList(e,t,i){const s=i&1,n=[];let a=!0;for(;!this.eat(e);)if(a?a=!1:this.expect(12),s&&this.match(12))n.push(null);else{if(this.eat(e))break;if(this.match(21)){let o=this.parseRestBinding();if((this.hasPlugin("flow")||i&2)&&(o=this.parseFunctionParamType(o)),n.push(o),!this.checkCommaAfterRest(t)){this.expect(e);break}}else{const o=[];for(this.match(26)&&this.hasPlugin("decorators")&&this.raise(C.UnsupportedParameterDecorator,this.state.startLoc);this.match(26);)o.push(this.parseDecorator());n.push(this.parseAssignableListItem(i,o))}}return n}parseBindingRestProperty(e){return this.next(),e.argument=this.parseIdentifier(),this.checkCommaAfterRest(125),this.finishNode(e,"RestElement")}parseBindingProperty(){const{type:e,startLoc:t}=this.state;if(e===21)return this.parseBindingRestProperty(this.startNode());const i=this.startNode();return e===139?(this.expectPlugin("destructuringPrivate",t),this.classScope.usePrivateName(this.state.value,t),i.key=this.parsePrivateName()):this.parsePropertyName(i),i.method=!1,this.parseObjPropValue(i,t,!1,!1,!0,!1)}parseAssignableListItem(e,t){const i=this.parseMaybeDefault();(this.hasPlugin("flow")||e&2)&&this.parseFunctionParamType(i);const s=this.parseMaybeDefault(i.loc.start,i);return t.length&&(i.decorators=t),s}parseFunctionParamType(e){return e}parseMaybeDefault(e,t){var i,s;if((i=e)!=null||(e=this.state.startLoc),t=(s=t)!=null?s:this.parseBindingAtom(),!this.eat(29))return t;const n=this.startNodeAt(e);return n.left=t,n.right=this.parseMaybeAssignAllowIn(),this.finishNode(n,"AssignmentPattern")}isValidLVal(e,t,i){switch(e){case"AssignmentPattern":return"left";case"RestElement":return"argument";case"ObjectProperty":return"value";case"ParenthesizedExpression":return"expression";case"ArrayPattern":return"elements";case"ObjectPattern":return"properties"}return!1}isOptionalMemberExpression(e){return e.type==="OptionalMemberExpression"}checkLVal(e,t,i=64,s=!1,n=!1,a=!1){var o;const l=e.type;if(this.isObjectMethod(e))return;const h=this.isOptionalMemberExpression(e);if(h||l==="MemberExpression"){h&&(this.expectPlugin("optionalChainingAssign",e.loc.start),t.type!=="AssignmentExpression"&&this.raise(C.InvalidLhsOptionalChaining,e,{ancestor:t})),i!==64&&this.raise(C.InvalidPropertyBindingPattern,e);return}if(l==="Identifier"){this.checkIdentifier(e,i,n);const{name:b}=e;s&&(s.has(b)?this.raise(C.ParamDupe,e):s.add(b));return}const c=this.isValidLVal(l,!(a||(o=e.extra)!=null&&o.parenthesized)&&t.type==="AssignmentExpression",i);if(c===!0)return;if(c===!1){const b=i===64?C.InvalidLhs:C.InvalidLhsBinding;this.raise(b,e,{ancestor:t});return}let u,p;typeof c=="string"?(u=c,p=l==="ParenthesizedExpression"):[u,p]=c;const m=l==="ArrayPattern"||l==="ObjectPattern"?{type:l}:t,g=e[u];if(Array.isArray(g))for(const b of g)b&&this.checkLVal(b,m,i,s,n,p);else g&&this.checkLVal(g,m,i,s,n,p)}checkIdentifier(e,t,i=!1){this.state.strict&&(i?Ng(e.name,this.inModule):$g(e.name))&&(t===64?this.raise(C.StrictEvalArguments,e,{referenceName:e.name}):this.raise(C.StrictEvalArgumentsBinding,e,{bindingName:e.name})),t&8192&&e.name==="let"&&this.raise(C.LetInLexicalBinding,e),t&64||this.declareNameFromIdentifier(e,t)}declareNameFromIdentifier(e,t){this.scope.declareName(e.name,t,e.loc.start)}checkToRestConversion(e,t){switch(e.type){case"ParenthesizedExpression":this.checkToRestConversion(e.expression,t);break;case"Identifier":case"MemberExpression":break;case"ArrayExpression":case"ObjectExpression":if(t)break;default:this.raise(C.InvalidRestAssignmentPattern,e)}}checkCommaAfterRest(e){return this.match(12)?(this.raise(this.lookaheadCharCode()===e?C.RestTrailingComma:C.ElementAfterRest,this.state.startLoc),!0):!1}}function Fk(r){if(r==null)throw new Error(`Unexpected ${r} value.`);return r}function Jp(r){if(!r)throw new Error("Assert fail")}const de=bs`typescript`({AbstractMethodHasImplementation:({methodName:r})=>`Method '${r}' cannot have an implementation because it is marked abstract.`,AbstractPropertyHasInitializer:({propertyName:r})=>`Property '${r}' cannot have an initializer because it is marked abstract.`,AccessorCannotBeOptional:"An 'accessor' property cannot be declared optional.",AccessorCannotDeclareThisParameter:"'get' and 'set' accessors cannot declare 'this' parameters.",AccessorCannotHaveTypeParameters:"An accessor cannot have type parameters.",ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier.",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier.",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"A 'const' initializer in an ambient context must be a string or numeric literal or literal enum reference.",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareAccessor:({kind:r})=>`'declare' is not allowed in ${r}ters.`,DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateAccessibilityModifier:({modifier:r})=>"Accessibility modifier already seen.",DuplicateModifier:({modifier:r})=>`Duplicate modifier: '${r}'.`,EmptyHeritageClauseType:({token:r})=>`'${r}' list cannot be empty.`,EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",ExpectedAmbientAfterExportDeclare:"'export declare' must be followed by an ambient declaration.",ImportAliasHasImportType:"An import alias can not use 'import type'.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` modifier",IncompatibleModifiers:({modifiers:r})=>`'${r[0]}' modifier cannot be used with '${r[1]}' modifier.`,IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier.",IndexSignatureHasAccessibility:({modifier:r})=>`Index signatures cannot have an accessibility modifier ('${r}').`,IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier.",IndexSignatureHasOverride:"'override' modifier cannot appear on an index signature.",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier.",InitializerNotAllowedInAmbientContext:"Initializers are not allowed in ambient contexts.",InvalidModifierOnTypeMember:({modifier:r})=>`'${r}' modifier cannot appear on a type member.`,InvalidModifierOnTypeParameter:({modifier:r})=>`'${r}' modifier cannot appear on a type parameter.`,InvalidModifierOnTypeParameterPositions:({modifier:r})=>`'${r}' modifier can only appear on a type parameter of a class, interface or type alias.`,InvalidModifiersOrder:({orderedModifiers:r})=>`'${r[0]}' modifier must precede '${r[1]}' modifier.`,InvalidPropertyAccessAfterInstantiationExpression:"Invalid property access after an instantiation expression. You can either wrap the instantiation expression in parentheses, or delete the type arguments.",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MissingInterfaceName:"'interface' declarations must be followed by an identifier.",NonAbstractClassHasAbstractMethod:"Abstract methods can only appear within an abstract class.",NonClassMethodPropertyHasAbstractModifer:"'abstract' modifier can only appear on a class, method, or property declaration.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",OverrideNotInSubClass:"This member cannot have an 'override' modifier because its containing class does not extend another class.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:({modifier:r})=>`Private elements cannot have an accessibility modifier ('${r}').`,ReadonlyForMethodSignature:"'readonly' modifier can only appear on a property declaration or index signature.",ReservedArrowTypeParam:"This syntax is reserved in files with the .mts or .cts extension. Add a trailing comma, as in `<T,>() => ...`.",ReservedTypeAssertion:"This syntax is reserved in files with the .mts or .cts extension. Use an `as` expression instead.",SetAccessorCannotHaveOptionalParameter:"A 'set' accessor cannot have an optional parameter.",SetAccessorCannotHaveRestParameter:"A 'set' accessor cannot have rest parameter.",SetAccessorCannotHaveReturnType:"A 'set' accessor cannot have a return type annotation.",SingleTypeParameterWithoutTrailingComma:({typeParameterName:r})=>`Single type parameter ${r} should have a trailing comma. Example usage: <${r},>.`,StaticBlockCannotHaveModifier:"Static class blocks cannot have any modifier.",TupleOptionalAfterType:"A labeled tuple optional element must be declared using a question mark after the name and before the colon (`name?: type`), rather than after the type (`name: type?`).",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeImportCannotSpecifyDefaultAndNamed:"A type-only import can specify a default import or named bindings, but not both.",TypeModifierIsUsedInTypeExports:"The 'type' modifier cannot be used on a named export when 'export type' is used on its export statement.",TypeModifierIsUsedInTypeImports:"The 'type' modifier cannot be used on a named import when 'import type' is used on its import statement.",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal.",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:({type:r})=>`Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got ${r}.`});function Wk(r){switch(r){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return}}function ed(r){return r==="private"||r==="public"||r==="protected"}function Hk(r){return r==="in"||r==="out"}var Yk=r=>class extends r{constructor(...t){super(...t),this.tsParseInOutModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out"],disallowedModifiers:["const","public","private","protected","readonly","declare","abstract","override"],errorTemplate:de.InvalidModifierOnTypeParameter}),this.tsParseConstModifier=this.tsParseModifiers.bind(this,{allowedModifiers:["const"],disallowedModifiers:["in","out"],errorTemplate:de.InvalidModifierOnTypeParameterPositions}),this.tsParseInOutConstModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out","const"],disallowedModifiers:["public","private","protected","readonly","declare","abstract","override"],errorTemplate:de.InvalidModifierOnTypeParameter})}getScopeHandler(){return Uk}tsIsIdentifier(){return Ke(this.state.type)}tsTokenCanFollowModifier(){return this.match(0)||this.match(5)||this.match(55)||this.match(21)||this.match(139)||this.isLiteralPropertyName()}tsNextTokenOnSameLineAndCanFollowModifier(){return this.next(),this.hasPrecedingLineBreak()?!1:this.tsTokenCanFollowModifier()}tsNextTokenCanFollowModifier(){return this.match(106)?(this.next(),this.tsTokenCanFollowModifier()):this.tsNextTokenOnSameLineAndCanFollowModifier()}tsParseModifier(t,i){if(!Ke(this.state.type)&&this.state.type!==58&&this.state.type!==75)return;const s=this.state.value;if(t.includes(s)){if(i&&this.tsIsStartOfStaticBlocks())return;if(this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this)))return s}}tsParseModifiers({allowedModifiers:t,disallowedModifiers:i,stopOnStartOfClassStaticBlock:s,errorTemplate:n=de.InvalidModifierOnTypeMember},a){const o=(h,c,u,p)=>{c===u&&a[p]&&this.raise(de.InvalidModifiersOrder,h,{orderedModifiers:[u,p]})},l=(h,c,u,p)=>{(a[u]&&c===p||a[p]&&c===u)&&this.raise(de.IncompatibleModifiers,h,{modifiers:[u,p]})};for(;;){const{startLoc:h}=this.state,c=this.tsParseModifier(t.concat(i!=null?i:[]),s);if(!c)break;ed(c)?a.accessibility?this.raise(de.DuplicateAccessibilityModifier,h,{modifier:c}):(o(h,c,c,"override"),o(h,c,c,"static"),o(h,c,c,"readonly"),a.accessibility=c):Hk(c)?(a[c]&&this.raise(de.DuplicateModifier,h,{modifier:c}),a[c]=!0,o(h,c,"in","out")):(hasOwnProperty.call(a,c)?this.raise(de.DuplicateModifier,h,{modifier:c}):(o(h,c,"static","readonly"),o(h,c,"static","override"),o(h,c,"override","readonly"),o(h,c,"abstract","override"),l(h,c,"declare","override"),l(h,c,"static","abstract")),a[c]=!0),i!=null&&i.includes(c)&&this.raise(n,h,{modifier:c})}}tsIsListTerminator(t){switch(t){case"EnumMembers":case"TypeMembers":return this.match(8);case"HeritageClauseElement":return this.match(5);case"TupleElementTypes":return this.match(3);case"TypeParametersOrArguments":return this.match(48)}}tsParseList(t,i){const s=[];for(;!this.tsIsListTerminator(t);)s.push(i());return s}tsParseDelimitedList(t,i,s){return Fk(this.tsParseDelimitedListWorker(t,i,!0,s))}tsParseDelimitedListWorker(t,i,s,n){const a=[];let o=-1;for(;!this.tsIsListTerminator(t);){o=-1;const l=i();if(l==null)return;if(a.push(l),this.eat(12)){o=this.state.lastTokStartLoc.index;continue}if(this.tsIsListTerminator(t))break;s&&this.expect(12);return}return n&&(n.value=o),a}tsParseBracketedList(t,i,s,n,a){n||(s?this.expect(0):this.expect(47));const o=this.tsParseDelimitedList(t,i,a);return s?this.expect(3):this.expect(48),o}tsParseImportType(){const t=this.startNode();return this.expect(83),this.expect(10),this.match(134)||this.raise(de.UnsupportedImportTypeArgument,this.state.startLoc),t.argument=super.parseExprAtom(),this.eat(12)&&!this.match(11)?(t.options=super.parseMaybeAssignAllowIn(),this.eat(12)):t.options=null,this.expect(11),this.eat(16)&&(t.qualifier=this.tsParseEntityName()),this.match(47)&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSImportType")}tsParseEntityName(t=!0){let i=this.parseIdentifier(t);for(;this.eat(16);){const s=this.startNodeAtNode(i);s.left=i,s.right=this.parseIdentifier(t),i=this.finishNode(s,"TSQualifiedName")}return i}tsParseTypeReference(){const t=this.startNode();return t.typeName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSTypeReference")}tsParseThisTypePredicate(t){this.next();const i=this.startNodeAtNode(t);return i.parameterName=t,i.typeAnnotation=this.tsParseTypeAnnotation(!1),i.asserts=!1,this.finishNode(i,"TSTypePredicate")}tsParseThisTypeNode(){const t=this.startNode();return this.next(),this.finishNode(t,"TSThisType")}tsParseTypeQuery(){const t=this.startNode();return this.expect(87),this.match(83)?t.exprName=this.tsParseImportType():t.exprName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSTypeQuery")}tsParseTypeParameter(t){const i=this.startNode();return t(i),i.name=this.tsParseTypeParameterName(),i.constraint=this.tsEatThenParseType(81),i.default=this.tsEatThenParseType(29),this.finishNode(i,"TSTypeParameter")}tsTryParseTypeParameters(t){if(this.match(47))return this.tsParseTypeParameters(t)}tsParseTypeParameters(t){const i=this.startNode();this.match(47)||this.match(143)?this.next():this.unexpected();const s={value:-1};return i.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this,t),!1,!0,s),i.params.length===0&&this.raise(de.EmptyTypeParameters,i),s.value!==-1&&this.addExtra(i,"trailingComma",s.value),this.finishNode(i,"TSTypeParameterDeclaration")}tsFillSignature(t,i){const s=t===19,n="parameters",a="typeAnnotation";i.typeParameters=this.tsTryParseTypeParameters(this.tsParseConstModifier),this.expect(10),i[n]=this.tsParseBindingListForSignature(),s?i[a]=this.tsParseTypeOrTypePredicateAnnotation(t):this.match(t)&&(i[a]=this.tsParseTypeOrTypePredicateAnnotation(t))}tsParseBindingListForSignature(){const t=super.parseBindingList(11,41,2);for(const i of t){const{type:s}=i;(s==="AssignmentPattern"||s==="TSParameterProperty")&&this.raise(de.UnsupportedSignatureParameterKind,i,{type:s})}return t}tsParseTypeMemberSemicolon(){!this.eat(12)&&!this.isLineTerminator()&&this.expect(13)}tsParseSignatureMember(t,i){return this.tsFillSignature(14,i),this.tsParseTypeMemberSemicolon(),this.finishNode(i,t)}tsIsUnambiguouslyIndexSignature(){return this.next(),Ke(this.state.type)?(this.next(),this.match(14)):!1}tsTryParseIndexSignature(t){if(!(this.match(0)&&this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this))))return;this.expect(0);const i=this.parseIdentifier();i.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(i),this.expect(3),t.parameters=[i];const s=this.tsTryParseTypeAnnotation();return s&&(t.typeAnnotation=s),this.tsParseTypeMemberSemicolon(),this.finishNode(t,"TSIndexSignature")}tsParsePropertyOrMethodSignature(t,i){this.eat(17)&&(t.optional=!0);const s=t;if(this.match(10)||this.match(47)){i&&this.raise(de.ReadonlyForMethodSignature,t);const n=s;n.kind&&this.match(47)&&this.raise(de.AccessorCannotHaveTypeParameters,this.state.curPosition()),this.tsFillSignature(14,n),this.tsParseTypeMemberSemicolon();const a="parameters",o="typeAnnotation";if(n.kind==="get")n[a].length>0&&(this.raise(C.BadGetterArity,this.state.curPosition()),this.isThisParam(n[a][0])&&this.raise(de.AccessorCannotDeclareThisParameter,this.state.curPosition()));else if(n.kind==="set"){if(n[a].length!==1)this.raise(C.BadSetterArity,this.state.curPosition());else{const l=n[a][0];this.isThisParam(l)&&this.raise(de.AccessorCannotDeclareThisParameter,this.state.curPosition()),l.type==="Identifier"&&l.optional&&this.raise(de.SetAccessorCannotHaveOptionalParameter,this.state.curPosition()),l.type==="RestElement"&&this.raise(de.SetAccessorCannotHaveRestParameter,this.state.curPosition())}n[o]&&this.raise(de.SetAccessorCannotHaveReturnType,n[o])}else n.kind="method";return this.finishNode(n,"TSMethodSignature")}else{const n=s;i&&(n.readonly=!0);const a=this.tsTryParseTypeAnnotation();return a&&(n.typeAnnotation=a),this.tsParseTypeMemberSemicolon(),this.finishNode(n,"TSPropertySignature")}}tsParseTypeMember(){const t=this.startNode();if(this.match(10)||this.match(47))return this.tsParseSignatureMember("TSCallSignatureDeclaration",t);if(this.match(77)){const s=this.startNode();return this.next(),this.match(10)||this.match(47)?this.tsParseSignatureMember("TSConstructSignatureDeclaration",t):(t.key=this.createIdentifier(s,"new"),this.tsParsePropertyOrMethodSignature(t,!1))}this.tsParseModifiers({allowedModifiers:["readonly"],disallowedModifiers:["declare","abstract","private","protected","public","static","override"]},t);const i=this.tsTryParseIndexSignature(t);return i||(super.parsePropertyName(t),!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.tsTokenCanFollowModifier()&&(t.kind=t.key.name,super.parsePropertyName(t)),this.tsParsePropertyOrMethodSignature(t,!!t.readonly))}tsParseTypeLiteral(){const t=this.startNode();return t.members=this.tsParseObjectTypeMembers(),this.finishNode(t,"TSTypeLiteral")}tsParseObjectTypeMembers(){this.expect(5);const t=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(8),t}tsIsStartOfMappedType(){return this.next(),this.eat(53)?this.isContextual(122):(this.isContextual(122)&&this.next(),!this.match(0)||(this.next(),!this.tsIsIdentifier())?!1:(this.next(),this.match(58)))}tsParseMappedType(){const t=this.startNode();this.expect(5),this.match(53)?(t.readonly=this.state.value,this.next(),this.expectContextual(122)):this.eatContextual(122)&&(t.readonly=!0),this.expect(0);{const i=this.startNode();i.name=this.tsParseTypeParameterName(),i.constraint=this.tsExpectThenParseType(58),t.typeParameter=this.finishNode(i,"TSTypeParameter")}return t.nameType=this.eatContextual(93)?this.tsParseType():null,this.expect(3),this.match(53)?(t.optional=this.state.value,this.next(),this.expect(17)):this.eat(17)&&(t.optional=!0),t.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(8),this.finishNode(t,"TSMappedType")}tsParseTupleType(){const t=this.startNode();t.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);let i=!1;return t.elementTypes.forEach(s=>{const{type:n}=s;i&&n!=="TSRestType"&&n!=="TSOptionalType"&&!(n==="TSNamedTupleMember"&&s.optional)&&this.raise(de.OptionalTypeBeforeRequired,s),i||(i=n==="TSNamedTupleMember"&&s.optional||n==="TSOptionalType")}),this.finishNode(t,"TSTupleType")}tsParseTupleElementType(){const{startLoc:t}=this.state,i=this.eat(21);let s,n,a,o;const h=Xi(this.state.type)?this.lookaheadCharCode():null;if(h===58)s=!0,a=!1,n=this.parseIdentifier(!0),this.expect(14),o=this.tsParseType();else if(h===63){a=!0;const c=this.state.startLoc,u=this.state.value,p=this.tsParseNonArrayType();this.lookaheadCharCode()===58?(s=!0,n=this.createIdentifier(this.startNodeAt(c),u),this.expect(17),this.expect(14),o=this.tsParseType()):(s=!1,o=p,this.expect(17))}else o=this.tsParseType(),a=this.eat(17),s=this.eat(14);if(s){let c;n?(c=this.startNodeAtNode(n),c.optional=a,c.label=n,c.elementType=o,this.eat(17)&&(c.optional=!0,this.raise(de.TupleOptionalAfterType,this.state.lastTokStartLoc))):(c=this.startNodeAtNode(o),c.optional=a,this.raise(de.InvalidTupleMemberLabel,o),c.label=o,c.elementType=this.tsParseType()),o=this.finishNode(c,"TSNamedTupleMember")}else if(a){const c=this.startNodeAtNode(o);c.typeAnnotation=o,o=this.finishNode(c,"TSOptionalType")}if(i){const c=this.startNodeAt(t);c.typeAnnotation=o,o=this.finishNode(c,"TSRestType")}return o}tsParseParenthesizedType(){const t=this.startNode();return this.expect(10),t.typeAnnotation=this.tsParseType(),this.expect(11),this.finishNode(t,"TSParenthesizedType")}tsParseFunctionOrConstructorType(t,i){const s=this.startNode();return t==="TSConstructorType"&&(s.abstract=!!i,i&&this.next(),this.next()),this.tsInAllowConditionalTypesContext(()=>this.tsFillSignature(19,s)),this.finishNode(s,t)}tsParseLiteralTypeNode(){const t=this.startNode();switch(this.state.type){case 135:case 136:case 134:case 85:case 86:t.literal=super.parseExprAtom();break;default:this.unexpected()}return this.finishNode(t,"TSLiteralType")}tsParseTemplateLiteralType(){const t=this.startNode();return t.literal=super.parseTemplate(!1),this.finishNode(t,"TSLiteralType")}parseTemplateSubstitution(){return this.state.inType?this.tsParseType():super.parseTemplateSubstitution()}tsParseThisTypeOrThisTypePredicate(){const t=this.tsParseThisTypeNode();return this.isContextual(116)&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(t):t}tsParseNonArrayType(){switch(this.state.type){case 134:case 135:case 136:case 85:case 86:return this.tsParseLiteralTypeNode();case 53:if(this.state.value==="-"){const t=this.startNode(),i=this.lookahead();return i.type!==135&&i.type!==136&&this.unexpected(),t.literal=this.parseMaybeUnary(),this.finishNode(t,"TSLiteralType")}break;case 78:return this.tsParseThisTypeOrThisTypePredicate();case 87:return this.tsParseTypeQuery();case 83:return this.tsParseImportType();case 5:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case 0:return this.tsParseTupleType();case 10:return this.tsParseParenthesizedType();case 25:case 24:return this.tsParseTemplateLiteralType();default:{const{type:t}=this.state;if(Ke(t)||t===88||t===84){const i=t===88?"TSVoidKeyword":t===84?"TSNullKeyword":Wk(this.state.value);if(i!==void 0&&this.lookaheadCharCode()!==46){const s=this.startNode();return this.next(),this.finishNode(s,i)}return this.tsParseTypeReference()}}}this.unexpected()}tsParseArrayTypeOrHigher(){let t=this.tsParseNonArrayType();for(;!this.hasPrecedingLineBreak()&&this.eat(0);)if(this.match(3)){const i=this.startNodeAtNode(t);i.elementType=t,this.expect(3),t=this.finishNode(i,"TSArrayType")}else{const i=this.startNodeAtNode(t);i.objectType=t,i.indexType=this.tsParseType(),this.expect(3),t=this.finishNode(i,"TSIndexedAccessType")}return t}tsParseTypeOperator(){const t=this.startNode(),i=this.state.value;return this.next(),t.operator=i,t.typeAnnotation=this.tsParseTypeOperatorOrHigher(),i==="readonly"&&this.tsCheckTypeAnnotationForReadOnly(t),this.finishNode(t,"TSTypeOperator")}tsCheckTypeAnnotationForReadOnly(t){switch(t.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(de.UnexpectedReadonly,t)}}tsParseInferType(){const t=this.startNode();this.expectContextual(115);const i=this.startNode();return i.name=this.tsParseTypeParameterName(),i.constraint=this.tsTryParse(()=>this.tsParseConstraintForInferType()),t.typeParameter=this.finishNode(i,"TSTypeParameter"),this.finishNode(t,"TSInferType")}tsParseConstraintForInferType(){if(this.eat(81)){const t=this.tsInDisallowConditionalTypesContext(()=>this.tsParseType());if(this.state.inDisallowConditionalTypesContext||!this.match(17))return t}}tsParseTypeOperatorOrHigher(){return ek(this.state.type)&&!this.state.containsEsc?this.tsParseTypeOperator():this.isContextual(115)?this.tsParseInferType():this.tsInAllowConditionalTypesContext(()=>this.tsParseArrayTypeOrHigher())}tsParseUnionOrIntersectionType(t,i,s){const n=this.startNode(),a=this.eat(s),o=[];do o.push(i());while(this.eat(s));return o.length===1&&!a?o[0]:(n.types=o,this.finishNode(n,t))}tsParseIntersectionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),45)}tsParseUnionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),43)}tsIsStartOfFunctionType(){return this.match(47)?!0:this.match(10)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))}tsSkipParameterStart(){if(Ke(this.state.type)||this.match(78))return this.next(),!0;if(this.match(5)){const{errors:t}=this.state,i=t.length;try{return this.parseObjectLike(8,!0),t.length===i}catch{return!1}}if(this.match(0)){this.next();const{errors:t}=this.state,i=t.length;try{return super.parseBindingList(3,93,1),t.length===i}catch{return!1}}return!1}tsIsUnambiguouslyStartOfFunctionType(){return this.next(),!!(this.match(11)||this.match(21)||this.tsSkipParameterStart()&&(this.match(14)||this.match(12)||this.match(17)||this.match(29)||this.match(11)&&(this.next(),this.match(19))))}tsParseTypeOrTypePredicateAnnotation(t){return this.tsInType(()=>{const i=this.startNode();this.expect(t);const s=this.startNode(),n=!!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));if(n&&this.match(78)){let l=this.tsParseThisTypeOrThisTypePredicate();return l.type==="TSThisType"?(s.parameterName=l,s.asserts=!0,s.typeAnnotation=null,l=this.finishNode(s,"TSTypePredicate")):(this.resetStartLocationFromNode(l,s),l.asserts=!0),i.typeAnnotation=l,this.finishNode(i,"TSTypeAnnotation")}const a=this.tsIsIdentifier()&&this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));if(!a)return n?(s.parameterName=this.parseIdentifier(),s.asserts=n,s.typeAnnotation=null,i.typeAnnotation=this.finishNode(s,"TSTypePredicate"),this.finishNode(i,"TSTypeAnnotation")):this.tsParseTypeAnnotation(!1,i);const o=this.tsParseTypeAnnotation(!1);return s.parameterName=a,s.typeAnnotation=o,s.asserts=n,i.typeAnnotation=this.finishNode(s,"TSTypePredicate"),this.finishNode(i,"TSTypeAnnotation")})}tsTryParseTypeOrTypePredicateAnnotation(){if(this.match(14))return this.tsParseTypeOrTypePredicateAnnotation(14)}tsTryParseTypeAnnotation(){if(this.match(14))return this.tsParseTypeAnnotation()}tsTryParseType(){return this.tsEatThenParseType(14)}tsParseTypePredicatePrefix(){const t=this.parseIdentifier();if(this.isContextual(116)&&!this.hasPrecedingLineBreak())return this.next(),t}tsParseTypePredicateAsserts(){if(this.state.type!==109)return!1;const t=this.state.containsEsc;return this.next(),!Ke(this.state.type)&&!this.match(78)?!1:(t&&this.raise(C.InvalidEscapedReservedWord,this.state.lastTokStartLoc,{reservedWord:"asserts"}),!0)}tsParseTypeAnnotation(t=!0,i=this.startNode()){return this.tsInType(()=>{t&&this.expect(14),i.typeAnnotation=this.tsParseType()}),this.finishNode(i,"TSTypeAnnotation")}tsParseType(){Jp(this.state.inType);const t=this.tsParseNonConditionalType();if(this.state.inDisallowConditionalTypesContext||this.hasPrecedingLineBreak()||!this.eat(81))return t;const i=this.startNodeAtNode(t);return i.checkType=t,i.extendsType=this.tsInDisallowConditionalTypesContext(()=>this.tsParseNonConditionalType()),this.expect(17),i.trueType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.expect(14),i.falseType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.finishNode(i,"TSConditionalType")}isAbstractConstructorSignature(){return this.isContextual(124)&&this.lookahead().type===77}tsParseNonConditionalType(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(77)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.isAbstractConstructorSignature()?this.tsParseFunctionOrConstructorType("TSConstructorType",!0):this.tsParseUnionTypeOrHigher()}tsParseTypeAssertion(){this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(de.ReservedTypeAssertion,this.state.startLoc);const t=this.startNode();return t.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?this.tsParseTypeReference():this.tsParseType())),this.expect(48),t.expression=this.parseMaybeUnary(),this.finishNode(t,"TSTypeAssertion")}tsParseHeritageClause(t){const i=this.state.startLoc,s=this.tsParseDelimitedList("HeritageClauseElement",()=>{const n=this.startNode();return n.expression=this.tsParseEntityName(),this.match(47)&&(n.typeParameters=this.tsParseTypeArguments()),this.finishNode(n,"TSExpressionWithTypeArguments")});return s.length||this.raise(de.EmptyHeritageClauseType,i,{token:t}),s}tsParseInterfaceDeclaration(t,i={}){if(this.hasFollowingLineBreak())return null;this.expectContextual(129),i.declare&&(t.declare=!0),Ke(this.state.type)?(t.id=this.parseIdentifier(),this.checkIdentifier(t.id,130)):(t.id=null,this.raise(de.MissingInterfaceName,this.state.startLoc)),t.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers),this.eat(81)&&(t.extends=this.tsParseHeritageClause("extends"));const s=this.startNode();return s.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),t.body=this.finishNode(s,"TSInterfaceBody"),this.finishNode(t,"TSInterfaceDeclaration")}tsParseTypeAliasDeclaration(t){return t.id=this.parseIdentifier(),this.checkIdentifier(t.id,2),t.typeAnnotation=this.tsInType(()=>{if(t.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutModifiers),this.expect(29),this.isContextual(114)&&this.lookahead().type!==16){const i=this.startNode();return this.next(),this.finishNode(i,"TSIntrinsicKeyword")}return this.tsParseType()}),this.semicolon(),this.finishNode(t,"TSTypeAliasDeclaration")}tsInNoContext(t){const i=this.state.context;this.state.context=[i[0]];try{return t()}finally{this.state.context=i}}tsInType(t){const i=this.state.inType;this.state.inType=!0;try{return t()}finally{this.state.inType=i}}tsInDisallowConditionalTypesContext(t){const i=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!0;try{return t()}finally{this.state.inDisallowConditionalTypesContext=i}}tsInAllowConditionalTypesContext(t){const i=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!1;try{return t()}finally{this.state.inDisallowConditionalTypesContext=i}}tsEatThenParseType(t){if(this.match(t))return this.tsNextThenParseType()}tsExpectThenParseType(t){return this.tsInType(()=>(this.expect(t),this.tsParseType()))}tsNextThenParseType(){return this.tsInType(()=>(this.next(),this.tsParseType()))}tsParseEnumMember(){const t=this.startNode();return t.id=this.match(134)?super.parseStringLiteral(this.state.value):this.parseIdentifier(!0),this.eat(29)&&(t.initializer=super.parseMaybeAssignAllowIn()),this.finishNode(t,"TSEnumMember")}tsParseEnumDeclaration(t,i={}){return i.const&&(t.const=!0),i.declare&&(t.declare=!0),this.expectContextual(126),t.id=this.parseIdentifier(),this.checkIdentifier(t.id,t.const?8971:8459),this.expect(5),t.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(t,"TSEnumDeclaration")}tsParseModuleBlock(){const t=this.startNode();return this.scope.enter(0),this.expect(5),super.parseBlockOrModuleBlockBody(t.body=[],void 0,!0,8),this.scope.exit(),this.finishNode(t,"TSModuleBlock")}tsParseModuleOrNamespaceDeclaration(t,i=!1){if(t.id=this.parseIdentifier(),i||this.checkIdentifier(t.id,1024),this.eat(16)){const s=this.startNode();this.tsParseModuleOrNamespaceDeclaration(s,!0),t.body=s}else this.scope.enter(256),this.prodParam.enter(0),t.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(t,"TSModuleDeclaration")}tsParseAmbientExternalModuleDeclaration(t){return this.isContextual(112)?(t.kind="global",t.global=!0,t.id=this.parseIdentifier()):this.match(134)?(t.kind="module",t.id=super.parseStringLiteral(this.state.value)):this.unexpected(),this.match(5)?(this.scope.enter(256),this.prodParam.enter(0),t.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit()):this.semicolon(),this.finishNode(t,"TSModuleDeclaration")}tsParseImportEqualsDeclaration(t,i,s){t.isExport=s||!1,t.id=i||this.parseIdentifier(),this.checkIdentifier(t.id,4096),this.expect(29);const n=this.tsParseModuleReference();return t.importKind==="type"&&n.type!=="TSExternalModuleReference"&&this.raise(de.ImportAliasHasImportType,n),t.moduleReference=n,this.semicolon(),this.finishNode(t,"TSImportEqualsDeclaration")}tsIsExternalModuleReference(){return this.isContextual(119)&&this.lookaheadCharCode()===40}tsParseModuleReference(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(!1)}tsParseExternalModuleReference(){const t=this.startNode();return this.expectContextual(119),this.expect(10),this.match(134)||this.unexpected(),t.expression=super.parseExprAtom(),this.expect(11),this.sawUnambiguousESM=!0,this.finishNode(t,"TSExternalModuleReference")}tsLookAhead(t){const i=this.state.clone(),s=t();return this.state=i,s}tsTryParseAndCatch(t){const i=this.tryParse(s=>t()||s());if(!(i.aborted||!i.node))return i.error&&(this.state=i.failState),i.node}tsTryParse(t){const i=this.state.clone(),s=t();if(s!==void 0&&s!==!1)return s;this.state=i}tsTryParseDeclare(t){if(this.isLineTerminator())return;let i=this.state.type,s;return this.isContextual(100)&&(i=74,s="let"),this.tsInAmbientContext(()=>{switch(i){case 68:return t.declare=!0,super.parseFunctionStatement(t,!1,!1);case 80:return t.declare=!0,this.parseClass(t,!0,!1);case 126:return this.tsParseEnumDeclaration(t,{declare:!0});case 112:return this.tsParseAmbientExternalModuleDeclaration(t);case 75:case 74:return!this.match(75)||!this.isLookaheadContextual("enum")?(t.declare=!0,this.parseVarStatement(t,s||this.state.value,!0)):(this.expect(75),this.tsParseEnumDeclaration(t,{const:!0,declare:!0}));case 129:{const n=this.tsParseInterfaceDeclaration(t,{declare:!0});if(n)return n}default:if(Ke(i))return this.tsParseDeclaration(t,this.state.value,!0,null)}})}tsTryParseExportDeclaration(){return this.tsParseDeclaration(this.startNode(),this.state.value,!0,null)}tsParseExpressionStatement(t,i,s){switch(i.name){case"declare":{const n=this.tsTryParseDeclare(t);return n&&(n.declare=!0),n}case"global":if(this.match(5)){this.scope.enter(256),this.prodParam.enter(0);const n=t;return n.kind="global",t.global=!0,n.id=i,n.body=this.tsParseModuleBlock(),this.scope.exit(),this.prodParam.exit(),this.finishNode(n,"TSModuleDeclaration")}break;default:return this.tsParseDeclaration(t,i.name,!1,s)}}tsParseDeclaration(t,i,s,n){switch(i){case"abstract":if(this.tsCheckLineTerminator(s)&&(this.match(80)||Ke(this.state.type)))return this.tsParseAbstractDeclaration(t,n);break;case"module":if(this.tsCheckLineTerminator(s)){if(this.match(134))return this.tsParseAmbientExternalModuleDeclaration(t);if(Ke(this.state.type))return t.kind="module",this.tsParseModuleOrNamespaceDeclaration(t)}break;case"namespace":if(this.tsCheckLineTerminator(s)&&Ke(this.state.type))return t.kind="namespace",this.tsParseModuleOrNamespaceDeclaration(t);break;case"type":if(this.tsCheckLineTerminator(s)&&Ke(this.state.type))return this.tsParseTypeAliasDeclaration(t);break}}tsCheckLineTerminator(t){return t?this.hasFollowingLineBreak()?!1:(this.next(),!0):!this.isLineTerminator()}tsTryParseGenericAsyncArrowFunction(t){if(!this.match(47))return;const i=this.state.maybeInArrowParameters;this.state.maybeInArrowParameters=!0;const s=this.tsTryParseAndCatch(()=>{const n=this.startNodeAt(t);return n.typeParameters=this.tsParseTypeParameters(this.tsParseConstModifier),super.parseFunctionParams(n),n.returnType=this.tsTryParseTypeOrTypePredicateAnnotation(),this.expect(19),n});if(this.state.maybeInArrowParameters=i,!!s)return super.parseArrowExpression(s,null,!0)}tsParseTypeArgumentsInExpression(){if(this.reScan_lt()===47)return this.tsParseTypeArguments()}tsParseTypeArguments(){const t=this.startNode();return t.params=this.tsInType(()=>this.tsInNoContext(()=>(this.expect(47),this.tsParseDelimitedList("TypeParametersOrArguments",this.tsParseType.bind(this))))),t.params.length===0?this.raise(de.EmptyTypeArguments,t):!this.state.inType&&this.curContext()===ht.brace&&this.reScan_lt_gt(),this.expect(48),this.finishNode(t,"TSTypeParameterInstantiation")}tsIsDeclarationStart(){return tk(this.state.type)}isExportDefaultSpecifier(){return this.tsIsDeclarationStart()?!1:super.isExportDefaultSpecifier()}parseAssignableListItem(t,i){const s=this.state.startLoc,n={};this.tsParseModifiers({allowedModifiers:["public","private","protected","override","readonly"]},n);const a=n.accessibility,o=n.override,l=n.readonly;!(t&4)&&(a||l||o)&&this.raise(de.UnexpectedParameterModifier,s);const h=this.parseMaybeDefault();t&2&&this.parseFunctionParamType(h);const c=this.parseMaybeDefault(h.loc.start,h);if(a||l||o){const u=this.startNodeAt(s);return i.length&&(u.decorators=i),a&&(u.accessibility=a),l&&(u.readonly=l),o&&(u.override=o),c.type!=="Identifier"&&c.type!=="AssignmentPattern"&&this.raise(de.UnsupportedParameterPropertyKind,u),u.parameter=c,this.finishNode(u,"TSParameterProperty")}return i.length&&(h.decorators=i),c}isSimpleParameter(t){return t.type==="TSParameterProperty"&&super.isSimpleParameter(t.parameter)||super.isSimpleParameter(t)}tsDisallowOptionalPattern(t){for(const i of t.params)i.type!=="Identifier"&&i.optional&&!this.state.isAmbientContext&&this.raise(de.PatternIsOptional,i)}setArrowFunctionParameters(t,i,s){super.setArrowFunctionParameters(t,i,s),this.tsDisallowOptionalPattern(t)}parseFunctionBodyAndFinish(t,i,s=!1){this.match(14)&&(t.returnType=this.tsParseTypeOrTypePredicateAnnotation(14));const n=i==="FunctionDeclaration"?"TSDeclareFunction":i==="ClassMethod"||i==="ClassPrivateMethod"?"TSDeclareMethod":void 0;return n&&!this.match(5)&&this.isLineTerminator()?this.finishNode(t,n):n==="TSDeclareFunction"&&this.state.isAmbientContext&&(this.raise(de.DeclareFunctionHasImplementation,t),t.declare)?super.parseFunctionBodyAndFinish(t,n,s):(this.tsDisallowOptionalPattern(t),super.parseFunctionBodyAndFinish(t,i,s))}registerFunctionStatementId(t){!t.body&&t.id?this.checkIdentifier(t.id,1024):super.registerFunctionStatementId(t)}tsCheckForInvalidTypeCasts(t){t.forEach(i=>{(i==null?void 0:i.type)==="TSTypeCastExpression"&&this.raise(de.UnexpectedTypeAnnotation,i.typeAnnotation)})}toReferencedList(t,i){return this.tsCheckForInvalidTypeCasts(t),t}parseArrayLike(t,i,s,n){const a=super.parseArrayLike(t,i,s,n);return a.type==="ArrayExpression"&&this.tsCheckForInvalidTypeCasts(a.elements),a}parseSubscript(t,i,s,n){if(!this.hasPrecedingLineBreak()&&this.match(35)){this.state.canStartJSXElement=!1,this.next();const o=this.startNodeAt(i);return o.expression=t,this.finishNode(o,"TSNonNullExpression")}let a=!1;if(this.match(18)&&this.lookaheadCharCode()===60){if(s)return n.stop=!0,t;n.optionalChainMember=a=!0,this.next()}if(this.match(47)||this.match(51)){let o;const l=this.tsTryParseAndCatch(()=>{if(!s&&this.atPossibleAsyncArrow(t)){const p=this.tsTryParseGenericAsyncArrowFunction(i);if(p)return p}const h=this.tsParseTypeArgumentsInExpression();if(!h)return;if(a&&!this.match(10)){o=this.state.curPosition();return}if(vo(this.state.type)){const p=super.parseTaggedTemplateExpression(t,i,n);return p.typeParameters=h,p}if(!s&&this.eat(10)){const p=this.startNodeAt(i);return p.callee=t,p.arguments=this.parseCallExpressionArguments(11),this.tsCheckForInvalidTypeCasts(p.arguments),p.typeParameters=h,n.optionalChainMember&&(p.optional=a),this.finishCallExpression(p,n.optionalChainMember)}const c=this.state.type;if(c===48||c===52||c!==10&&kh(c)&&!this.hasPrecedingLineBreak())return;const u=this.startNodeAt(i);return u.expression=t,u.typeParameters=h,this.finishNode(u,"TSInstantiationExpression")});if(o&&this.unexpected(o,10),l)return l.type==="TSInstantiationExpression"&&(this.match(16)||this.match(18)&&this.lookaheadCharCode()!==40)&&this.raise(de.InvalidPropertyAccessAfterInstantiationExpression,this.state.startLoc),l}return super.parseSubscript(t,i,s,n)}parseNewCallee(t){var i;super.parseNewCallee(t);const{callee:s}=t;s.type==="TSInstantiationExpression"&&!((i=s.extra)!=null&&i.parenthesized)&&(t.typeParameters=s.typeParameters,t.callee=s.expression)}parseExprOp(t,i,s){let n;if(Ba(58)>s&&!this.hasPrecedingLineBreak()&&(this.isContextual(93)||(n=this.isContextual(120)))){const a=this.startNodeAt(i);return a.expression=t,a.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?(n&&this.raise(C.UnexpectedKeyword,this.state.startLoc,{keyword:"const"}),this.tsParseTypeReference()):this.tsParseType())),this.finishNode(a,n?"TSSatisfiesExpression":"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(a,i,s)}return super.parseExprOp(t,i,s)}checkReservedWord(t,i,s,n){this.state.isAmbientContext||super.checkReservedWord(t,i,s,n)}checkImportReflection(t){super.checkImportReflection(t),t.module&&t.importKind!=="value"&&this.raise(de.ImportReflectionHasImportType,t.specifiers[0].loc.start)}checkDuplicateExports(){}isPotentialImportPhase(t){if(super.isPotentialImportPhase(t))return!0;if(this.isContextual(130)){const i=this.lookaheadCharCode();return t?i===123||i===42:i!==61}return!t&&this.isContextual(87)}applyImportPhase(t,i,s,n){super.applyImportPhase(t,i,s,n),i?t.exportKind=s==="type"?"type":"value":t.importKind=s==="type"||s==="typeof"?s:"value"}parseImport(t){if(this.match(134))return t.importKind="value",super.parseImport(t);let i;if(Ke(this.state.type)&&this.lookaheadCharCode()===61)return t.importKind="value",this.tsParseImportEqualsDeclaration(t);if(this.isContextual(130)){const s=this.parseMaybeImportPhase(t,!1);if(this.lookaheadCharCode()===61)return this.tsParseImportEqualsDeclaration(t,s);i=super.parseImportSpecifiersAndAfter(t,s)}else i=super.parseImport(t);return i.importKind==="type"&&i.specifiers.length>1&&i.specifiers[0].type==="ImportDefaultSpecifier"&&this.raise(de.TypeImportCannotSpecifyDefaultAndNamed,i),i}parseExport(t,i){if(this.match(83)){this.next();const s=t;let n=null;return this.isContextual(130)&&this.isPotentialImportPhase(!1)?n=this.parseMaybeImportPhase(s,!1):s.importKind="value",this.tsParseImportEqualsDeclaration(s,n,!0)}else if(this.eat(29)){const s=t;return s.expression=super.parseExpression(),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(s,"TSExportAssignment")}else if(this.eatContextual(93)){const s=t;return this.expectContextual(128),s.id=this.parseIdentifier(),this.semicolon(),this.finishNode(s,"TSNamespaceExportDeclaration")}else return super.parseExport(t,i)}isAbstractClass(){return this.isContextual(124)&&this.lookahead().type===80}parseExportDefaultExpression(){if(this.isAbstractClass()){const t=this.startNode();return this.next(),t.abstract=!0,this.parseClass(t,!0,!0)}if(this.match(129)){const t=this.tsParseInterfaceDeclaration(this.startNode());if(t)return t}return super.parseExportDefaultExpression()}parseVarStatement(t,i,s=!1){const{isAmbientContext:n}=this.state,a=super.parseVarStatement(t,i,s||n);if(!n)return a;for(const{id:o,init:l}of a.declarations)!l||(i!=="const"||!!o.typeAnnotation?this.raise(de.InitializerNotAllowedInAmbientContext,l):Kk(l,this.hasPlugin("estree"))||this.raise(de.ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference,l));return a}parseStatementContent(t,i){if(this.match(75)&&this.isLookaheadContextual("enum")){const s=this.startNode();return this.expect(75),this.tsParseEnumDeclaration(s,{const:!0})}if(this.isContextual(126))return this.tsParseEnumDeclaration(this.startNode());if(this.isContextual(129)){const s=this.tsParseInterfaceDeclaration(this.startNode());if(s)return s}return super.parseStatementContent(t,i)}parseAccessModifier(){return this.tsParseModifier(["public","protected","private"])}tsHasSomeModifiers(t,i){return i.some(s=>ed(s)?t.accessibility===s:!!t[s])}tsIsStartOfStaticBlocks(){return this.isContextual(106)&&this.lookaheadCharCode()===123}parseClassMember(t,i,s){const n=["declare","private","public","protected","override","abstract","readonly","static"];this.tsParseModifiers({allowedModifiers:n,disallowedModifiers:["in","out"],stopOnStartOfClassStaticBlock:!0,errorTemplate:de.InvalidModifierOnTypeParameterPositions},i);const a=()=>{this.tsIsStartOfStaticBlocks()?(this.next(),this.next(),this.tsHasSomeModifiers(i,n)&&this.raise(de.StaticBlockCannotHaveModifier,this.state.curPosition()),super.parseClassStaticBlock(t,i)):this.parseClassMemberWithIsStatic(t,i,s,!!i.static)};i.declare?this.tsInAmbientContext(a):a()}parseClassMemberWithIsStatic(t,i,s,n){const a=this.tsTryParseIndexSignature(i);if(a){t.body.push(a),i.abstract&&this.raise(de.IndexSignatureHasAbstract,i),i.accessibility&&this.raise(de.IndexSignatureHasAccessibility,i,{modifier:i.accessibility}),i.declare&&this.raise(de.IndexSignatureHasDeclare,i),i.override&&this.raise(de.IndexSignatureHasOverride,i);return}!this.state.inAbstractClass&&i.abstract&&this.raise(de.NonAbstractClassHasAbstractMethod,i),i.override&&(s.hadSuperClass||this.raise(de.OverrideNotInSubClass,i)),super.parseClassMemberWithIsStatic(t,i,s,n)}parsePostMemberNameModifiers(t){this.eat(17)&&(t.optional=!0),t.readonly&&this.match(10)&&this.raise(de.ClassMethodHasReadonly,t),t.declare&&this.match(10)&&this.raise(de.ClassMethodHasDeclare,t)}parseExpressionStatement(t,i,s){return(i.type==="Identifier"?this.tsParseExpressionStatement(t,i,s):void 0)||super.parseExpressionStatement(t,i,s)}shouldParseExportDeclaration(){return this.tsIsDeclarationStart()?!0:super.shouldParseExportDeclaration()}parseConditional(t,i,s){if(!this.state.maybeInArrowParameters||!this.match(17))return super.parseConditional(t,i,s);const n=this.tryParse(()=>super.parseConditional(t,i));return n.node?(n.error&&(this.state=n.failState),n.node):(n.error&&super.setOptionalParametersError(s,n.error),t)}parseParenItem(t,i){const s=super.parseParenItem(t,i);if(this.eat(17)&&(s.optional=!0,this.resetEndLocation(t)),this.match(14)){const n=this.startNodeAt(i);return n.expression=t,n.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(n,"TSTypeCastExpression")}return t}parseExportDeclaration(t){if(!this.state.isAmbientContext&&this.isContextual(125))return this.tsInAmbientContext(()=>this.parseExportDeclaration(t));const i=this.state.startLoc,s=this.eatContextual(125);if(s&&(this.isContextual(125)||!this.shouldParseExportDeclaration()))throw this.raise(de.ExpectedAmbientAfterExportDeclare,this.state.startLoc);const a=Ke(this.state.type)&&this.tsTryParseExportDeclaration()||super.parseExportDeclaration(t);return a?((a.type==="TSInterfaceDeclaration"||a.type==="TSTypeAliasDeclaration"||s)&&(t.exportKind="type"),s&&(this.resetStartLocation(a,i),a.declare=!0),a):null}parseClassId(t,i,s,n){if((!i||s)&&this.isContextual(113))return;super.parseClassId(t,i,s,t.declare?1024:8331);const a=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers);a&&(t.typeParameters=a)}parseClassPropertyAnnotation(t){t.optional||(this.eat(35)?t.definite=!0:this.eat(17)&&(t.optional=!0));const i=this.tsTryParseTypeAnnotation();i&&(t.typeAnnotation=i)}parseClassProperty(t){if(this.parseClassPropertyAnnotation(t),this.state.isAmbientContext&&!(t.readonly&&!t.typeAnnotation)&&this.match(29)&&this.raise(de.DeclareClassFieldHasInitializer,this.state.startLoc),t.abstract&&this.match(29)){const{key:i}=t;this.raise(de.AbstractPropertyHasInitializer,this.state.startLoc,{propertyName:i.type==="Identifier"&&!t.computed?i.name:`[${this.input.slice(this.offsetToSourcePos(i.start),this.offsetToSourcePos(i.end))}]`})}return super.parseClassProperty(t)}parseClassPrivateProperty(t){return t.abstract&&this.raise(de.PrivateElementHasAbstract,t),t.accessibility&&this.raise(de.PrivateElementHasAccessibility,t,{modifier:t.accessibility}),this.parseClassPropertyAnnotation(t),super.parseClassPrivateProperty(t)}parseClassAccessorProperty(t){return this.parseClassPropertyAnnotation(t),t.optional&&this.raise(de.AccessorCannotBeOptional,t),super.parseClassAccessorProperty(t)}pushClassMethod(t,i,s,n,a,o){const l=this.tsTryParseTypeParameters(this.tsParseConstModifier);l&&a&&this.raise(de.ConstructorHasTypeParameters,l);const{declare:h=!1,kind:c}=i;h&&(c==="get"||c==="set")&&this.raise(de.DeclareAccessor,i,{kind:c}),l&&(i.typeParameters=l),super.pushClassMethod(t,i,s,n,a,o)}pushClassPrivateMethod(t,i,s,n){const a=this.tsTryParseTypeParameters(this.tsParseConstModifier);a&&(i.typeParameters=a),super.pushClassPrivateMethod(t,i,s,n)}declareClassPrivateMethodInScope(t,i){t.type!=="TSDeclareMethod"&&(t.type==="MethodDefinition"&&!hasOwnProperty.call(t.value,"body")||super.declareClassPrivateMethodInScope(t,i))}parseClassSuper(t){super.parseClassSuper(t),t.superClass&&(this.match(47)||this.match(51))&&(t.superTypeParameters=this.tsParseTypeArgumentsInExpression()),this.eatContextual(113)&&(t.implements=this.tsParseHeritageClause("implements"))}parseObjPropValue(t,i,s,n,a,o,l){const h=this.tsTryParseTypeParameters(this.tsParseConstModifier);return h&&(t.typeParameters=h),super.parseObjPropValue(t,i,s,n,a,o,l)}parseFunctionParams(t,i){const s=this.tsTryParseTypeParameters(this.tsParseConstModifier);s&&(t.typeParameters=s),super.parseFunctionParams(t,i)}parseVarId(t,i){super.parseVarId(t,i),t.id.type==="Identifier"&&!this.hasPrecedingLineBreak()&&this.eat(35)&&(t.definite=!0);const s=this.tsTryParseTypeAnnotation();s&&(t.id.typeAnnotation=s,this.resetEndLocation(t.id))}parseAsyncArrowFromCallExpression(t,i){return this.match(14)&&(t.returnType=this.tsParseTypeAnnotation()),super.parseAsyncArrowFromCallExpression(t,i)}parseMaybeAssign(t,i){var s,n,a,o,l;let h,c,u;if(this.hasPlugin("jsx")&&(this.match(143)||this.match(47))){if(h=this.state.clone(),c=this.tryParse(()=>super.parseMaybeAssign(t,i),h),!c.error)return c.node;const{context:g}=this.state,b=g[g.length-1];(b===ht.j_oTag||b===ht.j_expr)&&g.pop()}if(!((s=c)!=null&&s.error)&&!this.match(47))return super.parseMaybeAssign(t,i);(!h||h===this.state)&&(h=this.state.clone());let p;const m=this.tryParse(g=>{var b,w;p=this.tsParseTypeParameters(this.tsParseConstModifier);const y=super.parseMaybeAssign(t,i);return(y.type!=="ArrowFunctionExpression"||(b=y.extra)!=null&&b.parenthesized)&&g(),((w=p)==null?void 0:w.params.length)!==0&&this.resetStartLocationFromNode(y,p),y.typeParameters=p,y},h);if(!m.error&&!m.aborted)return p&&this.reportReservedArrowTypeParam(p),m.node;if(!c&&(Jp(!this.hasPlugin("jsx")),u=this.tryParse(()=>super.parseMaybeAssign(t,i),h),!u.error))return u.node;if((n=c)!=null&&n.node)return this.state=c.failState,c.node;if(m.node)return this.state=m.failState,p&&this.reportReservedArrowTypeParam(p),m.node;if((a=u)!=null&&a.node)return this.state=u.failState,u.node;throw((o=c)==null?void 0:o.error)||m.error||((l=u)==null?void 0:l.error)}reportReservedArrowTypeParam(t){var i;t.params.length===1&&!t.params[0].constraint&&!((i=t.extra)!=null&&i.trailingComma)&&this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(de.ReservedArrowTypeParam,t)}parseMaybeUnary(t,i){return!this.hasPlugin("jsx")&&this.match(47)?this.tsParseTypeAssertion():super.parseMaybeUnary(t,i)}parseArrow(t){if(this.match(14)){const i=this.tryParse(s=>{const n=this.tsParseTypeOrTypePredicateAnnotation(14);return(this.canInsertSemicolon()||!this.match(19))&&s(),n});if(i.aborted)return;i.thrown||(i.error&&(this.state=i.failState),t.returnType=i.node)}return super.parseArrow(t)}parseFunctionParamType(t){this.eat(17)&&(t.optional=!0);const i=this.tsTryParseTypeAnnotation();return i&&(t.typeAnnotation=i),this.resetEndLocation(t),t}isAssignable(t,i){switch(t.type){case"TSTypeCastExpression":return this.isAssignable(t.expression,i);case"TSParameterProperty":return!0;default:return super.isAssignable(t,i)}}toAssignable(t,i=!1){switch(t.type){case"ParenthesizedExpression":this.toAssignableParenthesizedExpression(t,i);break;case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":i?this.expressionScope.recordArrowParameterBindingError(de.UnexpectedTypeCastInParameter,t):this.raise(de.UnexpectedTypeCastInParameter,t),this.toAssignable(t.expression,i);break;case"AssignmentExpression":!i&&t.left.type==="TSTypeCastExpression"&&(t.left=this.typeCastToParameter(t.left));default:super.toAssignable(t,i)}}toAssignableParenthesizedExpression(t,i){switch(t.expression.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":case"ParenthesizedExpression":this.toAssignable(t.expression,i);break;default:super.toAssignable(t,i)}}checkToRestConversion(t,i){switch(t.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":this.checkToRestConversion(t.expression,!1);break;default:super.checkToRestConversion(t,i)}}isValidLVal(t,i,s){switch(t){case"TSTypeCastExpression":return!0;case"TSParameterProperty":return"parameter";case"TSNonNullExpression":case"TSInstantiationExpression":return"expression";case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":return(s!==64||!i)&&["expression",!0];default:return super.isValidLVal(t,i,s)}}parseBindingAtom(){return this.state.type===78?this.parseIdentifier(!0):super.parseBindingAtom()}parseMaybeDecoratorArguments(t){if(this.match(47)||this.match(51)){const i=this.tsParseTypeArgumentsInExpression();if(this.match(10)){const s=super.parseMaybeDecoratorArguments(t);return s.typeParameters=i,s}this.unexpected(null,10)}return super.parseMaybeDecoratorArguments(t)}checkCommaAfterRest(t){return this.state.isAmbientContext&&this.match(12)&&this.lookaheadCharCode()===t?(this.next(),!1):super.checkCommaAfterRest(t)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(35)||this.match(14)||super.isClassProperty()}parseMaybeDefault(t,i){const s=super.parseMaybeDefault(t,i);return s.type==="AssignmentPattern"&&s.typeAnnotation&&s.right.start<s.typeAnnotation.start&&this.raise(de.TypeAnnotationAfterAssign,s.typeAnnotation),s}getTokenFromCode(t){if(this.state.inType){if(t===62){this.finishOp(48,1);return}if(t===60){this.finishOp(47,1);return}}super.getTokenFromCode(t)}reScan_lt_gt(){const{type:t}=this.state;t===47?(this.state.pos-=1,this.readToken_lt()):t===48&&(this.state.pos-=1,this.readToken_gt())}reScan_lt(){const{type:t}=this.state;return t===51?(this.state.pos-=2,this.finishOp(47,1),47):t}toAssignableList(t,i,s){for(let n=0;n<t.length;n++){const a=t[n];(a==null?void 0:a.type)==="TSTypeCastExpression"&&(t[n]=this.typeCastToParameter(a))}super.toAssignableList(t,i,s)}typeCastToParameter(t){return t.expression.typeAnnotation=t.typeAnnotation,this.resetEndLocation(t.expression,t.typeAnnotation.loc.end),t.expression}shouldParseArrow(t){return this.match(14)?t.every(i=>this.isAssignable(i,!0)):super.shouldParseArrow(t)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}canHaveLeadingDecorator(){return super.canHaveLeadingDecorator()||this.isAbstractClass()}jsxParseOpeningElementAfterName(t){if(this.match(47)||this.match(51)){const i=this.tsTryParseAndCatch(()=>this.tsParseTypeArgumentsInExpression());i&&(t.typeParameters=i)}return super.jsxParseOpeningElementAfterName(t)}getGetterSetterExpectedParamCount(t){const i=super.getGetterSetterExpectedParamCount(t),n=this.getObjectOrClassMethodParams(t)[0];return n&&this.isThisParam(n)?i+1:i}parseCatchClauseParam(){const t=super.parseCatchClauseParam(),i=this.tsTryParseTypeAnnotation();return i&&(t.typeAnnotation=i,this.resetEndLocation(t)),t}tsInAmbientContext(t){const{isAmbientContext:i,strict:s}=this.state;this.state.isAmbientContext=!0,this.state.strict=!1;try{return t()}finally{this.state.isAmbientContext=i,this.state.strict=s}}parseClass(t,i,s){const n=this.state.inAbstractClass;this.state.inAbstractClass=!!t.abstract;try{return super.parseClass(t,i,s)}finally{this.state.inAbstractClass=n}}tsParseAbstractDeclaration(t,i){if(this.match(80))return t.abstract=!0,this.maybeTakeDecorators(i,this.parseClass(t,!0,!1));if(this.isContextual(129)){if(!this.hasFollowingLineBreak())return t.abstract=!0,this.raise(de.NonClassMethodPropertyHasAbstractModifer,t),this.tsParseInterfaceDeclaration(t)}else this.unexpected(null,80)}parseMethod(t,i,s,n,a,o,l){const h=super.parseMethod(t,i,s,n,a,o,l);if(h.abstract&&(this.hasPlugin("estree")?!!h.value.body:!!h.body)){const{key:u}=h;this.raise(de.AbstractMethodHasImplementation,h,{methodName:u.type==="Identifier"&&!h.computed?u.name:`[${this.input.slice(this.offsetToSourcePos(u.start),this.offsetToSourcePos(u.end))}]`})}return h}tsParseTypeParameterName(){return this.parseIdentifier().name}shouldParseAsAmbientContext(){return!!this.getPluginOption("typescript","dts")}parse(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.parse()}getExpression(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.getExpression()}parseExportSpecifier(t,i,s,n){return!i&&n?(this.parseTypeOnlyImportExportSpecifier(t,!1,s),this.finishNode(t,"ExportSpecifier")):(t.exportKind="value",super.parseExportSpecifier(t,i,s,n))}parseImportSpecifier(t,i,s,n,a){return!i&&n?(this.parseTypeOnlyImportExportSpecifier(t,!0,s),this.finishNode(t,"ImportSpecifier")):(t.importKind="value",super.parseImportSpecifier(t,i,s,n,s?4098:4096))}parseTypeOnlyImportExportSpecifier(t,i,s){const n=i?"imported":"local",a=i?"local":"exported";let o=t[n],l,h=!1,c=!0;const u=o.loc.start;if(this.isContextual(93)){const m=this.parseIdentifier();if(this.isContextual(93)){const g=this.parseIdentifier();Xi(this.state.type)?(h=!0,o=m,l=i?this.parseIdentifier():this.parseModuleExportName(),c=!1):(l=g,c=!1)}else Xi(this.state.type)?(c=!1,l=i?this.parseIdentifier():this.parseModuleExportName()):(h=!0,o=m)}else Xi(this.state.type)&&(h=!0,i?(o=this.parseIdentifier(!0),this.isContextual(93)||this.checkReservedWord(o.name,o.loc.start,!0,!0)):o=this.parseModuleExportName());h&&s&&this.raise(i?de.TypeModifierIsUsedInTypeImports:de.TypeModifierIsUsedInTypeExports,u),t[n]=o,t[a]=l;const p=i?"importKind":"exportKind";t[p]=h?"type":"value",c&&this.eatContextual(93)&&(t[a]=i?this.parseIdentifier():this.parseModuleExportName()),t[a]||(t[a]=vs(t[n])),i&&this.checkIdentifier(t[a],h?4098:4096)}};function Gk(r){if(r.type!=="MemberExpression")return!1;const{computed:e,property:t}=r;return e&&t.type!=="StringLiteral"&&(t.type!=="TemplateLiteral"||t.expressions.length>0)?!1:qg(r.object)}function Kk(r,e){var t;const{type:i}=r;if((t=r.extra)!=null&&t.parenthesized)return!1;if(e){if(i==="Literal"){const{value:s}=r;if(typeof s=="string"||typeof s=="boolean")return!0}}else if(i==="StringLiteral"||i==="BooleanLiteral")return!0;return!!(Xg(r,e)||Jk(r,e)||i==="TemplateLiteral"&&r.expressions.length===0||Gk(r))}function Xg(r,e){return e?r.type==="Literal"&&(typeof r.value=="number"||"bigint"in r):r.type==="NumericLiteral"||r.type==="BigIntLiteral"}function Jk(r,e){if(r.type==="UnaryExpression"){const{operator:t,argument:i}=r;if(t==="-"&&Xg(i,e))return!0}return!1}function qg(r){return r.type==="Identifier"?!0:r.type!=="MemberExpression"||r.computed?!1:qg(r.object)}const td=bs`placeholders`({ClassNameIsRequired:"A class name is required.",UnexpectedSpace:"Unexpected space in placeholder."});var eP=r=>class extends r{parsePlaceholder(t){if(this.match(133)){const i=this.startNode();return this.next(),this.assertNoSpace(),i.name=super.parseIdentifier(!0),this.assertNoSpace(),this.expect(133),this.finishPlaceholder(i,t)}}finishPlaceholder(t,i){let s=t;return(!s.expectedNode||!s.type)&&(s=this.finishNode(s,"Placeholder")),s.expectedNode=i,s}getTokenFromCode(t){t===37&&this.input.charCodeAt(this.state.pos+1)===37?this.finishOp(133,2):super.getTokenFromCode(t)}parseExprAtom(t){return this.parsePlaceholder("Expression")||super.parseExprAtom(t)}parseIdentifier(t){return this.parsePlaceholder("Identifier")||super.parseIdentifier(t)}checkReservedWord(t,i,s,n){t!==void 0&&super.checkReservedWord(t,i,s,n)}parseBindingAtom(){return this.parsePlaceholder("Pattern")||super.parseBindingAtom()}isValidLVal(t,i,s){return t==="Placeholder"||super.isValidLVal(t,i,s)}toAssignable(t,i){t&&t.type==="Placeholder"&&t.expectedNode==="Expression"?t.expectedNode="Pattern":super.toAssignable(t,i)}chStartsBindingIdentifier(t,i){return!!(super.chStartsBindingIdentifier(t,i)||this.lookahead().type===133)}verifyBreakContinue(t,i){t.label&&t.label.type==="Placeholder"||super.verifyBreakContinue(t,i)}parseExpressionStatement(t,i){var s;if(i.type!=="Placeholder"||(s=i.extra)!=null&&s.parenthesized)return super.parseExpressionStatement(t,i);if(this.match(14)){const a=t;return a.label=this.finishPlaceholder(i,"Identifier"),this.next(),a.body=super.parseStatementOrSloppyAnnexBFunctionDeclaration(),this.finishNode(a,"LabeledStatement")}this.semicolon();const n=t;return n.name=i.name,this.finishPlaceholder(n,"Statement")}parseBlock(t,i,s){return this.parsePlaceholder("BlockStatement")||super.parseBlock(t,i,s)}parseFunctionId(t){return this.parsePlaceholder("Identifier")||super.parseFunctionId(t)}parseClass(t,i,s){const n=i?"ClassDeclaration":"ClassExpression";this.next();const a=this.state.strict,o=this.parsePlaceholder("Identifier");if(o)if(this.match(81)||this.match(133)||this.match(5))t.id=o;else{if(s||!i)return t.id=null,t.body=this.finishPlaceholder(o,"ClassBody"),this.finishNode(t,n);throw this.raise(td.ClassNameIsRequired,this.state.startLoc)}else this.parseClassId(t,i,s);return super.parseClassSuper(t),t.body=this.parsePlaceholder("ClassBody")||super.parseClassBody(!!t.superClass,a),this.finishNode(t,n)}parseExport(t,i){const s=this.parsePlaceholder("Identifier");if(!s)return super.parseExport(t,i);const n=t;if(!this.isContextual(98)&&!this.match(12))return n.specifiers=[],n.source=null,n.declaration=this.finishPlaceholder(s,"Declaration"),this.finishNode(n,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");const a=this.startNode();return a.exported=s,n.specifiers=[this.finishNode(a,"ExportDefaultSpecifier")],super.parseExport(n,i)}isExportDefaultSpecifier(){if(this.match(65)){const t=this.nextTokenStart();if(this.isUnparsedContextual(t,"from")&&this.input.startsWith(Rs(133),this.nextTokenStartSince(t+4)))return!0}return super.isExportDefaultSpecifier()}maybeParseExportDefaultSpecifier(t,i){var s;return(s=t.specifiers)!=null&&s.length?!0:super.maybeParseExportDefaultSpecifier(t,i)}checkExport(t){const{specifiers:i}=t;i!=null&&i.length&&(t.specifiers=i.filter(s=>s.exported.type==="Placeholder")),super.checkExport(t),t.specifiers=i}parseImport(t){const i=this.parsePlaceholder("Identifier");if(!i)return super.parseImport(t);if(t.specifiers=[],!this.isContextual(98)&&!this.match(12))return t.source=this.finishPlaceholder(i,"StringLiteral"),this.semicolon(),this.finishNode(t,"ImportDeclaration");const s=this.startNodeAtNode(i);return s.local=i,t.specifiers.push(this.finishNode(s,"ImportDefaultSpecifier")),this.eat(12)&&(this.maybeParseStarImportSpecifier(t)||this.parseNamedImportSpecifiers(t)),this.expectContextual(98),t.source=this.parseImportSource(),this.semicolon(),this.finishNode(t,"ImportDeclaration")}parseImportSource(){return this.parsePlaceholder("StringLiteral")||super.parseImportSource()}assertNoSpace(){this.state.start>this.offsetToSourcePos(this.state.lastTokEndLoc.index)&&this.raise(td.UnexpectedSpace,this.state.lastTokEndLoc)}},tP=r=>class extends r{parseV8Intrinsic(){if(this.match(54)){const t=this.state.startLoc,i=this.startNode();if(this.next(),Ke(this.state.type)){const s=this.parseIdentifierName(),n=this.createIdentifier(i,s);if(n.type="V8IntrinsicIdentifier",this.match(10))return n}this.unexpected(t)}}parseExprAtom(t){return this.parseV8Intrinsic()||super.parseExprAtom(t)}};const id=["minimal","fsharp","hack","smart"],sd=["^^","@@","^","%","#"];function iP(r){if(r.has("decorators")){if(r.has("decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");const t=r.get("decorators").decoratorsBeforeExport;if(t!=null&&typeof t!="boolean")throw new Error("'decoratorsBeforeExport' must be a boolean, if specified.");const i=r.get("decorators").allowCallParenthesized;if(i!=null&&typeof i!="boolean")throw new Error("'allowCallParenthesized' must be a boolean.")}if(r.has("flow")&&r.has("typescript"))throw new Error("Cannot combine flow and typescript plugins.");if(r.has("placeholders")&&r.has("v8intrinsic"))throw new Error("Cannot combine placeholders and v8intrinsic plugins.");if(r.has("pipelineOperator")){var e;const t=r.get("pipelineOperator").proposal;if(!id.includes(t)){const s=id.map(n=>`"${n}"`).join(", ");throw new Error(`"pipelineOperator" requires "proposal" option whose value must be one of: ${s}.`)}const i=((e=r.get("recordAndTuple"))==null?void 0:e.syntaxType)==="hash";if(t==="hack"){if(r.has("placeholders"))throw new Error("Cannot combine placeholders plugin and Hack-style pipes.");if(r.has("v8intrinsic"))throw new Error("Cannot combine v8intrinsic plugin and Hack-style pipes.");const s=r.get("pipelineOperator").topicToken;if(!sd.includes(s)){const n=sd.map(a=>`"${a}"`).join(", ");throw new Error(`"pipelineOperator" in "proposal": "hack" mode also requires a "topicToken" option whose value must be one of: ${n}.`)}if(s==="#"&&i)throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "hack", topicToken: "#" }]\` and \`${JSON.stringify(["recordAndTuple",r.get("recordAndTuple")])}\`.`)}else if(t==="smart"&&i)throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "smart" }]\` and \`${JSON.stringify(["recordAndTuple",r.get("recordAndTuple")])}\`.`)}if(r.has("moduleAttributes")){if(r.has("deprecatedImportAssert")||r.has("importAssertions"))throw new Error("Cannot combine importAssertions, deprecatedImportAssert and moduleAttributes plugins.");if(r.get("moduleAttributes").version!=="may-2020")throw new Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.")}if(r.has("importAssertions")&&r.has("deprecatedImportAssert"))throw new Error("Cannot combine importAssertions and deprecatedImportAssert plugins.");if(!r.has("deprecatedImportAssert")&&r.has("importAttributes")&&r.get("importAttributes").deprecatedAssertSyntax&&r.set("deprecatedImportAssert",{}),r.has("recordAndTuple")){const t=r.get("recordAndTuple").syntaxType;if(t!=null){const i=["hash","bar"];if(!i.includes(t))throw new Error("The 'syntaxType' option of the 'recordAndTuple' plugin must be one of: "+i.map(s=>`'${s}'`).join(", "))}}if(r.has("asyncDoExpressions")&&!r.has("doExpressions")){const t=new Error("'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.");throw t.missingPlugins="doExpressions",t}if(r.has("optionalChainingAssign")&&r.get("optionalChainingAssign").version!=="2023-07")throw new Error("The 'optionalChainingAssign' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is '2023-07'.")}const zg={estree:zx,jsx:qk,flow:Bk,typescript:Yk,v8intrinsic:tP,placeholders:eP},sP=Object.keys(zg);function rP(){return{sourceType:"script",sourceFilename:void 0,startIndex:0,startColumn:0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowNewTargetOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,plugins:[],strictMode:null,ranges:!1,tokens:!1,createImportExpressions:!1,createParenthesizedExpressions:!1,errorRecovery:!1,attachComment:!0,annexB:!0}}function nP(r){const e=rP();if(r==null)return e;if(r.annexB!=null&&r.annexB!==!1)throw new Error("The `annexB` option can only be set to `false`.");for(const t of Object.keys(e))r[t]!=null&&(e[t]=r[t]);if(e.startLine===1)r.startIndex==null&&e.startColumn>0?e.startIndex=e.startColumn:r.startColumn==null&&e.startIndex>0&&(e.startColumn=e.startIndex);else if((r.startColumn==null||r.startIndex==null)&&r.startIndex!=null)throw new Error("With a `startLine > 1` you must also specify `startIndex` and `startColumn`.");return e}class aP extends Vk{checkProto(e,t,i,s){if(e.type==="SpreadElement"||this.isObjectMethod(e)||e.computed||e.shorthand)return;const n=e.key;if((n.type==="Identifier"?n.name:n.value)==="__proto__"){if(t){this.raise(C.RecordNoProto,n);return}i.used&&(s?s.doubleProtoLoc===null&&(s.doubleProtoLoc=n.loc.start):this.raise(C.DuplicateProto,n)),i.used=!0}}shouldExitDescending(e,t){return e.type==="ArrowFunctionExpression"&&this.offsetToSourcePos(e.start)===t}getExpression(){this.enterInitialScopes(),this.nextToken();const e=this.parseExpression();return this.match(140)||this.unexpected(),this.finalizeRemainingComments(),e.comments=this.comments,e.errors=this.state.errors,this.options.tokens&&(e.tokens=this.tokens),e}parseExpression(e,t){return e?this.disallowInAnd(()=>this.parseExpressionBase(t)):this.allowInAnd(()=>this.parseExpressionBase(t))}parseExpressionBase(e){const t=this.state.startLoc,i=this.parseMaybeAssign(e);if(this.match(12)){const s=this.startNodeAt(t);for(s.expressions=[i];this.eat(12);)s.expressions.push(this.parseMaybeAssign(e));return this.toReferencedList(s.expressions),this.finishNode(s,"SequenceExpression")}return i}parseMaybeAssignDisallowIn(e,t){return this.disallowInAnd(()=>this.parseMaybeAssign(e,t))}parseMaybeAssignAllowIn(e,t){return this.allowInAnd(()=>this.parseMaybeAssign(e,t))}setOptionalParametersError(e,t){var i;e.optionalParametersLoc=(i=t==null?void 0:t.loc)!=null?i:this.state.startLoc}parseMaybeAssign(e,t){const i=this.state.startLoc;if(this.isContextual(108)&&this.prodParam.hasYield){let o=this.parseYield();return t&&(o=t.call(this,o,i)),o}let s;e?s=!1:(e=new qa,s=!0);const{type:n}=this.state;(n===10||Ke(n))&&(this.state.potentialArrowAt=this.state.start);let a=this.parseMaybeConditional(e);if(t&&(a=t.call(this,a,i)),Hx(this.state.type)){const o=this.startNodeAt(i),l=this.state.value;if(o.operator=l,this.match(29)){this.toAssignable(a,!0),o.left=a;const h=i.index;e.doubleProtoLoc!=null&&e.doubleProtoLoc.index>=h&&(e.doubleProtoLoc=null),e.shorthandAssignLoc!=null&&e.shorthandAssignLoc.index>=h&&(e.shorthandAssignLoc=null),e.privateKeyLoc!=null&&e.privateKeyLoc.index>=h&&(this.checkDestructuringPrivate(e),e.privateKeyLoc=null)}else o.left=a;return this.next(),o.right=this.parseMaybeAssign(),this.checkLVal(a,this.finishNode(o,"AssignmentExpression")),o}else s&&this.checkExpressionErrors(e,!0);return a}parseMaybeConditional(e){const t=this.state.startLoc,i=this.state.potentialArrowAt,s=this.parseExprOps(e);return this.shouldExitDescending(s,i)?s:this.parseConditional(s,t,e)}parseConditional(e,t,i){if(this.eat(17)){const s=this.startNodeAt(t);return s.test=e,s.consequent=this.parseMaybeAssignAllowIn(),this.expect(14),s.alternate=this.parseMaybeAssign(),this.finishNode(s,"ConditionalExpression")}return e}parseMaybeUnaryOrPrivate(e){return this.match(139)?this.parsePrivateName():this.parseMaybeUnary(e)}parseExprOps(e){const t=this.state.startLoc,i=this.state.potentialArrowAt,s=this.parseMaybeUnaryOrPrivate(e);return this.shouldExitDescending(s,i)?s:this.parseExprOp(s,t,-1)}parseExprOp(e,t,i){if(this.isPrivateName(e)){const n=this.getPrivateNameSV(e);(i>=Ba(58)||!this.prodParam.hasIn||!this.match(58))&&this.raise(C.PrivateInExpectedIn,e,{identifierName:n}),this.classScope.usePrivateName(n,e.loc.start)}const s=this.state.type;if(Gx(s)&&(this.prodParam.hasIn||!this.match(58))){let n=Ba(s);if(n>i){if(s===39){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return e;this.checkPipelineAtInfixOperator(e,t)}const a=this.startNodeAt(t);a.left=e,a.operator=this.state.value;const o=s===41||s===42,l=s===40;if(l&&(n=Ba(42)),this.next(),s===39&&this.hasPlugin(["pipelineOperator",{proposal:"minimal"}])&&this.state.type===96&&this.prodParam.hasAwait)throw this.raise(C.UnexpectedAwaitAfterPipelineBody,this.state.startLoc);a.right=this.parseExprOpRightExpr(s,n);const h=this.finishNode(a,o||l?"LogicalExpression":"BinaryExpression"),c=this.state.type;if(l&&(c===41||c===42)||o&&c===40)throw this.raise(C.MixingCoalesceWithLogical,this.state.startLoc);return this.parseExprOp(h,t,i)}}return e}parseExprOpRightExpr(e,t){const i=this.state.startLoc;switch(e){case 39:switch(this.getPluginOption("pipelineOperator","proposal")){case"hack":return this.withTopicBindingContext(()=>this.parseHackPipeBody());case"smart":return this.withTopicBindingContext(()=>{if(this.prodParam.hasYield&&this.isContextual(108))throw this.raise(C.PipeBodyIsTighter,this.state.startLoc);return this.parseSmartPipelineBodyInStyle(this.parseExprOpBaseRightExpr(e,t),i)});case"fsharp":return this.withSoloAwaitPermittingContext(()=>this.parseFSharpPipelineBody(t))}default:return this.parseExprOpBaseRightExpr(e,t)}}parseExprOpBaseRightExpr(e,t){const i=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnaryOrPrivate(),i,ik(e)?t-1:t)}parseHackPipeBody(){var e;const{startLoc:t}=this.state,i=this.parseMaybeAssign();return Zx.has(i.type)&&!((e=i.extra)!=null&&e.parenthesized)&&this.raise(C.PipeUnparenthesizedBody,t,{type:i.type}),this.topicReferenceWasUsedInCurrentContext()||this.raise(C.PipeTopicUnused,t),i}checkExponentialAfterUnary(e){this.match(57)&&this.raise(C.UnexpectedTokenUnaryExponentiation,e.argument)}parseMaybeUnary(e,t){const i=this.state.startLoc,s=this.isContextual(96);if(s&&this.recordAwaitIfAllowed()){this.next();const l=this.parseAwait(i);return t||this.checkExponentialAfterUnary(l),l}const n=this.match(34),a=this.startNode();if(Jx(this.state.type)){a.operator=this.state.value,a.prefix=!0,this.match(72)&&this.expectPlugin("throwExpressions");const l=this.match(89);if(this.next(),a.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),this.state.strict&&l){const h=a.argument;h.type==="Identifier"?this.raise(C.StrictDelete,a):this.hasPropertyAsPrivateName(h)&&this.raise(C.DeletePrivateField,a)}if(!n)return t||this.checkExponentialAfterUnary(a),this.finishNode(a,"UnaryExpression")}const o=this.parseUpdate(a,n,e);if(s){const{type:l}=this.state;if((this.hasPlugin("v8intrinsic")?kh(l):kh(l)&&!this.match(54))&&!this.isAmbiguousAwait())return this.raiseOverwrite(C.AwaitNotInAsyncContext,i),this.parseAwait(i)}return o}parseUpdate(e,t,i){if(t){const a=e;return this.checkLVal(a.argument,this.finishNode(a,"UpdateExpression")),e}const s=this.state.startLoc;let n=this.parseExprSubscripts(i);if(this.checkExpressionErrors(i,!1))return n;for(;Kx(this.state.type)&&!this.canInsertSemicolon();){const a=this.startNodeAt(s);a.operator=this.state.value,a.prefix=!1,a.argument=n,this.next(),this.checkLVal(n,n=this.finishNode(a,"UpdateExpression"))}return n}parseExprSubscripts(e){const t=this.state.startLoc,i=this.state.potentialArrowAt,s=this.parseExprAtom(e);return this.shouldExitDescending(s,i)?s:this.parseSubscripts(s,t)}parseSubscripts(e,t,i){const s={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(e),stop:!1};do e=this.parseSubscript(e,t,i,s),s.maybeAsyncArrow=!1;while(!s.stop);return e}parseSubscript(e,t,i,s){const{type:n}=this.state;if(!i&&n===15)return this.parseBind(e,t,i,s);if(vo(n))return this.parseTaggedTemplateExpression(e,t,s);let a=!1;if(n===18){if(i&&(this.raise(C.OptionalChainingNoNew,this.state.startLoc),this.lookaheadCharCode()===40))return s.stop=!0,e;s.optionalChainMember=a=!0,this.next()}if(!i&&this.match(10))return this.parseCoverCallAndAsyncArrowHead(e,t,s,a);{const o=this.eat(0);return o||a||this.eat(16)?this.parseMember(e,t,s,o,a):(s.stop=!0,e)}}parseMember(e,t,i,s,n){const a=this.startNodeAt(t);return a.object=e,a.computed=s,s?(a.property=this.parseExpression(),this.expect(3)):this.match(139)?(e.type==="Super"&&this.raise(C.SuperPrivateField,t),this.classScope.usePrivateName(this.state.value,this.state.startLoc),a.property=this.parsePrivateName()):a.property=this.parseIdentifier(!0),i.optionalChainMember?(a.optional=n,this.finishNode(a,"OptionalMemberExpression")):this.finishNode(a,"MemberExpression")}parseBind(e,t,i,s){const n=this.startNodeAt(t);return n.object=e,this.next(),n.callee=this.parseNoCallExpr(),s.stop=!0,this.parseSubscripts(this.finishNode(n,"BindExpression"),t,i)}parseCoverCallAndAsyncArrowHead(e,t,i,s){const n=this.state.maybeInArrowParameters;let a=null;this.state.maybeInArrowParameters=!0,this.next();const o=this.startNodeAt(t);o.callee=e;const{maybeAsyncArrow:l,optionalChainMember:h}=i;l&&(this.expressionScope.enter(Qk()),a=new qa),h&&(o.optional=s),s?o.arguments=this.parseCallExpressionArguments(11):o.arguments=this.parseCallExpressionArguments(11,e.type!=="Super",o,a);let c=this.finishCallExpression(o,h);return l&&this.shouldParseAsyncArrow()&&!s?(i.stop=!0,this.checkDestructuringPrivate(a),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),c=this.parseAsyncArrowFromCallExpression(this.startNodeAt(t),c)):(l&&(this.checkExpressionErrors(a,!0),this.expressionScope.exit()),this.toReferencedArguments(c)),this.state.maybeInArrowParameters=n,c}toReferencedArguments(e,t){this.toReferencedListDeep(e.arguments,t)}parseTaggedTemplateExpression(e,t,i){const s=this.startNodeAt(t);return s.tag=e,s.quasi=this.parseTemplate(!0),i.optionalChainMember&&this.raise(C.OptionalChainingNoTemplate,t),this.finishNode(s,"TaggedTemplateExpression")}atPossibleAsyncArrow(e){return e.type==="Identifier"&&e.name==="async"&&this.state.lastTokEndLoc.index===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.offsetToSourcePos(e.start)===this.state.potentialArrowAt}finishCallExpression(e,t){if(e.callee.type==="Import")if(e.arguments.length===0||e.arguments.length>2)this.raise(C.ImportCallArity,e);else for(const i of e.arguments)i.type==="SpreadElement"&&this.raise(C.ImportCallSpreadArgument,i);return this.finishNode(e,t?"OptionalCallExpression":"CallExpression")}parseCallExpressionArguments(e,t,i,s){const n=[];let a=!0;const o=this.state.inFSharpPipelineDirectBody;for(this.state.inFSharpPipelineDirectBody=!1;!this.eat(e);){if(a)a=!1;else if(this.expect(12),this.match(e)){i&&this.addTrailingCommaExtraToNode(i),this.next();break}n.push(this.parseExprListItem(!1,s,t))}return this.state.inFSharpPipelineDirectBody=o,n}shouldParseAsyncArrow(){return this.match(19)&&!this.canInsertSemicolon()}parseAsyncArrowFromCallExpression(e,t){var i;return this.resetPreviousNodeTrailingComments(t),this.expect(19),this.parseArrowExpression(e,t.arguments,!0,(i=t.extra)==null?void 0:i.trailingCommaLoc),t.innerComments&&Rn(e,t.innerComments),t.callee.trailingComments&&Rn(e,t.callee.trailingComments),e}parseNoCallExpr(){const e=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),e,!0)}parseExprAtom(e){let t,i=null;const{type:s}=this.state;switch(s){case 79:return this.parseSuper();case 83:return t=this.startNode(),this.next(),this.match(16)?this.parseImportMetaProperty(t):this.match(10)?this.options.createImportExpressions?this.parseImportCall(t):this.finishNode(t,"Import"):(this.raise(C.UnsupportedImport,this.state.lastTokStartLoc),this.finishNode(t,"Import"));case 78:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case 90:return this.parseDo(this.startNode(),!1);case 56:case 31:return this.readRegexp(),this.parseRegExpLiteral(this.state.value);case 135:return this.parseNumericLiteral(this.state.value);case 136:return this.parseBigIntLiteral(this.state.value);case 134:return this.parseStringLiteral(this.state.value);case 84:return this.parseNullLiteral();case 85:return this.parseBooleanLiteral(!0);case 86:return this.parseBooleanLiteral(!1);case 10:{const n=this.state.potentialArrowAt===this.state.start;return this.parseParenAndDistinguishExpression(n)}case 2:case 1:return this.parseArrayLike(this.state.type===2?4:3,!1,!0);case 0:return this.parseArrayLike(3,!0,!1,e);case 6:case 7:return this.parseObjectLike(this.state.type===6?9:8,!1,!0);case 5:return this.parseObjectLike(8,!1,!1,e);case 68:return this.parseFunctionOrFunctionSent();case 26:i=this.parseDecorators();case 80:return this.parseClass(this.maybeTakeDecorators(i,this.startNode()),!1);case 77:return this.parseNewOrNewTarget();case 25:case 24:return this.parseTemplate(!1);case 15:{t=this.startNode(),this.next(),t.object=null;const n=t.callee=this.parseNoCallExpr();if(n.type==="MemberExpression")return this.finishNode(t,"BindExpression");throw this.raise(C.UnsupportedBind,n)}case 139:return this.raise(C.PrivateInExpectedIn,this.state.startLoc,{identifierName:this.state.value}),this.parsePrivateName();case 33:return this.parseTopicReferenceThenEqualsSign(54,"%");case 32:return this.parseTopicReferenceThenEqualsSign(44,"^");case 37:case 38:return this.parseTopicReference("hack");case 44:case 54:case 27:{const n=this.getPluginOption("pipelineOperator","proposal");if(n)return this.parseTopicReference(n);this.unexpected();break}case 47:{const n=this.input.codePointAt(this.nextTokenStart());ds(n)||n===62?this.expectOnePlugin(["jsx","flow","typescript"]):this.unexpected();break}default:if(s===137)return this.parseDecimalLiteral(this.state.value);if(Ke(s)){if(this.isContextual(127)&&this.lookaheadInLineCharCode()===123)return this.parseModuleExpression();const n=this.state.potentialArrowAt===this.state.start,a=this.state.containsEsc,o=this.parseIdentifier();if(!a&&o.name==="async"&&!this.canInsertSemicolon()){const{type:l}=this.state;if(l===68)return this.resetPreviousNodeTrailingComments(o),this.next(),this.parseAsyncFunctionExpression(this.startNodeAtNode(o));if(Ke(l))return this.lookaheadCharCode()===61?this.parseAsyncArrowUnaryFunction(this.startNodeAtNode(o)):o;if(l===90)return this.resetPreviousNodeTrailingComments(o),this.parseDo(this.startNodeAtNode(o),!0)}return n&&this.match(19)&&!this.canInsertSemicolon()?(this.next(),this.parseArrowExpression(this.startNodeAtNode(o),[o],!1)):o}else this.unexpected()}}parseTopicReferenceThenEqualsSign(e,t){const i=this.getPluginOption("pipelineOperator","proposal");if(i)return this.state.type=e,this.state.value=t,this.state.pos--,this.state.end--,this.state.endLoc=ui(this.state.endLoc,-1),this.parseTopicReference(i);this.unexpected()}parseTopicReference(e){const t=this.startNode(),i=this.state.startLoc,s=this.state.type;return this.next(),this.finishTopicReference(t,i,e,s)}finishTopicReference(e,t,i,s){if(this.testTopicReferenceConfiguration(i,t,s)){const n=i==="smart"?"PipelinePrimaryTopicReference":"TopicReference";return this.topicReferenceIsAllowedInCurrentContext()||this.raise(i==="smart"?C.PrimaryTopicNotAllowed:C.PipeTopicUnbound,t),this.registerTopicReference(),this.finishNode(e,n)}else throw this.raise(C.PipeTopicUnconfiguredToken,t,{token:Rs(s)})}testTopicReferenceConfiguration(e,t,i){switch(e){case"hack":return this.hasPlugin(["pipelineOperator",{topicToken:Rs(i)}]);case"smart":return i===27;default:throw this.raise(C.PipeTopicRequiresHackPipes,t)}}parseAsyncArrowUnaryFunction(e){this.prodParam.enter(Xa(!0,this.prodParam.hasYield));const t=[this.parseIdentifier()];return this.prodParam.exit(),this.hasPrecedingLineBreak()&&this.raise(C.LineTerminatorBeforeArrow,this.state.curPosition()),this.expect(19),this.parseArrowExpression(e,t,!0)}parseDo(e,t){this.expectPlugin("doExpressions"),t&&this.expectPlugin("asyncDoExpressions"),e.async=t,this.next();const i=this.state.labels;return this.state.labels=[],t?(this.prodParam.enter(2),e.body=this.parseBlock(),this.prodParam.exit()):e.body=this.parseBlock(),this.state.labels=i,this.finishNode(e,"DoExpression")}parseSuper(){const e=this.startNode();return this.next(),this.match(10)&&!this.scope.allowDirectSuper&&!this.options.allowSuperOutsideMethod?this.raise(C.SuperNotAllowed,e):!this.scope.allowSuper&&!this.options.allowSuperOutsideMethod&&this.raise(C.UnexpectedSuper,e),!this.match(10)&&!this.match(0)&&!this.match(16)&&this.raise(C.UnsupportedSuper,e),this.finishNode(e,"Super")}parsePrivateName(){const e=this.startNode(),t=this.startNodeAt(ui(this.state.startLoc,1)),i=this.state.value;return this.next(),e.id=this.createIdentifier(t,i),this.finishNode(e,"PrivateName")}parseFunctionOrFunctionSent(){const e=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(16)){const t=this.createIdentifier(this.startNodeAtNode(e),"function");return this.next(),this.match(103)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected(),this.parseMetaProperty(e,t,"sent")}return this.parseFunction(e)}parseMetaProperty(e,t,i){e.meta=t;const s=this.state.containsEsc;return e.property=this.parseIdentifier(!0),(e.property.name!==i||s)&&this.raise(C.UnsupportedMetaProperty,e.property,{target:t.name,onlyValidPropertyName:i}),this.finishNode(e,"MetaProperty")}parseImportMetaProperty(e){const t=this.createIdentifier(this.startNodeAtNode(e),"import");if(this.next(),this.isContextual(101))this.inModule||this.raise(C.ImportMetaOutsideModule,t),this.sawUnambiguousESM=!0;else if(this.isContextual(105)||this.isContextual(97)){const i=this.isContextual(105);if(i||this.unexpected(),this.expectPlugin(i?"sourcePhaseImports":"deferredImportEvaluation"),!this.options.createImportExpressions)throw this.raise(C.DynamicImportPhaseRequiresImportExpressions,this.state.startLoc,{phase:this.state.value});return this.next(),e.phase=i?"source":"defer",this.parseImportCall(e)}return this.parseMetaProperty(e,t,"meta")}parseLiteralAtNode(e,t,i){return this.addExtra(i,"rawValue",e),this.addExtra(i,"raw",this.input.slice(this.offsetToSourcePos(i.start),this.state.end)),i.value=e,this.next(),this.finishNode(i,t)}parseLiteral(e,t){const i=this.startNode();return this.parseLiteralAtNode(e,t,i)}parseStringLiteral(e){return this.parseLiteral(e,"StringLiteral")}parseNumericLiteral(e){return this.parseLiteral(e,"NumericLiteral")}parseBigIntLiteral(e){return this.parseLiteral(e,"BigIntLiteral")}parseDecimalLiteral(e){return this.parseLiteral(e,"DecimalLiteral")}parseRegExpLiteral(e){const t=this.startNode();return this.addExtra(t,"raw",this.input.slice(this.offsetToSourcePos(t.start),this.state.end)),t.pattern=e.pattern,t.flags=e.flags,this.next(),this.finishNode(t,"RegExpLiteral")}parseBooleanLiteral(e){const t=this.startNode();return t.value=e,this.next(),this.finishNode(t,"BooleanLiteral")}parseNullLiteral(){const e=this.startNode();return this.next(),this.finishNode(e,"NullLiteral")}parseParenAndDistinguishExpression(e){const t=this.state.startLoc;let i;this.next(),this.expressionScope.enter(_k());const s=this.state.maybeInArrowParameters,n=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.inFSharpPipelineDirectBody=!1;const a=this.state.startLoc,o=[],l=new qa;let h=!0,c,u;for(;!this.match(11);){if(h)h=!1;else if(this.expect(12,l.optionalParametersLoc===null?null:l.optionalParametersLoc),this.match(11)){u=this.state.startLoc;break}if(this.match(21)){const g=this.state.startLoc;if(c=this.state.startLoc,o.push(this.parseParenItem(this.parseRestBinding(),g)),!this.checkCommaAfterRest(41))break}else o.push(this.parseMaybeAssignAllowIn(l,this.parseParenItem))}const p=this.state.lastTokEndLoc;this.expect(11),this.state.maybeInArrowParameters=s,this.state.inFSharpPipelineDirectBody=n;let m=this.startNodeAt(t);return e&&this.shouldParseArrow(o)&&(m=this.parseArrow(m))?(this.checkDestructuringPrivate(l),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),this.parseArrowExpression(m,o,!1),m):(this.expressionScope.exit(),o.length||this.unexpected(this.state.lastTokStartLoc),u&&this.unexpected(u),c&&this.unexpected(c),this.checkExpressionErrors(l,!0),this.toReferencedListDeep(o,!0),o.length>1?(i=this.startNodeAt(a),i.expressions=o,this.finishNode(i,"SequenceExpression"),this.resetEndLocation(i,p)):i=o[0],this.wrapParenthesis(t,i))}wrapParenthesis(e,t){if(!this.options.createParenthesizedExpressions)return this.addExtra(t,"parenthesized",!0),this.addExtra(t,"parenStart",e.index),this.takeSurroundingComments(t,e.index,this.state.lastTokEndLoc.index),t;const i=this.startNodeAt(e);return i.expression=t,this.finishNode(i,"ParenthesizedExpression")}shouldParseArrow(e){return!this.canInsertSemicolon()}parseArrow(e){if(this.eat(19))return e}parseParenItem(e,t){return e}parseNewOrNewTarget(){const e=this.startNode();if(this.next(),this.match(16)){const t=this.createIdentifier(this.startNodeAtNode(e),"new");this.next();const i=this.parseMetaProperty(e,t,"target");return!this.scope.inNonArrowFunction&&!this.scope.inClass&&!this.options.allowNewTargetOutsideFunction&&this.raise(C.UnexpectedNewTarget,i),i}return this.parseNew(e)}parseNew(e){if(this.parseNewCallee(e),this.eat(10)){const t=this.parseExprList(11);this.toReferencedList(t),e.arguments=t}else e.arguments=[];return this.finishNode(e,"NewExpression")}parseNewCallee(e){const t=this.match(83),i=this.parseNoCallExpr();e.callee=i,t&&(i.type==="Import"||i.type==="ImportExpression")&&this.raise(C.ImportCallNotNewExpression,i)}parseTemplateElement(e){const{start:t,startLoc:i,end:s,value:n}=this.state,a=t+1,o=this.startNodeAt(ui(i,1));n===null&&(e||this.raise(C.InvalidEscapeSequenceTemplate,ui(this.state.firstInvalidTemplateEscapePos,1)));const l=this.match(24),h=l?-1:-2,c=s+h;o.value={raw:this.input.slice(a,c).replace(/\r\n?/g,`
`),cooked:n===null?null:n.slice(1,h)},o.tail=l,this.next();const u=this.finishNode(o,"TemplateElement");return this.resetEndLocation(u,ui(this.state.lastTokEndLoc,h)),u}parseTemplate(e){const t=this.startNode();let i=this.parseTemplateElement(e);const s=[i],n=[];for(;!i.tail;)n.push(this.parseTemplateSubstitution()),this.readTemplateContinuation(),s.push(i=this.parseTemplateElement(e));return t.expressions=n,t.quasis=s,this.finishNode(t,"TemplateLiteral")}parseTemplateSubstitution(){return this.parseExpression()}parseObjectLike(e,t,i,s){i&&this.expectPlugin("recordAndTuple");const n=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;const a=Object.create(null);let o=!0;const l=this.startNode();for(l.properties=[],this.next();!this.match(e);){if(o)o=!1;else if(this.expect(12),this.match(e)){this.addTrailingCommaExtraToNode(l);break}let c;t?c=this.parseBindingProperty():(c=this.parsePropertyDefinition(s),this.checkProto(c,i,a,s)),i&&!this.isObjectProperty(c)&&c.type!=="SpreadElement"&&this.raise(C.InvalidRecordProperty,c),c.shorthand&&this.addExtra(c,"shorthand",!0),l.properties.push(c)}this.next(),this.state.inFSharpPipelineDirectBody=n;let h="ObjectExpression";return t?h="ObjectPattern":i&&(h="RecordExpression"),this.finishNode(l,h)}addTrailingCommaExtraToNode(e){this.addExtra(e,"trailingComma",this.state.lastTokStartLoc.index),this.addExtra(e,"trailingCommaLoc",this.state.lastTokStartLoc,!1)}maybeAsyncOrAccessorProp(e){return!e.computed&&e.key.type==="Identifier"&&(this.isLiteralPropertyName()||this.match(0)||this.match(55))}parsePropertyDefinition(e){let t=[];if(this.match(26))for(this.hasPlugin("decorators")&&this.raise(C.UnsupportedPropertyDecorator,this.state.startLoc);this.match(26);)t.push(this.parseDecorator());const i=this.startNode();let s=!1,n=!1,a;if(this.match(21))return t.length&&this.unexpected(),this.parseSpread();t.length&&(i.decorators=t,t=[]),i.method=!1,e&&(a=this.state.startLoc);let o=this.eat(55);this.parsePropertyNamePrefixOperator(i);const l=this.state.containsEsc;if(this.parsePropertyName(i,e),!o&&!l&&this.maybeAsyncOrAccessorProp(i)){const{key:h}=i,c=h.name;c==="async"&&!this.hasPrecedingLineBreak()&&(s=!0,this.resetPreviousNodeTrailingComments(h),o=this.eat(55),this.parsePropertyName(i)),(c==="get"||c==="set")&&(n=!0,this.resetPreviousNodeTrailingComments(h),i.kind=c,this.match(55)&&(o=!0,this.raise(C.AccessorIsGenerator,this.state.curPosition(),{kind:c}),this.next()),this.parsePropertyName(i))}return this.parseObjPropValue(i,a,o,s,!1,n,e)}getGetterSetterExpectedParamCount(e){return e.kind==="get"?0:1}getObjectOrClassMethodParams(e){return e.params}checkGetterSetterParams(e){var t;const i=this.getGetterSetterExpectedParamCount(e),s=this.getObjectOrClassMethodParams(e);s.length!==i&&this.raise(e.kind==="get"?C.BadGetterArity:C.BadSetterArity,e),e.kind==="set"&&((t=s[s.length-1])==null?void 0:t.type)==="RestElement"&&this.raise(C.BadSetterRestParameter,e)}parseObjectMethod(e,t,i,s,n){if(n){const a=this.parseMethod(e,t,!1,!1,!1,"ObjectMethod");return this.checkGetterSetterParams(a),a}if(i||t||this.match(10))return s&&this.unexpected(),e.kind="method",e.method=!0,this.parseMethod(e,t,i,!1,!1,"ObjectMethod")}parseObjectProperty(e,t,i,s){if(e.shorthand=!1,this.eat(14))return e.value=i?this.parseMaybeDefault(this.state.startLoc):this.parseMaybeAssignAllowIn(s),this.finishNode(e,"ObjectProperty");if(!e.computed&&e.key.type==="Identifier"){if(this.checkReservedWord(e.key.name,e.key.loc.start,!0,!1),i)e.value=this.parseMaybeDefault(t,vs(e.key));else if(this.match(29)){const n=this.state.startLoc;s!=null?s.shorthandAssignLoc===null&&(s.shorthandAssignLoc=n):this.raise(C.InvalidCoverInitializedName,n),e.value=this.parseMaybeDefault(t,vs(e.key))}else e.value=vs(e.key);return e.shorthand=!0,this.finishNode(e,"ObjectProperty")}}parseObjPropValue(e,t,i,s,n,a,o){const l=this.parseObjectMethod(e,i,s,n,a)||this.parseObjectProperty(e,t,n,o);return l||this.unexpected(),l}parsePropertyName(e,t){if(this.eat(0))e.computed=!0,e.key=this.parseMaybeAssignAllowIn(),this.expect(3);else{const{type:i,value:s}=this.state;let n;if(Xi(i))n=this.parseIdentifier(!0);else switch(i){case 135:n=this.parseNumericLiteral(s);break;case 134:n=this.parseStringLiteral(s);break;case 136:n=this.parseBigIntLiteral(s);break;case 139:{const a=this.state.startLoc;t!=null?t.privateKeyLoc===null&&(t.privateKeyLoc=a):this.raise(C.UnexpectedPrivateField,a),n=this.parsePrivateName();break}default:if(i===137){n=this.parseDecimalLiteral(s);break}this.unexpected()}e.key=n,i!==139&&(e.computed=!1)}}initFunction(e,t){e.id=null,e.generator=!1,e.async=t}parseMethod(e,t,i,s,n,a,o=!1){this.initFunction(e,i),e.generator=t,this.scope.enter(18|(o?64:0)|(n?32:0)),this.prodParam.enter(Xa(i,e.generator)),this.parseFunctionParams(e,s);const l=this.parseFunctionBodyAndFinish(e,a,!0);return this.prodParam.exit(),this.scope.exit(),l}parseArrayLike(e,t,i,s){i&&this.expectPlugin("recordAndTuple");const n=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;const a=this.startNode();return this.next(),a.elements=this.parseExprList(e,!i,s,a),this.state.inFSharpPipelineDirectBody=n,this.finishNode(a,i?"TupleExpression":"ArrayExpression")}parseArrowExpression(e,t,i,s){this.scope.enter(6);let n=Xa(i,!1);!this.match(5)&&this.prodParam.hasIn&&(n|=8),this.prodParam.enter(n),this.initFunction(e,i);const a=this.state.maybeInArrowParameters;return t&&(this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(e,t,s)),this.state.maybeInArrowParameters=!1,this.parseFunctionBody(e,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=a,this.finishNode(e,"ArrowFunctionExpression")}setArrowFunctionParameters(e,t,i){this.toAssignableList(t,i,!1),e.params=t}parseFunctionBodyAndFinish(e,t,i=!1){return this.parseFunctionBody(e,!1,i),this.finishNode(e,t)}parseFunctionBody(e,t,i=!1){const s=t&&!this.match(5);if(this.expressionScope.enter(jg()),s)e.body=this.parseMaybeAssign(),this.checkParams(e,!1,t,!1);else{const n=this.state.strict,a=this.state.labels;this.state.labels=[],this.prodParam.enter(this.prodParam.currentFlags()|4),e.body=this.parseBlock(!0,!1,o=>{const l=!this.isSimpleParamList(e.params);o&&l&&this.raise(C.IllegalLanguageModeDirective,(e.kind==="method"||e.kind==="constructor")&&!!e.key?e.key.loc.end:e);const h=!n&&this.state.strict;this.checkParams(e,!this.state.strict&&!t&&!i&&!l,t,h),this.state.strict&&e.id&&this.checkIdentifier(e.id,65,h)}),this.prodParam.exit(),this.state.labels=a}this.expressionScope.exit()}isSimpleParameter(e){return e.type==="Identifier"}isSimpleParamList(e){for(let t=0,i=e.length;t<i;t++)if(!this.isSimpleParameter(e[t]))return!1;return!0}checkParams(e,t,i,s=!0){const n=!t&&new Set,a={type:"FormalParameters"};for(const o of e.params)this.checkLVal(o,a,5,n,s)}parseExprList(e,t,i,s){const n=[];let a=!0;for(;!this.eat(e);){if(a)a=!1;else if(this.expect(12),this.match(e)){s&&this.addTrailingCommaExtraToNode(s),this.next();break}n.push(this.parseExprListItem(t,i))}return n}parseExprListItem(e,t,i){let s;if(this.match(12))e||this.raise(C.UnexpectedToken,this.state.curPosition(),{unexpected:","}),s=null;else if(this.match(21)){const n=this.state.startLoc;s=this.parseParenItem(this.parseSpread(t),n)}else if(this.match(17)){this.expectPlugin("partialApplication"),i||this.raise(C.UnexpectedArgumentPlaceholder,this.state.startLoc);const n=this.startNode();this.next(),s=this.finishNode(n,"ArgumentPlaceholder")}else s=this.parseMaybeAssignAllowIn(t,this.parseParenItem);return s}parseIdentifier(e){const t=this.startNode(),i=this.parseIdentifierName(e);return this.createIdentifier(t,i)}createIdentifier(e,t){return e.name=t,e.loc.identifierName=t,this.finishNode(e,"Identifier")}parseIdentifierName(e){let t;const{startLoc:i,type:s}=this.state;Xi(s)?t=this.state.value:this.unexpected();const n=Fx(s);return e?n&&this.replaceToken(132):this.checkReservedWord(t,i,n,!1),this.next(),t}checkReservedWord(e,t,i,s){if(e.length>10||!fk(e))return;if(i&&hk(e)){this.raise(C.UnexpectedKeyword,t,{keyword:e});return}if((this.state.strict?s?Ng:Mg:Ig)(e,this.inModule)){this.raise(C.UnexpectedReservedWord,t,{reservedWord:e});return}else if(e==="yield"){if(this.prodParam.hasYield){this.raise(C.YieldBindingIdentifier,t);return}}else if(e==="await"){if(this.prodParam.hasAwait){this.raise(C.AwaitBindingIdentifier,t);return}if(this.scope.inStaticBlock){this.raise(C.AwaitBindingIdentifierInStaticBlock,t);return}this.expressionScope.recordAsyncArrowParametersError(t)}else if(e==="arguments"&&this.scope.inClassAndNotInNonArrowFunction){this.raise(C.ArgumentsInClass,t);return}}recordAwaitIfAllowed(){const e=this.prodParam.hasAwait||this.options.allowAwaitOutsideFunction&&!this.scope.inFunction;return e&&!this.scope.inFunction&&(this.state.hasTopLevelAwait=!0),e}parseAwait(e){const t=this.startNodeAt(e);return this.expressionScope.recordParameterInitializerError(C.AwaitExpressionFormalParameter,t),this.eat(55)&&this.raise(C.ObsoleteAwaitStar,t),!this.scope.inFunction&&!this.options.allowAwaitOutsideFunction&&(this.isAmbiguousAwait()?this.ambiguousScriptDifferentAst=!0:this.sawUnambiguousESM=!0),this.state.soloAwait||(t.argument=this.parseMaybeUnary(null,!0)),this.finishNode(t,"AwaitExpression")}isAmbiguousAwait(){if(this.hasPrecedingLineBreak())return!0;const{type:e}=this.state;return e===53||e===10||e===0||vo(e)||e===102&&!this.state.containsEsc||e===138||e===56||this.hasPlugin("v8intrinsic")&&e===54}parseYield(){const e=this.startNode();this.expressionScope.recordParameterInitializerError(C.YieldInParameter,e),this.next();let t=!1,i=null;if(!this.hasPrecedingLineBreak())switch(t=this.eat(55),this.state.type){case 13:case 140:case 8:case 11:case 3:case 9:case 14:case 12:if(!t)break;default:i=this.parseMaybeAssign()}return e.delegate=t,e.argument=i,this.finishNode(e,"YieldExpression")}parseImportCall(e){if(this.next(),e.source=this.parseMaybeAssignAllowIn(),e.options=null,this.eat(12)&&!this.match(11)&&(e.options=this.parseMaybeAssignAllowIn(),this.eat(12)&&!this.match(11))){do this.parseMaybeAssignAllowIn();while(this.eat(12)&&!this.match(11));this.raise(C.ImportCallArity,e)}return this.expect(11),this.finishNode(e,"ImportExpression")}checkPipelineAtInfixOperator(e,t){this.hasPlugin(["pipelineOperator",{proposal:"smart"}])&&e.type==="SequenceExpression"&&this.raise(C.PipelineHeadSequenceExpression,t)}parseSmartPipelineBodyInStyle(e,t){if(this.isSimpleReference(e)){const i=this.startNodeAt(t);return i.callee=e,this.finishNode(i,"PipelineBareFunction")}else{const i=this.startNodeAt(t);return this.checkSmartPipeTopicBodyEarlyErrors(t),i.expression=e,this.finishNode(i,"PipelineTopicExpression")}}isSimpleReference(e){switch(e.type){case"MemberExpression":return!e.computed&&this.isSimpleReference(e.object);case"Identifier":return!0;default:return!1}}checkSmartPipeTopicBodyEarlyErrors(e){if(this.match(19))throw this.raise(C.PipelineBodyNoArrow,this.state.startLoc);this.topicReferenceWasUsedInCurrentContext()||this.raise(C.PipelineTopicUnused,e)}withTopicBindingContext(e){const t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=t}}withSmartMixTopicForbiddingContext(e){if(this.hasPlugin(["pipelineOperator",{proposal:"smart"}])){const t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=t}}else return e()}withSoloAwaitPermittingContext(e){const t=this.state.soloAwait;this.state.soloAwait=!0;try{return e()}finally{this.state.soloAwait=t}}allowInAnd(e){const t=this.prodParam.currentFlags();if(8&~t){this.prodParam.enter(t|8);try{return e()}finally{this.prodParam.exit()}}return e()}disallowInAnd(e){const t=this.prodParam.currentFlags();if(8&t){this.prodParam.enter(t&-9);try{return e()}finally{this.prodParam.exit()}}return e()}registerTopicReference(){this.state.topicContext.maxTopicIndex=0}topicReferenceIsAllowedInCurrentContext(){return this.state.topicContext.maxNumOfResolvableTopics>=1}topicReferenceWasUsedInCurrentContext(){return this.state.topicContext.maxTopicIndex!=null&&this.state.topicContext.maxTopicIndex>=0}parseFSharpPipelineBody(e){const t=this.state.startLoc;this.state.potentialArrowAt=this.state.start;const i=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;const s=this.parseExprOp(this.parseMaybeUnaryOrPrivate(),t,e);return this.state.inFSharpPipelineDirectBody=i,s}parseModuleExpression(){this.expectPlugin("moduleBlocks");const e=this.startNode();this.next(),this.match(5)||this.unexpected(null,5);const t=this.startNodeAt(this.state.endLoc);this.next();const i=this.initializeScopes(!0);this.enterInitialScopes();try{e.body=this.parseProgram(t,8,"module")}finally{i()}return this.finishNode(e,"ModuleExpression")}parsePropertyNamePrefixOperator(e){}}const kl={kind:1},oP={kind:2},lP=/[\uD800-\uDFFF]/u,Pl=/in(?:stanceof)?/y;function hP(r,e,t){for(let i=0;i<r.length;i++){const s=r[i],{type:n}=s;if(typeof n=="number"){{if(n===139){const{loc:a,start:o,value:l,end:h}=s,c=o+1,u=ui(a.start,1);r.splice(i,1,new _s({type:hs(27),value:"#",start:o,end:c,startLoc:a.start,endLoc:u}),new _s({type:hs(132),value:l,start:c,end:h,startLoc:u,endLoc:a.end})),i++;continue}if(vo(n)){const{loc:a,start:o,value:l,end:h}=s,c=o+1,u=ui(a.start,1);let p;e.charCodeAt(o-t)===96?p=new _s({type:hs(22),value:"`",start:o,end:c,startLoc:a.start,endLoc:u}):p=new _s({type:hs(8),value:"}",start:o,end:c,startLoc:a.start,endLoc:u});let m,g,b,w;n===24?(g=h-1,b=ui(a.end,-1),m=l===null?null:l.slice(1,-1),w=new _s({type:hs(22),value:"`",start:g,end:h,startLoc:b,endLoc:a.end})):(g=h-2,b=ui(a.end,-2),m=l===null?null:l.slice(1,-2),w=new _s({type:hs(23),value:"${",start:g,end:h,startLoc:b,endLoc:a.end})),r.splice(i,1,p,new _s({type:hs(20),value:m,start:c,end:g,startLoc:u,endLoc:b}),w),i+=2;continue}}s.type=hs(n)}}return r}class cP extends aP{parseTopLevel(e,t){return e.program=this.parseProgram(t),e.comments=this.comments,this.options.tokens&&(e.tokens=hP(this.tokens,this.input,this.startIndex)),this.finishNode(e,"File")}parseProgram(e,t=140,i=this.options.sourceType){if(e.sourceType=i,e.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(e,!0,!0,t),this.inModule){if(!this.options.allowUndeclaredExports&&this.scope.undefinedExports.size>0)for(const[n,a]of Array.from(this.scope.undefinedExports))this.raise(C.ModuleExportUndefined,a,{localName:n});this.addExtra(e,"topLevelAwait",this.state.hasTopLevelAwait)}let s;return t===140?s=this.finishNode(e,"Program"):s=this.finishNodeAt(e,"Program",ui(this.state.startLoc,-1)),s}stmtToDirective(e){const t=e;t.type="Directive",t.value=t.expression,delete t.expression;const i=t.value,s=i.value,n=this.input.slice(this.offsetToSourcePos(i.start),this.offsetToSourcePos(i.end)),a=i.value=n.slice(1,-1);return this.addExtra(i,"raw",n),this.addExtra(i,"rawValue",a),this.addExtra(i,"expressionValue",s),i.type="DirectiveLiteral",t}parseInterpreterDirective(){if(!this.match(28))return null;const e=this.startNode();return e.value=this.state.value,this.next(),this.finishNode(e,"InterpreterDirective")}isLet(){return this.isContextual(100)?this.hasFollowingBindingAtom():!1}chStartsBindingIdentifier(e,t){if(ds(e)){if(Pl.lastIndex=t,Pl.test(this.input)){const i=this.codePointAtPos(Pl.lastIndex);if(!Er(i)&&i!==92)return!1}return!0}else return e===92}chStartsBindingPattern(e){return e===91||e===123}hasFollowingBindingAtom(){const e=this.nextTokenStart(),t=this.codePointAtPos(e);return this.chStartsBindingPattern(t)||this.chStartsBindingIdentifier(t,e)}hasInLineFollowingBindingIdentifierOrBrace(){const e=this.nextTokenInLineStart(),t=this.codePointAtPos(e);return t===123||this.chStartsBindingIdentifier(t,e)}startsUsingForOf(){const{type:e,containsEsc:t}=this.lookahead();if(e===102&&!t)return!1;if(Ke(e)&&!this.hasFollowingLineBreak())return this.expectPlugin("explicitResourceManagement"),!0}startsAwaitUsing(){let e=this.nextTokenInLineStart();if(this.isUnparsedContextual(e,"using")){e=this.nextTokenInLineStartSince(e+5);const t=this.codePointAtPos(e);if(this.chStartsBindingIdentifier(t,e))return this.expectPlugin("explicitResourceManagement"),!0}return!1}parseModuleItem(){return this.parseStatementLike(15)}parseStatementListItem(){return this.parseStatementLike(6|(!this.options.annexB||this.state.strict?0:8))}parseStatementOrSloppyAnnexBFunctionDeclaration(e=!1){let t=0;return this.options.annexB&&!this.state.strict&&(t|=4,e&&(t|=8)),this.parseStatementLike(t)}parseStatement(){return this.parseStatementLike(0)}parseStatementLike(e){let t=null;return this.match(26)&&(t=this.parseDecorators(!0)),this.parseStatementContent(e,t)}parseStatementContent(e,t){const i=this.state.type,s=this.startNode(),n=!!(e&2),a=!!(e&4),o=e&1;switch(i){case 60:return this.parseBreakContinueStatement(s,!0);case 63:return this.parseBreakContinueStatement(s,!1);case 64:return this.parseDebuggerStatement(s);case 90:return this.parseDoWhileStatement(s);case 91:return this.parseForStatement(s);case 68:if(this.lookaheadCharCode()===46)break;return a||this.raise(this.state.strict?C.StrictFunction:this.options.annexB?C.SloppyFunctionAnnexB:C.SloppyFunction,this.state.startLoc),this.parseFunctionStatement(s,!1,!n&&a);case 80:return n||this.unexpected(),this.parseClass(this.maybeTakeDecorators(t,s),!0);case 69:return this.parseIfStatement(s);case 70:return this.parseReturnStatement(s);case 71:return this.parseSwitchStatement(s);case 72:return this.parseThrowStatement(s);case 73:return this.parseTryStatement(s);case 96:if(!this.state.containsEsc&&this.startsAwaitUsing())return this.recordAwaitIfAllowed()?n||this.raise(C.UnexpectedLexicalDeclaration,s):this.raise(C.AwaitUsingNotInAsyncContext,s),this.next(),this.parseVarStatement(s,"await using");break;case 107:if(this.state.containsEsc||!this.hasInLineFollowingBindingIdentifierOrBrace())break;return this.expectPlugin("explicitResourceManagement"),!this.scope.inModule&&this.scope.inTopLevel?this.raise(C.UnexpectedUsingDeclaration,this.state.startLoc):n||this.raise(C.UnexpectedLexicalDeclaration,this.state.startLoc),this.parseVarStatement(s,"using");case 100:{if(this.state.containsEsc)break;const c=this.nextTokenStart(),u=this.codePointAtPos(c);if(u!==91&&(!n&&this.hasFollowingLineBreak()||!this.chStartsBindingIdentifier(u,c)&&u!==123))break}case 75:n||this.raise(C.UnexpectedLexicalDeclaration,this.state.startLoc);case 74:{const c=this.state.value;return this.parseVarStatement(s,c)}case 92:return this.parseWhileStatement(s);case 76:return this.parseWithStatement(s);case 5:return this.parseBlock();case 13:return this.parseEmptyStatement(s);case 83:{const c=this.lookaheadCharCode();if(c===40||c===46)break}case 82:{!this.options.allowImportExportEverywhere&&!o&&this.raise(C.UnexpectedImportExport,this.state.startLoc),this.next();let c;return i===83?(c=this.parseImport(s),c.type==="ImportDeclaration"&&(!c.importKind||c.importKind==="value")&&(this.sawUnambiguousESM=!0)):(c=this.parseExport(s,t),(c.type==="ExportNamedDeclaration"&&(!c.exportKind||c.exportKind==="value")||c.type==="ExportAllDeclaration"&&(!c.exportKind||c.exportKind==="value")||c.type==="ExportDefaultDeclaration")&&(this.sawUnambiguousESM=!0)),this.assertModuleNodeAllowed(c),c}default:if(this.isAsyncFunction())return n||this.raise(C.AsyncFunctionInSingleStatementContext,this.state.startLoc),this.next(),this.parseFunctionStatement(s,!0,!n&&a)}const l=this.state.value,h=this.parseExpression();return Ke(i)&&h.type==="Identifier"&&this.eat(14)?this.parseLabeledStatement(s,l,h,e):this.parseExpressionStatement(s,h,t)}assertModuleNodeAllowed(e){!this.options.allowImportExportEverywhere&&!this.inModule&&this.raise(C.ImportOutsideModule,e)}decoratorsEnabledBeforeExport(){return this.hasPlugin("decorators-legacy")?!0:this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")!==!1}maybeTakeDecorators(e,t,i){return e&&(t.decorators&&t.decorators.length>0?(typeof this.getPluginOption("decorators","decoratorsBeforeExport")!="boolean"&&this.raise(C.DecoratorsBeforeAfterExport,t.decorators[0]),t.decorators.unshift(...e)):t.decorators=e,this.resetStartLocationFromNode(t,e[0]),i&&this.resetStartLocationFromNode(i,t)),t}canHaveLeadingDecorator(){return this.match(80)}parseDecorators(e){const t=[];do t.push(this.parseDecorator());while(this.match(26));if(this.match(82))e||this.unexpected(),this.decoratorsEnabledBeforeExport()||this.raise(C.DecoratorExportClass,this.state.startLoc);else if(!this.canHaveLeadingDecorator())throw this.raise(C.UnexpectedLeadingDecorator,this.state.startLoc);return t}parseDecorator(){this.expectOnePlugin(["decorators","decorators-legacy"]);const e=this.startNode();if(this.next(),this.hasPlugin("decorators")){const t=this.state.startLoc;let i;if(this.match(10)){const s=this.state.startLoc;this.next(),i=this.parseExpression(),this.expect(11),i=this.wrapParenthesis(s,i);const n=this.state.startLoc;e.expression=this.parseMaybeDecoratorArguments(i),this.getPluginOption("decorators","allowCallParenthesized")===!1&&e.expression!==i&&this.raise(C.DecoratorArgumentsOutsideParentheses,n)}else{for(i=this.parseIdentifier(!1);this.eat(16);){const s=this.startNodeAt(t);s.object=i,this.match(139)?(this.classScope.usePrivateName(this.state.value,this.state.startLoc),s.property=this.parsePrivateName()):s.property=this.parseIdentifier(!0),s.computed=!1,i=this.finishNode(s,"MemberExpression")}e.expression=this.parseMaybeDecoratorArguments(i)}}else e.expression=this.parseExprSubscripts();return this.finishNode(e,"Decorator")}parseMaybeDecoratorArguments(e){if(this.eat(10)){const t=this.startNodeAtNode(e);return t.callee=e,t.arguments=this.parseCallExpressionArguments(11),this.toReferencedList(t.arguments),this.finishNode(t,"CallExpression")}return e}parseBreakContinueStatement(e,t){return this.next(),this.isLineTerminator()?e.label=null:(e.label=this.parseIdentifier(),this.semicolon()),this.verifyBreakContinue(e,t),this.finishNode(e,t?"BreakStatement":"ContinueStatement")}verifyBreakContinue(e,t){let i;for(i=0;i<this.state.labels.length;++i){const s=this.state.labels[i];if((e.label==null||s.name===e.label.name)&&(s.kind!=null&&(t||s.kind===1)||e.label&&t))break}if(i===this.state.labels.length){const s=t?"BreakStatement":"ContinueStatement";this.raise(C.IllegalBreakContinue,e,{type:s})}}parseDebuggerStatement(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")}parseHeaderExpression(){this.expect(10);const e=this.parseExpression();return this.expect(11),e}parseDoWhileStatement(e){return this.next(),this.state.labels.push(kl),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.expect(92),e.test=this.parseHeaderExpression(),this.eat(13),this.finishNode(e,"DoWhileStatement")}parseForStatement(e){this.next(),this.state.labels.push(kl);let t=null;if(this.isContextual(96)&&this.recordAwaitIfAllowed()&&(t=this.state.startLoc,this.next()),this.scope.enter(0),this.expect(10),this.match(13))return t!==null&&this.unexpected(t),this.parseFor(e,null);const i=this.isContextual(100);{const l=this.isContextual(96)&&this.startsAwaitUsing(),h=l||this.isContextual(107)&&this.startsUsingForOf(),c=i&&this.hasFollowingBindingAtom()||h;if(this.match(74)||this.match(75)||c){const u=this.startNode();let p;l?(p="await using",this.recordAwaitIfAllowed()||this.raise(C.AwaitUsingNotInAsyncContext,this.state.startLoc),this.next()):p=this.state.value,this.next(),this.parseVar(u,!0,p);const m=this.finishNode(u,"VariableDeclaration"),g=this.match(58);return g&&h&&this.raise(C.ForInUsing,m),(g||this.isContextual(102))&&m.declarations.length===1?this.parseForIn(e,m,t):(t!==null&&this.unexpected(t),this.parseFor(e,m))}}const s=this.isContextual(95),n=new qa,a=this.parseExpression(!0,n),o=this.isContextual(102);if(o&&(i&&this.raise(C.ForOfLet,a),t===null&&s&&a.type==="Identifier"&&this.raise(C.ForOfAsync,a)),o||this.match(58)){this.checkDestructuringPrivate(n),this.toAssignable(a,!0);const l=o?"ForOfStatement":"ForInStatement";return this.checkLVal(a,{type:l}),this.parseForIn(e,a,t)}else this.checkExpressionErrors(n,!0);return t!==null&&this.unexpected(t),this.parseFor(e,a)}parseFunctionStatement(e,t,i){return this.next(),this.parseFunction(e,1|(i?2:0)|(t?8:0))}parseIfStatement(e){return this.next(),e.test=this.parseHeaderExpression(),e.consequent=this.parseStatementOrSloppyAnnexBFunctionDeclaration(),e.alternate=this.eat(66)?this.parseStatementOrSloppyAnnexBFunctionDeclaration():null,this.finishNode(e,"IfStatement")}parseReturnStatement(e){return!this.prodParam.hasReturn&&!this.options.allowReturnOutsideFunction&&this.raise(C.IllegalReturn,this.state.startLoc),this.next(),this.isLineTerminator()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")}parseSwitchStatement(e){this.next(),e.discriminant=this.parseHeaderExpression();const t=e.cases=[];this.expect(5),this.state.labels.push(oP),this.scope.enter(0);let i;for(let s;!this.match(8);)if(this.match(61)||this.match(65)){const n=this.match(61);i&&this.finishNode(i,"SwitchCase"),t.push(i=this.startNode()),i.consequent=[],this.next(),n?i.test=this.parseExpression():(s&&this.raise(C.MultipleDefaultsInSwitch,this.state.lastTokStartLoc),s=!0,i.test=null),this.expect(14)}else i?i.consequent.push(this.parseStatementListItem()):this.unexpected();return this.scope.exit(),i&&this.finishNode(i,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(e,"SwitchStatement")}parseThrowStatement(e){return this.next(),this.hasPrecedingLineBreak()&&this.raise(C.NewlineAfterThrow,this.state.lastTokEndLoc),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")}parseCatchClauseParam(){const e=this.parseBindingAtom();return this.scope.enter(this.options.annexB&&e.type==="Identifier"?8:0),this.checkLVal(e,{type:"CatchClause"},9),e}parseTryStatement(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.match(62)){const t=this.startNode();this.next(),this.match(10)?(this.expect(10),t.param=this.parseCatchClauseParam(),this.expect(11)):(t.param=null,this.scope.enter(0)),t.body=this.withSmartMixTopicForbiddingContext(()=>this.parseBlock(!1,!1)),this.scope.exit(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(67)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(C.NoCatchOrFinally,e),this.finishNode(e,"TryStatement")}parseVarStatement(e,t,i=!1){return this.next(),this.parseVar(e,!1,t,i),this.semicolon(),this.finishNode(e,"VariableDeclaration")}parseWhileStatement(e){return this.next(),e.test=this.parseHeaderExpression(),this.state.labels.push(kl),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.finishNode(e,"WhileStatement")}parseWithStatement(e){return this.state.strict&&this.raise(C.StrictWith,this.state.startLoc),this.next(),e.object=this.parseHeaderExpression(),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.finishNode(e,"WithStatement")}parseEmptyStatement(e){return this.next(),this.finishNode(e,"EmptyStatement")}parseLabeledStatement(e,t,i,s){for(const a of this.state.labels)a.name===t&&this.raise(C.LabelRedeclaration,i,{labelName:t});const n=Yx(this.state.type)?1:this.match(71)?2:null;for(let a=this.state.labels.length-1;a>=0;a--){const o=this.state.labels[a];if(o.statementStart===e.start)o.statementStart=this.sourceToOffsetPos(this.state.start),o.kind=n;else break}return this.state.labels.push({name:t,kind:n,statementStart:this.sourceToOffsetPos(this.state.start)}),e.body=s&8?this.parseStatementOrSloppyAnnexBFunctionDeclaration(!0):this.parseStatement(),this.state.labels.pop(),e.label=i,this.finishNode(e,"LabeledStatement")}parseExpressionStatement(e,t,i){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")}parseBlock(e=!1,t=!0,i){const s=this.startNode();return e&&this.state.strictErrors.clear(),this.expect(5),t&&this.scope.enter(0),this.parseBlockBody(s,e,!1,8,i),t&&this.scope.exit(),this.finishNode(s,"BlockStatement")}isValidDirective(e){return e.type==="ExpressionStatement"&&e.expression.type==="StringLiteral"&&!e.expression.extra.parenthesized}parseBlockBody(e,t,i,s,n){const a=e.body=[],o=e.directives=[];this.parseBlockOrModuleBlockBody(a,t?o:void 0,i,s,n)}parseBlockOrModuleBlockBody(e,t,i,s,n){const a=this.state.strict;let o=!1,l=!1;for(;!this.match(s);){const h=i?this.parseModuleItem():this.parseStatementListItem();if(t&&!l){if(this.isValidDirective(h)){const c=this.stmtToDirective(h);t.push(c),!o&&c.value.value==="use strict"&&(o=!0,this.setStrict(!0));continue}l=!0,this.state.strictErrors.clear()}e.push(h)}n==null||n.call(this,o),a||this.setStrict(!1),this.next()}parseFor(e,t){return e.init=t,this.semicolon(!1),e.test=this.match(13)?null:this.parseExpression(),this.semicolon(!1),e.update=this.match(11)?null:this.parseExpression(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,"ForStatement")}parseForIn(e,t,i){const s=this.match(58);return this.next(),s?i!==null&&this.unexpected(i):e.await=i!==null,t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!s||!this.options.annexB||this.state.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(C.ForInOfLoopInitializer,t,{type:s?"ForInStatement":"ForOfStatement"}),t.type==="AssignmentPattern"&&this.raise(C.InvalidLhs,t,{ancestor:{type:"ForStatement"}}),e.left=t,e.right=s?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,s?"ForInStatement":"ForOfStatement")}parseVar(e,t,i,s=!1){const n=e.declarations=[];for(e.kind=i;;){const a=this.startNode();if(this.parseVarId(a,i),a.init=this.eat(29)?t?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn():null,a.init===null&&!s&&(a.id.type!=="Identifier"&&!(t&&(this.match(58)||this.isContextual(102)))?this.raise(C.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:"destructuring"}):(i==="const"||i==="using"||i==="await using")&&!(this.match(58)||this.isContextual(102))&&this.raise(C.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:i})),n.push(this.finishNode(a,"VariableDeclarator")),!this.eat(12))break}return e}parseVarId(e,t){const i=this.parseBindingAtom();(t==="using"||t==="await using")&&(i.type==="ArrayPattern"||i.type==="ObjectPattern")&&this.raise(C.UsingDeclarationHasBindingPattern,i.loc.start),this.checkLVal(i,{type:"VariableDeclarator"},t==="var"?5:8201),e.id=i}parseAsyncFunctionExpression(e){return this.parseFunction(e,8)}parseFunction(e,t=0){const i=t&2,s=!!(t&1),n=s&&!(t&4),a=!!(t&8);this.initFunction(e,a),this.match(55)&&(i&&this.raise(C.GeneratorInSingleStatementContext,this.state.startLoc),this.next(),e.generator=!0),s&&(e.id=this.parseFunctionId(n));const o=this.state.maybeInArrowParameters;return this.state.maybeInArrowParameters=!1,this.scope.enter(2),this.prodParam.enter(Xa(a,e.generator)),s||(e.id=this.parseFunctionId()),this.parseFunctionParams(e,!1),this.withSmartMixTopicForbiddingContext(()=>{this.parseFunctionBodyAndFinish(e,s?"FunctionDeclaration":"FunctionExpression")}),this.prodParam.exit(),this.scope.exit(),s&&!i&&this.registerFunctionStatementId(e),this.state.maybeInArrowParameters=o,e}parseFunctionId(e){return e||Ke(this.state.type)?this.parseIdentifier():null}parseFunctionParams(e,t){this.expect(10),this.expressionScope.enter(Ck()),e.params=this.parseBindingList(11,41,2|(t?4:0)),this.expressionScope.exit()}registerFunctionStatementId(e){!e.id||this.scope.declareName(e.id.name,!this.options.annexB||this.state.strict||e.generator||e.async?this.scope.treatFunctionsAsVar?5:8201:17,e.id.loc.start)}parseClass(e,t,i){this.next();const s=this.state.strict;return this.state.strict=!0,this.parseClassId(e,t,i),this.parseClassSuper(e),e.body=this.parseClassBody(!!e.superClass,s),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")}isClassProperty(){return this.match(29)||this.match(13)||this.match(8)}isClassMethod(){return this.match(10)}nameIsConstructor(e){return e.type==="Identifier"&&e.name==="constructor"||e.type==="StringLiteral"&&e.value==="constructor"}isNonstaticConstructor(e){return!e.computed&&!e.static&&this.nameIsConstructor(e.key)}parseClassBody(e,t){this.classScope.enter();const i={hadConstructor:!1,hadSuperClass:e};let s=[];const n=this.startNode();if(n.body=[],this.expect(5),this.withSmartMixTopicForbiddingContext(()=>{for(;!this.match(8);){if(this.eat(13)){if(s.length>0)throw this.raise(C.DecoratorSemicolon,this.state.lastTokEndLoc);continue}if(this.match(26)){s.push(this.parseDecorator());continue}const a=this.startNode();s.length&&(a.decorators=s,this.resetStartLocationFromNode(a,s[0]),s=[]),this.parseClassMember(n,a,i),a.kind==="constructor"&&a.decorators&&a.decorators.length>0&&this.raise(C.DecoratorConstructor,a)}}),this.state.strict=t,this.next(),s.length)throw this.raise(C.TrailingDecorator,this.state.startLoc);return this.classScope.exit(),this.finishNode(n,"ClassBody")}parseClassMemberFromModifier(e,t){const i=this.parseIdentifier(!0);if(this.isClassMethod()){const s=t;return s.kind="method",s.computed=!1,s.key=i,s.static=!1,this.pushClassMethod(e,s,!1,!1,!1,!1),!0}else if(this.isClassProperty()){const s=t;return s.computed=!1,s.key=i,s.static=!1,e.body.push(this.parseClassProperty(s)),!0}return this.resetPreviousNodeTrailingComments(i),!1}parseClassMember(e,t,i){const s=this.isContextual(106);if(s){if(this.parseClassMemberFromModifier(e,t))return;if(this.eat(5)){this.parseClassStaticBlock(e,t);return}}this.parseClassMemberWithIsStatic(e,t,i,s)}parseClassMemberWithIsStatic(e,t,i,s){const n=t,a=t,o=t,l=t,h=t,c=n,u=n;if(t.static=s,this.parsePropertyNamePrefixOperator(t),this.eat(55)){c.kind="method";const y=this.match(139);if(this.parseClassElementName(c),y){this.pushClassPrivateMethod(e,a,!0,!1);return}this.isNonstaticConstructor(n)&&this.raise(C.ConstructorIsGenerator,n.key),this.pushClassMethod(e,n,!0,!1,!1,!1);return}const p=!this.state.containsEsc&&Ke(this.state.type),m=this.parseClassElementName(t),g=p?m.name:null,b=this.isPrivateName(m),w=this.state.startLoc;if(this.parsePostMemberNameModifiers(u),this.isClassMethod()){if(c.kind="method",b){this.pushClassPrivateMethod(e,a,!1,!1);return}const y=this.isNonstaticConstructor(n);let v=!1;y&&(n.kind="constructor",i.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(C.DuplicateConstructor,m),y&&this.hasPlugin("typescript")&&t.override&&this.raise(C.OverrideOnConstructor,m),i.hadConstructor=!0,v=i.hadSuperClass),this.pushClassMethod(e,n,!1,!1,y,v)}else if(this.isClassProperty())b?this.pushClassPrivateProperty(e,l):this.pushClassProperty(e,o);else if(g==="async"&&!this.isLineTerminator()){this.resetPreviousNodeTrailingComments(m);const y=this.eat(55);u.optional&&this.unexpected(w),c.kind="method";const v=this.match(139);this.parseClassElementName(c),this.parsePostMemberNameModifiers(u),v?this.pushClassPrivateMethod(e,a,y,!0):(this.isNonstaticConstructor(n)&&this.raise(C.ConstructorIsAsync,n.key),this.pushClassMethod(e,n,y,!0,!1,!1))}else if((g==="get"||g==="set")&&!(this.match(55)&&this.isLineTerminator())){this.resetPreviousNodeTrailingComments(m),c.kind=g;const y=this.match(139);this.parseClassElementName(n),y?this.pushClassPrivateMethod(e,a,!1,!1):(this.isNonstaticConstructor(n)&&this.raise(C.ConstructorIsAccessor,n.key),this.pushClassMethod(e,n,!1,!1,!1,!1)),this.checkGetterSetterParams(n)}else if(g==="accessor"&&!this.isLineTerminator()){this.expectPlugin("decoratorAutoAccessors"),this.resetPreviousNodeTrailingComments(m);const y=this.match(139);this.parseClassElementName(o),this.pushClassAccessorProperty(e,h,y)}else this.isLineTerminator()?b?this.pushClassPrivateProperty(e,l):this.pushClassProperty(e,o):this.unexpected()}parseClassElementName(e){const{type:t,value:i}=this.state;if((t===132||t===134)&&e.static&&i==="prototype"&&this.raise(C.StaticPrototype,this.state.startLoc),t===139){i==="constructor"&&this.raise(C.ConstructorClassPrivateField,this.state.startLoc);const s=this.parsePrivateName();return e.key=s,s}return this.parsePropertyName(e),e.key}parseClassStaticBlock(e,t){var i;this.scope.enter(208);const s=this.state.labels;this.state.labels=[],this.prodParam.enter(0);const n=t.body=[];this.parseBlockOrModuleBlockBody(n,void 0,!1,8),this.prodParam.exit(),this.scope.exit(),this.state.labels=s,e.body.push(this.finishNode(t,"StaticBlock")),(i=t.decorators)!=null&&i.length&&this.raise(C.DecoratorStaticBlock,t)}pushClassProperty(e,t){!t.computed&&this.nameIsConstructor(t.key)&&this.raise(C.ConstructorClassField,t.key),e.body.push(this.parseClassProperty(t))}pushClassPrivateProperty(e,t){const i=this.parseClassPrivateProperty(t);e.body.push(i),this.classScope.declarePrivateName(this.getPrivateNameSV(i.key),0,i.key.loc.start)}pushClassAccessorProperty(e,t,i){!i&&!t.computed&&this.nameIsConstructor(t.key)&&this.raise(C.ConstructorClassField,t.key);const s=this.parseClassAccessorProperty(t);e.body.push(s),i&&this.classScope.declarePrivateName(this.getPrivateNameSV(s.key),0,s.key.loc.start)}pushClassMethod(e,t,i,s,n,a){e.body.push(this.parseMethod(t,i,s,n,a,"ClassMethod",!0))}pushClassPrivateMethod(e,t,i,s){const n=this.parseMethod(t,i,s,!1,!1,"ClassPrivateMethod",!0);e.body.push(n);const a=n.kind==="get"?n.static?6:2:n.kind==="set"?n.static?5:1:0;this.declareClassPrivateMethodInScope(n,a)}declareClassPrivateMethodInScope(e,t){this.classScope.declarePrivateName(this.getPrivateNameSV(e.key),t,e.key.loc.start)}parsePostMemberNameModifiers(e){}parseClassPrivateProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassPrivateProperty")}parseClassProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassProperty")}parseClassAccessorProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassAccessorProperty")}parseInitializer(e){this.scope.enter(80),this.expressionScope.enter(jg()),this.prodParam.enter(0),e.value=this.eat(29)?this.parseMaybeAssignAllowIn():null,this.expressionScope.exit(),this.prodParam.exit(),this.scope.exit()}parseClassId(e,t,i,s=8331){if(Ke(this.state.type))e.id=this.parseIdentifier(),t&&this.declareNameFromIdentifier(e.id,s);else if(i||!t)e.id=null;else throw this.raise(C.MissingClassName,this.state.startLoc)}parseClassSuper(e){e.superClass=this.eat(81)?this.parseExprSubscripts():null}parseExport(e,t){const i=this.parseMaybeImportPhase(e,!0),s=this.maybeParseExportDefaultSpecifier(e,i),n=!s||this.eat(12),a=n&&this.eatExportStar(e),o=a&&this.maybeParseExportNamespaceSpecifier(e),l=n&&(!o||this.eat(12)),h=s||a;if(a&&!o){if(s&&this.unexpected(),t)throw this.raise(C.UnsupportedDecoratorExport,e);return this.parseExportFrom(e,!0),this.finishNode(e,"ExportAllDeclaration")}const c=this.maybeParseExportNamedSpecifiers(e);s&&n&&!a&&!c&&this.unexpected(null,5),o&&l&&this.unexpected(null,98);let u;if(h||c){if(u=!1,t)throw this.raise(C.UnsupportedDecoratorExport,e);this.parseExportFrom(e,h)}else u=this.maybeParseExportDeclaration(e);if(h||c||u){var p;const m=e;if(this.checkExport(m,!0,!1,!!m.source),((p=m.declaration)==null?void 0:p.type)==="ClassDeclaration")this.maybeTakeDecorators(t,m.declaration,m);else if(t)throw this.raise(C.UnsupportedDecoratorExport,e);return this.finishNode(m,"ExportNamedDeclaration")}if(this.eat(65)){const m=e,g=this.parseExportDefaultExpression();if(m.declaration=g,g.type==="ClassDeclaration")this.maybeTakeDecorators(t,g,m);else if(t)throw this.raise(C.UnsupportedDecoratorExport,e);return this.checkExport(m,!0,!0),this.finishNode(m,"ExportDefaultDeclaration")}this.unexpected(null,5)}eatExportStar(e){return this.eat(55)}maybeParseExportDefaultSpecifier(e,t){if(t||this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom",t==null?void 0:t.loc.start);const i=t||this.parseIdentifier(!0),s=this.startNodeAtNode(i);return s.exported=i,e.specifiers=[this.finishNode(s,"ExportDefaultSpecifier")],!0}return!1}maybeParseExportNamespaceSpecifier(e){if(this.isContextual(93)){var t,i;(i=(t=e).specifiers)!=null||(t.specifiers=[]);const s=this.startNodeAt(this.state.lastTokStartLoc);return this.next(),s.exported=this.parseModuleExportName(),e.specifiers.push(this.finishNode(s,"ExportNamespaceSpecifier")),!0}return!1}maybeParseExportNamedSpecifiers(e){if(this.match(5)){const t=e;t.specifiers||(t.specifiers=[]);const i=t.exportKind==="type";return t.specifiers.push(...this.parseExportSpecifiers(i)),t.source=null,t.declaration=null,this.hasPlugin("importAssertions")&&(t.assertions=[]),!0}return!1}maybeParseExportDeclaration(e){return this.shouldParseExportDeclaration()?(e.specifiers=[],e.source=null,this.hasPlugin("importAssertions")&&(e.assertions=[]),e.declaration=this.parseExportDeclaration(e),!0):!1}isAsyncFunction(){if(!this.isContextual(95))return!1;const e=this.nextTokenInLineStart();return this.isUnparsedContextual(e,"function")}parseExportDefaultExpression(){const e=this.startNode();if(this.match(68))return this.next(),this.parseFunction(e,5);if(this.isAsyncFunction())return this.next(),this.next(),this.parseFunction(e,13);if(this.match(80))return this.parseClass(e,!0,!0);if(this.match(26))return this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")===!0&&this.raise(C.DecoratorBeforeExport,this.state.startLoc),this.parseClass(this.maybeTakeDecorators(this.parseDecorators(!1),this.startNode()),!0,!0);if(this.match(75)||this.match(74)||this.isLet())throw this.raise(C.UnsupportedDefaultExport,this.state.startLoc);const t=this.parseMaybeAssignAllowIn();return this.semicolon(),t}parseExportDeclaration(e){return this.match(80)?this.parseClass(this.startNode(),!0,!1):this.parseStatementListItem()}isExportDefaultSpecifier(){const{type:e}=this.state;if(Ke(e)){if(e===95&&!this.state.containsEsc||e===100)return!1;if((e===130||e===129)&&!this.state.containsEsc){const{type:s}=this.lookahead();if(Ke(s)&&s!==98||s===5)return this.expectOnePlugin(["flow","typescript"]),!1}}else if(!this.match(65))return!1;const t=this.nextTokenStart(),i=this.isUnparsedContextual(t,"from");if(this.input.charCodeAt(t)===44||Ke(this.state.type)&&i)return!0;if(this.match(65)&&i){const s=this.input.charCodeAt(this.nextTokenStartSince(t+4));return s===34||s===39}return!1}parseExportFrom(e,t){this.eatContextual(98)?(e.source=this.parseImportSource(),this.checkExport(e),this.maybeParseImportAttributes(e),this.checkJSONModuleImport(e)):t&&this.unexpected(),this.semicolon()}shouldParseExportDeclaration(){const{type:e}=this.state;return e===26&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))?(this.getPluginOption("decorators","decoratorsBeforeExport")===!0&&this.raise(C.DecoratorBeforeExport,this.state.startLoc),!0):this.isContextual(107)?(this.raise(C.UsingDeclarationExport,this.state.startLoc),!0):this.isContextual(96)&&this.startsAwaitUsing()?(this.raise(C.UsingDeclarationExport,this.state.startLoc),!0):e===74||e===75||e===68||e===80||this.isLet()||this.isAsyncFunction()}checkExport(e,t,i,s){if(t){var n;if(i){if(this.checkDuplicateExports(e,"default"),this.hasPlugin("exportDefaultFrom")){var a;const o=e.declaration;o.type==="Identifier"&&o.name==="from"&&o.end-o.start===4&&!((a=o.extra)!=null&&a.parenthesized)&&this.raise(C.ExportDefaultFromAsIdentifier,o)}}else if((n=e.specifiers)!=null&&n.length)for(const o of e.specifiers){const{exported:l}=o,h=l.type==="Identifier"?l.name:l.value;if(this.checkDuplicateExports(o,h),!s&&o.local){const{local:c}=o;c.type!=="Identifier"?this.raise(C.ExportBindingIsString,o,{localName:c.value,exportName:h}):(this.checkReservedWord(c.name,c.loc.start,!0,!1),this.scope.checkLocalExport(c))}}else if(e.declaration){const o=e.declaration;if(o.type==="FunctionDeclaration"||o.type==="ClassDeclaration"){const{id:l}=o;if(!l)throw new Error("Assertion failure");this.checkDuplicateExports(e,l.name)}else if(o.type==="VariableDeclaration")for(const l of o.declarations)this.checkDeclaration(l.id)}}}checkDeclaration(e){if(e.type==="Identifier")this.checkDuplicateExports(e,e.name);else if(e.type==="ObjectPattern")for(const t of e.properties)this.checkDeclaration(t);else if(e.type==="ArrayPattern")for(const t of e.elements)t&&this.checkDeclaration(t);else e.type==="ObjectProperty"?this.checkDeclaration(e.value):e.type==="RestElement"?this.checkDeclaration(e.argument):e.type==="AssignmentPattern"&&this.checkDeclaration(e.left)}checkDuplicateExports(e,t){this.exportedIdentifiers.has(t)&&(t==="default"?this.raise(C.DuplicateDefaultExport,e):this.raise(C.DuplicateExport,e,{exportName:t})),this.exportedIdentifiers.add(t)}parseExportSpecifiers(e){const t=[];let i=!0;for(this.expect(5);!this.eat(8);){if(i)i=!1;else if(this.expect(12),this.eat(8))break;const s=this.isContextual(130),n=this.match(134),a=this.startNode();a.local=this.parseModuleExportName(),t.push(this.parseExportSpecifier(a,n,e,s))}return t}parseExportSpecifier(e,t,i,s){return this.eatContextual(93)?e.exported=this.parseModuleExportName():t?e.exported=$k(e.local):e.exported||(e.exported=vs(e.local)),this.finishNode(e,"ExportSpecifier")}parseModuleExportName(){if(this.match(134)){const e=this.parseStringLiteral(this.state.value),t=lP.exec(e.value);return t&&this.raise(C.ModuleExportNameHasLoneSurrogate,e,{surrogateCharCode:t[0].charCodeAt(0)}),e}return this.parseIdentifier(!0)}isJSONModuleImport(e){return e.assertions!=null?e.assertions.some(({key:t,value:i})=>i.value==="json"&&(t.type==="Identifier"?t.name==="type":t.value==="type")):!1}checkImportReflection(e){const{specifiers:t}=e,i=t.length===1?t[0].type:null;if(e.phase==="source")i!=="ImportDefaultSpecifier"&&this.raise(C.SourcePhaseImportRequiresDefault,t[0].loc.start);else if(e.phase==="defer")i!=="ImportNamespaceSpecifier"&&this.raise(C.DeferImportRequiresNamespace,t[0].loc.start);else if(e.module){var s;i!=="ImportDefaultSpecifier"&&this.raise(C.ImportReflectionNotBinding,t[0].loc.start),((s=e.assertions)==null?void 0:s.length)>0&&this.raise(C.ImportReflectionHasAssertion,t[0].loc.start)}}checkJSONModuleImport(e){if(this.isJSONModuleImport(e)&&e.type!=="ExportAllDeclaration"){const{specifiers:t}=e;if(t!=null){const i=t.find(s=>{let n;if(s.type==="ExportSpecifier"?n=s.local:s.type==="ImportSpecifier"&&(n=s.imported),n!==void 0)return n.type==="Identifier"?n.name!=="default":n.value!=="default"});i!==void 0&&this.raise(C.ImportJSONBindingNotDefault,i.loc.start)}}}isPotentialImportPhase(e){return e?!1:this.isContextual(105)||this.isContextual(97)||this.isContextual(127)}applyImportPhase(e,t,i,s){t||(i==="module"?(this.expectPlugin("importReflection",s),e.module=!0):this.hasPlugin("importReflection")&&(e.module=!1),i==="source"?(this.expectPlugin("sourcePhaseImports",s),e.phase="source"):i==="defer"?(this.expectPlugin("deferredImportEvaluation",s),e.phase="defer"):this.hasPlugin("sourcePhaseImports")&&(e.phase=null))}parseMaybeImportPhase(e,t){if(!this.isPotentialImportPhase(t))return this.applyImportPhase(e,t,null),null;const i=this.parseIdentifier(!0),{type:s}=this.state;return(Xi(s)?s!==98||this.lookaheadCharCode()===102:s!==12)?(this.resetPreviousIdentifierLeadingComments(i),this.applyImportPhase(e,t,i.name,i.loc.start),null):(this.applyImportPhase(e,t,null),i)}isPrecedingIdImportPhase(e){const{type:t}=this.state;return Ke(t)?t!==98||this.lookaheadCharCode()===102:t!==12}parseImport(e){return this.match(134)?this.parseImportSourceAndAttributes(e):this.parseImportSpecifiersAndAfter(e,this.parseMaybeImportPhase(e,!1))}parseImportSpecifiersAndAfter(e,t){e.specifiers=[];const s=!this.maybeParseDefaultImportSpecifier(e,t)||this.eat(12),n=s&&this.maybeParseStarImportSpecifier(e);return s&&!n&&this.parseNamedImportSpecifiers(e),this.expectContextual(98),this.parseImportSourceAndAttributes(e)}parseImportSourceAndAttributes(e){var t;return(t=e.specifiers)!=null||(e.specifiers=[]),e.source=this.parseImportSource(),this.maybeParseImportAttributes(e),this.checkImportReflection(e),this.checkJSONModuleImport(e),this.semicolon(),this.finishNode(e,"ImportDeclaration")}parseImportSource(){return this.match(134)||this.unexpected(),this.parseExprAtom()}parseImportSpecifierLocal(e,t,i){t.local=this.parseIdentifier(),e.specifiers.push(this.finishImportSpecifier(t,i))}finishImportSpecifier(e,t,i=8201){return this.checkLVal(e.local,{type:t},i),this.finishNode(e,t)}parseImportAttributes(){this.expect(5);const e=[],t=new Set;do{if(this.match(8))break;const i=this.startNode(),s=this.state.value;if(t.has(s)&&this.raise(C.ModuleAttributesWithDuplicateKeys,this.state.startLoc,{key:s}),t.add(s),this.match(134)?i.key=this.parseStringLiteral(s):i.key=this.parseIdentifier(!0),this.expect(14),!this.match(134))throw this.raise(C.ModuleAttributeInvalidValue,this.state.startLoc);i.value=this.parseStringLiteral(this.state.value),e.push(this.finishNode(i,"ImportAttribute"))}while(this.eat(12));return this.expect(8),e}parseModuleAttributes(){const e=[],t=new Set;do{const i=this.startNode();if(i.key=this.parseIdentifier(!0),i.key.name!=="type"&&this.raise(C.ModuleAttributeDifferentFromType,i.key),t.has(i.key.name)&&this.raise(C.ModuleAttributesWithDuplicateKeys,i.key,{key:i.key.name}),t.add(i.key.name),this.expect(14),!this.match(134))throw this.raise(C.ModuleAttributeInvalidValue,this.state.startLoc);i.value=this.parseStringLiteral(this.state.value),e.push(this.finishNode(i,"ImportAttribute"))}while(this.eat(12));return e}maybeParseImportAttributes(e){let t;var i=!1;if(this.match(76)){if(this.hasPrecedingLineBreak()&&this.lookaheadCharCode()===40)return;this.next(),this.hasPlugin("moduleAttributes")?t=this.parseModuleAttributes():t=this.parseImportAttributes(),i=!0}else this.isContextual(94)&&!this.hasPrecedingLineBreak()?(!this.hasPlugin("deprecatedImportAssert")&&!this.hasPlugin("importAssertions")&&this.raise(C.ImportAttributesUseAssert,this.state.startLoc),this.hasPlugin("importAssertions")||this.addExtra(e,"deprecatedAssertSyntax",!0),this.next(),t=this.parseImportAttributes()):t=[];!i&&this.hasPlugin("importAssertions")?e.assertions=t:e.attributes=t}maybeParseDefaultImportSpecifier(e,t){if(t){const i=this.startNodeAtNode(t);return i.local=t,e.specifiers.push(this.finishImportSpecifier(i,"ImportDefaultSpecifier")),!0}else if(Xi(this.state.type))return this.parseImportSpecifierLocal(e,this.startNode(),"ImportDefaultSpecifier"),!0;return!1}maybeParseStarImportSpecifier(e){if(this.match(55)){const t=this.startNode();return this.next(),this.expectContextual(93),this.parseImportSpecifierLocal(e,t,"ImportNamespaceSpecifier"),!0}return!1}parseNamedImportSpecifiers(e){let t=!0;for(this.expect(5);!this.eat(8);){if(t)t=!1;else{if(this.eat(14))throw this.raise(C.DestructureNamedImport,this.state.startLoc);if(this.expect(12),this.eat(8))break}const i=this.startNode(),s=this.match(134),n=this.isContextual(130);i.imported=this.parseModuleExportName();const a=this.parseImportSpecifier(i,s,e.importKind==="type"||e.importKind==="typeof",n,void 0);e.specifiers.push(a)}}parseImportSpecifier(e,t,i,s,n){if(this.eatContextual(93))e.local=this.parseIdentifier();else{const{imported:a}=e;if(t)throw this.raise(C.ImportBindingIsString,e,{importName:a.value});this.checkReservedWord(a.name,e.loc.start,!0,!0),e.local||(e.local=vs(a))}return this.finishImportSpecifier(e,"ImportSpecifier",n)}isThisParam(e){return e.type==="Identifier"&&e.name==="this"}}class Ug extends cP{constructor(e,t,i){e=nP(e),super(e,t),this.options=e,this.initializeScopes(),this.plugins=i,this.filename=e.sourceFilename,this.startIndex=e.startIndex}getScopeHandler(){return yc}parse(){this.enterInitialScopes();const e=this.startNode(),t=this.startNode();return this.nextToken(),e.errors=null,this.parseTopLevel(e,t),e.errors=this.state.errors,e.comments.length=this.state.commentsLen,e}}function uP(r,e){var t;if(((t=e)==null?void 0:t.sourceType)==="unambiguous"){e=Object.assign({},e);try{e.sourceType="module";const i=mn(e,r),s=i.parse();if(i.sawUnambiguousESM)return s;if(i.ambiguousScriptDifferentAst)try{return e.sourceType="script",mn(e,r).parse()}catch{}else s.program.sourceType="script";return s}catch(i){try{return e.sourceType="script",mn(e,r).parse()}catch{}throw i}}else return mn(e,r).parse()}function fP(r,e){const t=mn(e,r);return t.options.strictMode&&(t.state.strict=!0),t.getExpression()}function pP(r){const e={};for(const t of Object.keys(r))e[t]=hs(r[t]);return e}const dP=pP(Vx);function mn(r,e){let t=Ug;const i=new Map;if(r!=null&&r.plugins){for(const s of r.plugins){let n,a;typeof s=="string"?n=s:[n,a]=s,i.has(n)||i.set(n,a||{})}iP(i),t=mP(i)}return new t(r,e,i)}const rd=new Map;function mP(r){const e=[];for(const s of sP)r.has(s)&&e.push(s);const t=e.join("|");let i=rd.get(t);if(!i){i=Ug;for(const s of e)i=zg[s](i);rd.set(t,i)}return i}var gP=Ro.parse=uP;Ro.parseExpression=fP;Ro.tokTypes=dP;function OP(r){let e,t,i,s,n,a,o,l,h,c,u,p,m=(r[0].title||"\u672A\u547D\u540D\u811A\u672C")+"",g,b,w,y,v,T,x,P,S,A,Q,I,L,$,N=r[5]==="remote"&&nd(r);return{c(){e=O("div"),t=O("div"),i=O("div"),s=O("div"),n=O("div"),a=O("button"),a.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>
                \u8FD4\u56DE`,o=k(),l=O("div"),h=O("img"),u=k(),p=O("span"),g=U(m),b=k(),w=O("div"),y=O("div"),v=O("button"),v.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd"></path></svg>
                \u5F00\u53D1\u6587\u6863`,T=k(),N&&N.c(),x=k(),P=O("button"),P.innerHTML=`\u4FDD\u5B58
                <kbd class="kbd kbd-sm bg-base-200 text-base-content ml-1">\u2318S</kbd>`,S=k(),A=O("button"),A.textContent="\u5173\u95ED",Q=k(),I=O("div"),f(a,"class","btn btn-ghost btn-sm"),ot(h.src,c=kt.getIcon(r[2]))||f(h,"src",c),f(h,"class","w-6 h-6 rounded"),f(h,"alt",""),f(p,"class","text-xl font-bold"),f(l,"class","flex items-center gap-2"),f(n,"class","flex items-center gap-4"),f(s,"class","flex-1"),f(v,"class","btn btn-ghost btn-sm gap-2"),f(P,"class","btn btn-primary btn-sm"),f(A,"class","btn btn-ghost btn-sm"),f(y,"class","flex items-center gap-2"),f(w,"class","flex-none gap-2"),f(i,"class","navbar bg-base-100 border-b border-base-300 flex-none"),f(I,"class","editor-wrapper svelte-1pknc0t"),f(t,"class","drawer-content flex flex-col h-full"),f(e,"class","drawer drawer-end h-full")},m(R,F){M(R,e,F),d(e,t),d(t,i),d(i,s),d(s,n),d(n,a),d(n,o),d(n,l),d(l,h),d(l,u),d(l,p),d(p,g),d(i,b),d(i,w),d(w,y),d(y,v),d(y,T),N&&N.m(y,null),d(y,x),d(y,P),d(y,S),d(y,A),d(t,Q),d(t,I),r[32](I),L||($=[B(a,"click",r[16]),B(v,"click",r[29]),B(P,"click",r[12]),B(A,"click",r[31])],L=!0)},p(R,F){F[0]&4&&!ot(h.src,c=kt.getIcon(R[2]))&&f(h,"src",c),F[0]&1&&m!==(m=(R[0].title||"\u672A\u547D\u540D\u811A\u672C")+"")&&oe(g,m),R[5]==="remote"?N?N.p(R,F):(N=nd(R),N.c(),N.m(y,x)):N&&(N.d(1),N=null)},d(R){R&&E(e),N&&N.d(),r[32](null),L=!1,ct($)}}}function bP(r){let e,t,i,s,n,a,o,l,h,c,u,p,m,g,b,w,y,v,T,x,P,S,A,Q,I,L,$,N,R,F,Z,K,ee,W,Y,H,z,G,te,q,X,J,ae,fe,Me,le,ce,Ze,Le,D,j,ie,ve,Qe,Ve,$e,Fe,Pt,dt,he,pe,Ce,wt,_t,st,si,vt,rt,Ft,lt,De,We,Ne,Se,He,ri,Gt,Wt,je;function Kt(_e,ft){return _e[8]?yP:wP}let vi=Kt(r),Ut=vi(r),ut=r[9].title&&od(r);function mt(_e,ft){return _e[5]==="local"?xP:vP}let Re=mt(r),me=Re(r),se=r[5]==="remote"&&ld(r),Be=r[5]==="local"&&cd(),Rt=r[9].version&&ud(r),Jt=r[9].home&&fd(r),Zt=r[9].description&&pd(r);return{c(){e=O("div"),t=O("div"),i=O("div"),s=O("div"),n=O("button"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',a=k(),o=O("h2"),o.textContent="\u57FA\u7840\u4FE1\u606F",l=k(),h=O("div"),c=O("div"),u=O("button"),u.innerHTML=`\u4FDD\u5B58
              <kbd class="kbd kbd-sm bg-base-200 text-base-content ml-1">\u2318S</kbd>`,p=k(),m=O("button"),Ut.c(),g=k(),b=O("div"),w=O("div"),y=O("div"),v=O("div"),T=O("img"),P=k(),S=O("button"),S.textContent="\u66F4\u6362\u56FE\u6807",A=k(),Q=O("div"),I=O("div"),L=O("label"),L.innerHTML=`<span class="label-text font-medium">\u811A\u672C\u6807\u9898
                  <span class="text-error">*</span></span>`,$=k(),N=O("input"),R=k(),ut&&ut.c(),F=k(),Z=O("div"),K=O("label"),K.innerHTML='<span class="label-text font-medium">\u811A\u672C\u7C7B\u578B</span>',ee=k(),W=O("select"),Y=O("option"),Y.textContent="\u672C\u811A\u672C",H=O("option"),H.textContent="\u8FDC\u7A0B\u811A\u672C",z=k(),G=O("label"),te=O("span"),me.c(),q=k(),se&&se.c(),X=k(),Be&&Be.c(),J=k(),ae=O("div"),fe=O("div"),Me=O("label"),Me.innerHTML=`<span class="label-text font-medium">\u7248\u672C\u53F7
                    <span class="text-error">*</span></span>`,le=k(),ce=O("input"),Ze=k(),Rt&&Rt.c(),Le=k(),D=O("div"),j=O("label"),j.innerHTML='<span class="label-text font-medium">\u4F5C\u8005</span>',ie=k(),ve=O("input"),Qe=k(),Ve=O("div"),$e=O("div"),Fe=O("label"),Fe.innerHTML='<span class="label-text font-medium">\u4F5C\u8005\u4E3B\u9875</span>',Pt=k(),dt=O("input"),he=k(),Jt&&Jt.c(),pe=k(),Ce=O("label"),Ce.innerHTML='<span class="label-text-alt text-base-content/60">\u70B9\u51FB\u4F5C\u8005\u540D\u79F0\u65F6\u4F1A\u8DF3\u8F6C\u5230\u6B64\u5730\u5740</span>',wt=k(),_t=O("div"),st=O("label"),st.innerHTML='<span class="label-text font-medium">\u63CF\u8FF0</span>',si=k(),vt=O("textarea"),rt=k(),Zt&&Zt.c(),Ft=k(),lt=O("div"),De=O("label"),De.innerHTML='<span class="label-text font-medium">\u9ED8\u8BA4\u89C6\u56FE\u6A21\u5F0F</span>',We=k(),Ne=O("select"),Se=O("option"),Se.textContent="\u7F51\u683C\u89C6\u56FE",He=O("option"),He.textContent="\u5217\u8868\u89C6\u56FE",ri=k(),Gt=O("label"),Gt.innerHTML='<span class="label-text-alt text-base-content/60">\u9009\u62E9\u811A\u672C\u8FD0\u884C\u65F6\u7684\u9ED8\u8BA4\u663E\u793A\u65B9\u5F0F</span>',f(n,"class","btn btn-ghost btn-sm"),f(o,"class","text-xl font-bold"),f(s,"class","flex items-center gap-2"),f(i,"class","flex-1"),f(u,"class","btn btn-ghost btn-sm"),f(m,"class","btn btn-primary btn-sm"),m.disabled=r[8],Ae(m,"loading",r[8]),f(c,"class","flex items-center gap-2"),f(h,"class","flex-none"),f(t,"class","navbar bg-base-100 border-b border-base-300"),ot(T.src,x=kt.getIcon(r[2]))||f(T,"src",x),f(T,"class","w-full h-full object-cover cursor-pointer hover:opacity-80 transition-opacity"),f(T,"alt",""),f(v,"class","w-12 h-12 rounded-lg overflow-hidden"),f(S,"class","btn btn-ghost btn-sm"),f(y,"class","flex items-center gap-3 border-b border-base-300 pb-3"),f(L,"class","label py-1"),f(N,"type","text"),f(N,"maxlength","300"),f(N,"class","input input-sm input-bordered input-ghost focus:input-primary"),f(N,"placeholder","\u8BF7\u8F93\u5165\u811A\u672C\u6807\u9898"),Ae(N,"input-error",r[9].title),f(I,"class","form-control"),f(K,"class","label py-1"),Y.__value="local",Y.value=Y.__value,H.__value="remote",H.value=H.__value,f(W,"class","select select-sm select-bordered select-ghost focus:select-primary w-full"),r[5]===void 0&&qi(()=>r[22].call(W)),f(te,"class","label-text-alt text-base-content/60"),f(G,"class","label py-1"),f(Z,"class","form-control"),f(Me,"class","label py-1"),f(ce,"type","text"),f(ce,"class","input input-sm input-bordered input-ghost focus:input-primary"),f(ce,"placeholder","1.0.0"),Ae(ce,"input-error",r[9].version),f(fe,"class","form-control"),f(j,"class","label py-1"),f(ve,"type","text"),f(ve,"class","input input-sm input-bordered input-ghost focus:input-primary"),f(D,"class","form-control"),f(ae,"class","grid grid-cols-2 gap-4"),f(Fe,"class","label py-1"),f(dt,"type","url"),f(dt,"class","input input-sm input-bordered input-ghost focus:input-primary"),f(dt,"placeholder","https://github.com/..."),Ae(dt,"input-error",r[9].home),f(Ce,"class","label py-1"),f($e,"class","form-control"),f(Ve,"class","space-y-4"),f(st,"class","label py-1"),f(vt,"maxlength","1000"),f(vt,"class","textarea textarea-bordered textarea-ghost textarea-sm focus:textarea-primary h-24"),f(vt,"placeholder","\u8BF7\u8F93\u5165\u811A\u672C\u63CF\u8FF0..."),Ae(vt,"textarea-error",r[9].description),f(_t,"class","form-control"),f(De,"class","label py-1"),Se.__value="masonry",Se.value=Se.__value,He.__value="full",He.value=He.__value,f(Ne,"class","select select-sm select-bordered select-ghost focus:select-primary w-full"),r[10]===void 0&&qi(()=>r[28].call(Ne)),f(Gt,"class","label py-1"),f(lt,"class","form-control"),f(Q,"class","space-y-2"),f(w,"class","max-w-2xl mx-auto space-y-3 p-4 pb-16"),f(b,"class","flex-1 overflow-y-auto"),f(e,"class","flex flex-col h-full")},m(_e,ft){M(_e,e,ft),d(e,t),d(t,i),d(i,s),d(s,n),d(s,a),d(s,o),d(t,l),d(t,h),d(h,c),d(c,u),d(c,p),d(c,m),Ut.m(m,null),d(e,g),d(e,b),d(b,w),d(w,y),d(y,v),d(v,T),d(y,P),d(y,S),d(w,A),d(w,Q),d(Q,I),d(I,L),d(I,$),d(I,N),at(N,r[0].title),d(I,R),ut&&ut.m(I,null),d(Q,F),d(Q,Z),d(Z,K),d(Z,ee),d(Z,W),d(W,Y),d(W,H),gr(W,r[5]),d(Z,z),d(Z,G),d(G,te),me.m(te,null),d(Q,q),se&&se.m(Q,null),d(Q,X),Be&&Be.m(Q,null),d(Q,J),d(Q,ae),d(ae,fe),d(fe,Me),d(fe,le),d(fe,ce),at(ce,r[0].version),d(fe,Ze),Rt&&Rt.m(fe,null),d(ae,Le),d(ae,D),d(D,j),d(D,ie),d(D,ve),at(ve,r[0].author),d(Q,Qe),d(Q,Ve),d(Ve,$e),d($e,Fe),d($e,Pt),d($e,dt),at(dt,r[0].home),d($e,he),Jt&&Jt.m($e,null),d($e,pe),d($e,Ce),d(Q,wt),d(Q,_t),d(_t,st),d(_t,si),d(_t,vt),at(vt,r[0].description),d(_t,rt),Zt&&Zt.m(_t,null),d(Q,Ft),d(Q,lt),d(lt,De),d(lt,We),d(lt,Ne),d(Ne,Se),d(Ne,He),gr(Ne,r[10]),d(lt,ri),d(lt,Gt),Wt||(je=[B(n,"click",r[18]),B(u,"click",r[12]),B(m,"click",r[15]),B(T,"click",r[19]),B(S,"click",r[20]),B(N,"input",r[21]),B(W,"change",r[22]),B(ce,"input",r[24]),B(ve,"input",r[25]),B(dt,"input",r[26]),B(vt,"input",r[27]),B(Ne,"change",r[28])],Wt=!0)},p(_e,ft){vi!==(vi=Kt(_e))&&(Ut.d(1),Ut=vi(_e),Ut&&(Ut.c(),Ut.m(m,null))),ft[0]&256&&(m.disabled=_e[8]),ft[0]&256&&Ae(m,"loading",_e[8]),ft[0]&4&&!ot(T.src,x=kt.getIcon(_e[2]))&&f(T,"src",x),ft[0]&1&&N.value!==_e[0].title&&at(N,_e[0].title),ft[0]&512&&Ae(N,"input-error",_e[9].title),_e[9].title?ut?ut.p(_e,ft):(ut=od(_e),ut.c(),ut.m(I,null)):ut&&(ut.d(1),ut=null),ft[0]&32&&gr(W,_e[5]),Re!==(Re=mt(_e))&&(me.d(1),me=Re(_e),me&&(me.c(),me.m(te,null))),_e[5]==="remote"?se?se.p(_e,ft):(se=ld(_e),se.c(),se.m(Q,X)):se&&(se.d(1),se=null),_e[5]==="local"?Be||(Be=cd(),Be.c(),Be.m(Q,J)):Be&&(Be.d(1),Be=null),ft[0]&1&&ce.value!==_e[0].version&&at(ce,_e[0].version),ft[0]&512&&Ae(ce,"input-error",_e[9].version),_e[9].version?Rt?Rt.p(_e,ft):(Rt=ud(_e),Rt.c(),Rt.m(fe,null)):Rt&&(Rt.d(1),Rt=null),ft[0]&1&&ve.value!==_e[0].author&&at(ve,_e[0].author),ft[0]&1&&at(dt,_e[0].home),ft[0]&512&&Ae(dt,"input-error",_e[9].home),_e[9].home?Jt?Jt.p(_e,ft):(Jt=fd(_e),Jt.c(),Jt.m($e,pe)):Jt&&(Jt.d(1),Jt=null),ft[0]&1&&at(vt,_e[0].description),ft[0]&512&&Ae(vt,"textarea-error",_e[9].description),_e[9].description?Zt?Zt.p(_e,ft):(Zt=pd(_e),Zt.c(),Zt.m(_t,null)):Zt&&(Zt.d(1),Zt=null),ft[0]&1024&&gr(Ne,_e[10])},d(_e){_e&&E(e),Ut.d(),ut&&ut.d(),me.d(),se&&se.d(),Be&&Be.d(),Rt&&Rt.d(),Jt&&Jt.d(),Zt&&Zt.d(),Wt=!1,ct(je)}}}function nd(r){let e,t,i=r[7]?"\u83B7\u53D6\u4E2D...":"\u66F4\u65B0",s,n,a,o=!r[7]&&ad();return{c(){e=O("button"),o&&o.c(),t=k(),s=U(i),f(e,"class","btn btn-outline btn-sm"),e.disabled=r[7],Ae(e,"loading",r[7])},m(l,h){M(l,e,h),o&&o.m(e,null),d(e,t),d(e,s),n||(a=B(e,"click",r[30]),n=!0)},p(l,h){l[7]?o&&(o.d(1),o=null):o||(o=ad(),o.c(),o.m(e,t)),h[0]&128&&i!==(i=l[7]?"\u83B7\u53D6\u4E2D...":"\u66F4\u65B0")&&oe(s,i),h[0]&128&&(e.disabled=l[7]),h[0]&128&&Ae(e,"loading",l[7])},d(l){l&&E(e),o&&o.d(),n=!1,a()}}}function ad(r){let e,t;return{c(){e=V("svg"),t=V("path"),f(t,"fill-rule","evenodd"),f(t,"d","M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"),f(t,"clip-rule","evenodd"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"class","h-4 w-4 mr-1"),f(e,"viewBox","0 0 20 20"),f(e,"fill","currentColor")},m(i,s){M(i,e,s),d(e,t)},d(i){i&&E(e)}}}function yP(r){let e;return{c(){e=U("\u83B7\u53D6\u4E2D...")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function wP(r){let e,t,i;return{c(){e=U(`\u4E0B\u4E00\u6B65
                `),t=V("svg"),i=V("path"),f(i,"fill-rule","evenodd"),f(i,"d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"),f(i,"clip-rule","evenodd"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"class","h-4 w-4 ml-1"),f(t,"viewBox","0 0 20 20"),f(t,"fill","currentColor")},m(s,n){M(s,e,n),M(s,t,n),d(t,i)},d(s){s&&E(e),s&&E(t)}}}function od(r){let e,t,i=r[9].title+"",s;return{c(){e=O("label"),t=O("span"),s=U(i),f(t,"class","label-text-alt text-error"),f(e,"class","label py-1")},m(n,a){M(n,e,a),d(e,t),d(t,s)},p(n,a){a[0]&512&&i!==(i=n[9].title+"")&&oe(s,i)},d(n){n&&E(e)}}}function vP(r){let e;return{c(){e=U("\u8FDC\u7A0B\u811A\u672C\u5C06\u4ECE\u6307\u5B9AURL\u83B7\u53D6\u4EE3\u7801")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function xP(r){let e;return{c(){e=U("\u672C\u5730\u811A\u672C\u53EF\u76F4\u63A5\u5728\u7F16\u8F91\u5668\u4E2D\u7F16\u5199\u4EE3\u7801")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function ld(r){let e,t,i,s,n,a,o,l,h,c=r[9].remoteUrl&&hd(r);return{c(){e=O("div"),t=O("label"),t.innerHTML='<span class="label-text font-medium">\u8FDC\u7A0B\u811A\u672C\u5730\u5740</span>',i=k(),s=O("input"),n=k(),c&&c.c(),a=k(),o=O("div"),o.innerHTML=`<div class="flex items-start gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mt-0.5 shrink-0" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg> 
                    <div class="space-y-1"><p>\u811A\u672C\u5185\u5BB9\u5C06\u4ECE\u6B64URL\u81EA\u52A8\u83B7\u53D6,\u652F\u6301:</p> 
                      <ul class="list-disc list-inside pl-2 space-y-1"><li>GitHub\u3001GitLab \u7B49\u4EE3\u7801\u6258\u7BA1\u5E73\u53F0\u7684\u539F\u59CB\u6587\u4EF6\u5730\u5740</li> 
                        <li>\u5F00\u53D1\u8C03\u8BD5\u65F6\u53EF\u4F7F\u7528 localhost \u672C\u5730\u670D\u52A1\u5730\u5740</li> 
                        <li>\u5176\u4ED6\u53EF\u516C\u5F00\u8BBF\u95EE\u7684 JavaScript \u6587\u4EF6\u5730\u5740</li></ul></div></div>`,f(t,"class","label py-1"),f(s,"type","url"),f(s,"class","input input-sm input-bordered input-ghost focus:input-primary"),f(s,"placeholder","https://example.com/script.js"),Ae(s,"input-error",r[9].remoteUrl),f(o,"class","mt-2 space-y-2 text-sm text-base-content/60"),f(e,"class","form-control")},m(u,p){M(u,e,p),d(e,t),d(e,i),d(e,s),at(s,r[6]),d(e,n),c&&c.m(e,null),d(e,a),d(e,o),l||(h=B(s,"input",r[23]),l=!0)},p(u,p){p[0]&64&&at(s,u[6]),p[0]&512&&Ae(s,"input-error",u[9].remoteUrl),u[9].remoteUrl?c?c.p(u,p):(c=hd(u),c.c(),c.m(e,a)):c&&(c.d(1),c=null)},d(u){u&&E(e),c&&c.d(),l=!1,h()}}}function hd(r){let e,t,i=r[9].remoteUrl+"",s;return{c(){e=O("label"),t=O("span"),s=U(i),f(t,"class","label-text-alt text-error"),f(e,"class","label py-1")},m(n,a){M(n,e,a),d(e,t),d(t,s)},p(n,a){a[0]&512&&i!==(i=n[9].remoteUrl+"")&&oe(s,i)},d(n){n&&E(e)}}}function cd(r){let e;return{c(){e=O("div"),e.innerHTML=`<label class="label py-1"><span class="label-text font-medium">\u672C\u5730\u811A\u672C\u7F16\u8F91</span></label> 
                <div class="text-sm bg-base-200 rounded-lg p-2"><p>\u5728\u4E0B\u4E00\u6B65\u4E2D\uFF0C\u60A8\u53EF\u4EE5\uFF1A</p> 
                  <ul class="list-disc list-inside mt-1 space-y-1"><li>\u4F7F\u7528\u5185\u7F6E\u7F16\u8F91\u5668\u7F16\u5199\u4EE3\u7801</li> 
                    <li>\u4F7F\u7528\u4EE3\u7801\u63D0\u793A\u548C\u81EA\u52A8\u5B8C\u6210</li> 
                    <li>\u968F\u65F6\u4FDD\u5B58\u548C\u6D4B\u8BD5\u811A\u672C</li></ul></div>`,f(e,"class","form-control opacity-50")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function ud(r){let e,t,i=r[9].version+"",s;return{c(){e=O("label"),t=O("span"),s=U(i),f(t,"class","label-text-alt text-error"),f(e,"class","label py-1")},m(n,a){M(n,e,a),d(e,t),d(t,s)},p(n,a){a[0]&512&&i!==(i=n[9].version+"")&&oe(s,i)},d(n){n&&E(e)}}}function fd(r){let e,t,i=r[9].home+"",s;return{c(){e=O("label"),t=O("span"),s=U(i),f(t,"class","label-text-alt text-error"),f(e,"class","label py-1")},m(n,a){M(n,e,a),d(e,t),d(t,s)},p(n,a){a[0]&512&&i!==(i=n[9].home+"")&&oe(s,i)},d(n){n&&E(e)}}}function pd(r){let e,t,i=r[9].description+"",s;return{c(){e=O("label"),t=O("span"),s=U(i),f(t,"class","label-text-alt text-error"),f(e,"class","label py-1")},m(n,a){M(n,e,a),d(e,t),d(t,s)},p(n,a){a[0]&512&&i!==(i=n[9].description+"")&&oe(s,i)},d(n){n&&E(e)}}}function kP(r){let e,t,i,s,n;function a(u){r[17](u)}let o={url:r[2]};r[3]!==void 0&&(o.open=r[3]),t=new kb({props:o}),as.push(()=>hm(t,"open",a)),t.$on("changeIcon",r[13]);function l(u,p){return u[4]===1?bP:OP}let h=l(r),c=h(r);return{c(){e=O("div"),Qt(t.$$.fragment),s=k(),c.c(),f(e,"class","editor-container svelte-1pknc0t")},m(u,p){M(u,e,p),Tt(t,e,null),d(e,s),c.m(e,null),n=!0},p(u,p){const m={};p[0]&4&&(m.url=u[2]),!i&&p[0]&8&&(i=!0,m.open=u[3],nm(()=>i=!1)),t.$set(m),h===(h=l(u))&&c?c.p(u,p):(c.d(1),c=h(u),c&&(c.c(),c.m(e,null)))},i(u){n||(be(t.$$.fragment,u),n=!0)},o(u){ke(t.$$.fragment,u),n=!1},d(u){u&&E(e),Ct(t),c.d()}}}const PP=3,SP=/^\d+\.\d+\.\d+$/,dd=/^https?:\/\/.+/;function AP(r,e,t){const i=Ss();let{item:s}=e,n,a=null,o=s.icon,l=!1,h=0,c=1,u=s.scriptType||"local",p=s.remoteUrl||"",m=!1,g=!1,b={title:"",description:"",version:"",home:"",remoteUrl:"",code:""};s.version=s.version||"1.0.0";let w=s.displayMode||"masonry";function y(X){const J=[],ae=X.state.doc.toString();try{gP(ae,{sourceType:"module",plugins:["jsx"]})}catch(fe){if(fe.loc){const le=X.state.doc.line(fe.loc.line).from+fe.loc.column,ce=Math.min(le+1,X.state.doc.length);J.push({from:le,to:ce,severity:"error",message:fe.message.replace(/\(\d+:\d+\)/,"").trim()})}else{const Me=fe.message.match(/\((\d+):(\d+)\)/);if(Me){const le=parseInt(Me[1]),ce=parseInt(Me[2]);if(le<=X.state.doc.lines){const Ze=X.state.doc.line(le),Le=Ze.from+Math.min(ce-1,Ze.length),D=Math.min(Le+1,Ze.to);J.push({from:Le,to:D,severity:"error",message:fe.message.replace(/\(\d+:\d+\)/,"").trim()})}}else J.push({from:0,to:1,severity:"error",message:fe.message})}}return J}function v(){var J,ae;let X=!0;return t(9,b={title:"",description:"",version:"",home:"",remoteUrl:"",code:""}),(J=s.title)!=null&&J.trim()?s.title.length>30&&(t(9,b.title="\u6807\u9898\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26",b),X=!1):(t(9,b.title="\u8BF7\u8F93\u5165\u811A\u672C\u6807\u9898",b),X=!1),s.description&&s.description.length>300&&(t(9,b.description="\u63CF\u8FF0\u4E0D\u80FD\u8D85\u8FC7300\u4E2A\u5B57\u7B26",b),X=!1),(ae=s.version)!=null&&ae.trim()?SP.test(s.version)||(t(9,b.version="\u7248\u672C\u53F7\u683C\u5F0F\u5FC5\u987B\u4E3A x.x.x",b),X=!1):(t(9,b.version="\u8BF7\u8F93\u5165\u7248\u672C\u53F7",b),X=!1),s.home&&!dd.test(s.home)&&(t(9,b.home="\u8BF7\u8F93\u5165\u6709\u6548\u7684\u94FE\u63A5\u5730\u5740",b),X=!1),u==="remote"&&!dd.test(p)&&(t(9,b.remoteUrl="\u8BF7\u8F93\u5165\u6709\u6548\u7684\u94FE\u63A5\u5730\u5740",b),X=!1),c===2&&a&&!a.state.doc.toString().trim()&&(t(9,b.code="\u4EE3\u7801\u4E0D\u80FD\u4E3A\u7A7A",b),X=!1),X}function T(){if(!!n){if(!n.offsetWidth||!n.offsetHeight){if(h<PP){h++,requestAnimationFrame(T);return}console.error("\u7F16\u8F91\u5BB9\u5668\u5C3A\u5BF8\u65E0\u6548");return}try{a&&(a.destroy(),a=null);const X=et.create({doc:s.code||"",extensions:[j0(),mg(),gg,Te.lineWrapping,Te.theme({"&":{fontSize:"15px",height:"100%"},".cm-scroller":{overflow:"auto"},".cm-gutters":{backgroundColor:"transparent",border:"none",borderRight:"1px solid hsl(var(--b3))"},".cm-lineNumbers .cm-gutterElement":{padding:"0 0.5rem",color:"hsl(var(--b3) / 0.6)"}}),H2({defaultKeymap:!0,maxRenderedOptions:50,icons:!0,activateOnTyping:!0,closeOnBlur:!1}),$x(),Sx(y,{delay:300,needsRefresh:ae=>ae.docChanged,markerFilter:null,tooltipFilter:null})]});a=new Te({state:X,parent:n});const J=()=>{a&&a.requestMeasure()};return window.addEventListener("resize",J),()=>{window.removeEventListener("resize",J)}}catch(X){console.error("\u521B\u5EFA\u7F16\u8F91\u5668\u5931\u8D25:",X),xe.error("\u521B\u5EFA\u7F16\u8F91\u5668\u5931\u8D25!")}}}zr(()=>{requestAnimationFrame(T)}),or(()=>{if(a){try{a.destroy()}catch(X){console.error("\u9500\u6BC1\u7F16\u8F91\u5668\u5931\u8D25:",X)}a=null}});function x(){if(!v()){xe.error("\u8BF7\u5B8C\u5584\u5FC5\u586B\u4FE1\u606F!");return}try{const X={id:s.id,icon:o,title:s.title||"",description:s.description||"",version:s.version||"",author:s.author||"",home:s.home||"",scriptType:u,remoteUrl:u==="remote"?p:"",displayMode:w,code:c===2&&a?a.state.doc.toString():s.code||""};li.upsert(X).then(J=>{J.ok?(Fi.trackScriptEdit(X),xe.success("\u5DF2\u4FDD\u5B58!"),Ai.enable(s.id)):xe.error("\u4FDD\u5B58\u5931\u8D25!")}).catch(J=>{console.error("\u4FDD\u5B58\u811A\u672C\u51FA\u9519:",J),xe.error("\u4FDD\u5B58\u5931\u8D25!")})}catch(X){console.error("\u4FDD\u5B58\u65F6\u53D1\u751F\u9519\u8BEF:",X),xe.error("\u4FDD\u5B58\u5931\u8D25!")}}function P(X){t(2,o=X.detail),t(3,l=!1)}async function S(X=!1){if(!p)return!1;t(7,m=!0);try{const J=await window.Preload.ky.get(p);if(!J.ok)throw new Error("\u83B7\u53D6\u8FDC\u7A0B\u811A\u672C\u5931\u8D25");return t(0,s.code=await J.text(),s),a&&a.state.doc.replace(s.code),X&&xe.success("\u5DF2\u66F4\u65B0\u8FDC\u7A0B\u811A\u672C!"),!0}catch(J){return console.error("\u83B7\u53D6\u8FDC\u7A0B\u811A\u672C\u5931\u8D25:",J),xe.error("\u83B7\u53D6\u8FDC\u7A0B\u811A\u672C\u5931\u8D25!"),!1}finally{t(7,m=!1)}}async function A(){if(!v()){xe.error("\u8BF7\u5B8C\u5584\u5FC5\u586B\u4FE1\u606F!");return}if(c===1){if(u==="remote"){t(8,g=!0);try{await S()}finally{t(8,g=!1)}}t(4,c=2),requestAnimationFrame(T)}}function Q(){t(4,c=1)}function I(X){l=X,t(3,l)}const L=()=>i("closeTab",s.id),$=()=>t(3,l=!0),N=()=>t(3,l=!0);function R(){s.title=this.value,t(0,s)}function F(){u=Al(this),t(5,u)}function Z(){p=this.value,t(6,p)}function K(){s.version=this.value,t(0,s)}function ee(){s.author=this.value,t(0,s)}function W(){s.home=this.value,t(0,s)}function Y(){s.description=this.value,t(0,s)}function H(){w=Al(this),t(10,w)}const z=()=>{i("openDocs",{id:"dev-docs",title:"\u5F00\u53D1\u6587\u6863",type:"docs"})},G=()=>S(!0),te=()=>i("closeTab",s.id);function q(X){as[X?"unshift":"push"](()=>{n=X,t(1,n)})}return r.$$set=X=>{"item"in X&&t(0,s=X.item)},[s,n,o,l,c,u,p,m,g,b,w,i,x,P,S,A,Q,I,L,$,N,R,F,Z,K,ee,W,Y,H,z,G,te,q]}class TP extends zt{constructor(e){super(),qt(this,e,AP,kP,Dt,{item:0},null,[-1,-1])}}function md(r){let e,t,i=r[0].version+"",s;return{c(){e=O("div"),t=U("v"),s=U(i),f(e,"class","badge badge-sm badge-primary badge-outline font-mono")},m(n,a){M(n,e,a),d(e,t),d(e,s)},p(n,a){a&1&&i!==(i=n[0].version+"")&&oe(s,i)},d(n){n&&E(e)}}}function gd(r){let e,t,i,s,n,a;function o(u,p){return u[0].home?_P:CP}let l=o(r),h=l(r),c=r[0].updated_at&&Od(r);return{c(){e=O("div"),t=O("div"),i=V("svg"),s=V("path"),n=k(),h.c(),a=k(),c&&c.c(),f(s,"d","M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"),f(i,"xmlns","http://www.w3.org/2000/svg"),f(i,"class","w-3.5 h-3.5"),f(i,"viewBox","0 0 20 20"),f(i,"fill","currentColor"),f(t,"class","flex items-center gap-1.5"),f(e,"class","flex items-center gap-2.5 text-sm text-base-content/50")},m(u,p){M(u,e,p),d(e,t),d(t,i),d(i,s),d(t,n),h.m(t,null),d(e,a),c&&c.m(e,null)},p(u,p){l===(l=o(u))&&h?h.p(u,p):(h.d(1),h=l(u),h&&(h.c(),h.m(t,null))),u[0].updated_at?c?c.p(u,p):(c=Od(u),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(u){u&&E(e),h.d(),c&&c.d()}}}function CP(r){let e,t=r[0].author+"",i;return{c(){e=O("span"),i=U(t)},m(s,n){M(s,e,n),d(e,i)},p(s,n){n&1&&t!==(t=s[0].author+"")&&oe(i,t)},d(s){s&&E(e)}}}function _P(r){let e,t=r[0].author+"",i,s,n,a;return{c(){e=O("a"),i=U(t),f(e,"href",s=r[0].home),f(e,"class","hover:text-primary transition-colors duration-200")},m(o,l){M(o,e,l),d(e,i),n||(a=B(e,"click",Ch(r[7])),n=!0)},p(o,l){l&1&&t!==(t=o[0].author+"")&&oe(i,t),l&1&&s!==(s=o[0].home)&&f(e,"href",s)},d(o){o&&E(e),n=!1,a()}}}function Od(r){let e,t,i,s,n,a,o,l,h=kt.formatTime(r[0].updated_at)+"",c;return{c(){e=O("span"),e.textContent="\u2022",t=k(),i=O("div"),s=V("svg"),n=V("path"),a=k(),o=O("span"),l=U("\u66F4\u65B0\u4E8E "),c=U(h),f(e,"class","text-base-content/20"),f(n,"fill-rule","evenodd"),f(n,"d","M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"),f(n,"clip-rule","evenodd"),f(s,"xmlns","http://www.w3.org/2000/svg"),f(s,"class","w-3.5 h-3.5"),f(s,"viewBox","0 0 20 20"),f(s,"fill","currentColor"),f(i,"class","flex items-center gap-1.5")},m(u,p){M(u,e,p),M(u,t,p),M(u,i,p),d(i,s),d(s,n),d(i,a),d(i,o),d(o,l),d(o,c)},p(u,p){p&1&&h!==(h=kt.formatTime(u[0].updated_at)+"")&&oe(c,h)},d(u){u&&E(e),u&&E(t),u&&E(i)}}}function QP(r){let e,t,i,s,n,a,o,l,h,c,u,p,m=r[0].title+"",g,b,w,y,v,T,x,P,S,A=(r[0].description||"\u6682\u65E0\u63CF\u8FF0\u4FE1\u606F")+"",Q,I,L,$,N,R,F,Z,K,ee,W,Y,H,z,G,te=r[0].version&&md(r),q=r[0].author&&gd(r);return{c(){e=O("div"),t=O("div"),i=O("div"),s=O("div"),n=O("div"),a=O("div"),o=O("img"),h=k(),c=O("div"),u=O("div"),p=O("h2"),g=U(m),b=k(),te&&te.c(),w=k(),y=O("div"),v=O("input"),x=k(),q&&q.c(),P=k(),S=O("p"),Q=U(A),I=k(),L=O("div"),$=O("div"),N=k(),R=O("div"),F=O("button"),F.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5 opacity-80" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>
          \u7F16\u8F91`,Z=k(),K=O("button"),K.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5 opacity-80" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg>
          \u5206\u4EAB`,ee=k(),W=O("button"),W.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5 opacity-80" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
          \u5220\u9664`,Y=k(),H=O("button"),H.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5 opacity-80" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"></path></svg>
          \u5BFC\u51FA`,ot(o.src,l=kt.getIcon(r[0].icon))||f(o,"src",l),f(o,"alt",""),f(o,"class","p-0.5 svelte-z1bmqa"),f(a,"class","w-14 h-14 rounded-xl bg-base-100 ring-2 ring-primary/20 ring-offset-base-200 ring-offset-2 shadow-md transition-all duration-300 hover:shadow-lg"),f(n,"class","avatar svelte-z1bmqa"),f(p,"class","text-lg font-bold truncate text-base-content/90"),f(v,"type","checkbox"),f(v,"class","toggle toggle-primary toggle-sm"),v.checked=T=r[1][r[0].id],f(y,"class","ml-auto"),f(u,"class","flex items-center gap-2 mb-1.5"),f(c,"class","flex-1 min-w-0"),f(s,"class","flex gap-4"),f(S,"class","text-sm text-base-content/60 mt-4 line-clamp-2 leading-relaxed svelte-z1bmqa"),f(i,"class","flex-grow"),f($,"class","divider mb-4 svelte-z1bmqa"),f(F,"class","btn btn-sm btn-ghost normal-case hover:bg-base-300 transition-colors duration-200"),f(K,"class","btn btn-sm btn-ghost normal-case hover:bg-base-300 transition-colors duration-200"),f(W,"class","btn btn-sm btn-ghost normal-case hover:bg-error/10 text-error hover:text-error transition-colors duration-200"),f(H,"class","btn btn-sm btn-ghost normal-case hover:bg-base-300 transition-colors duration-200"),f(R,"class","flex justify-end gap-2"),f(L,"class","mt-auto"),f(t,"class","card-body p-6 flex flex-col svelte-z1bmqa"),f(e,"class","card bg-base-200 shadow-md hover:bg-base-300 hover:shadow-lg transition-all duration-300")},m(X,J){M(X,e,J),d(e,t),d(t,i),d(i,s),d(s,n),d(n,a),d(a,o),d(s,h),d(s,c),d(c,u),d(u,p),d(p,g),d(u,b),te&&te.m(u,null),d(u,w),d(u,y),d(y,v),d(c,x),q&&q.m(c,null),d(i,P),d(i,S),d(S,Q),d(t,I),d(t,L),d(L,$),d(L,N),d(L,R),d(R,F),d(R,Z),d(R,K),d(R,ee),d(R,W),d(R,Y),d(R,H),z||(G=[B(v,"click",function(){Po(r[4](r[0].id))&&r[4](r[0].id).apply(this,arguments)}),B(F,"click",r[8]),B(K,"click",r[5]),B(W,"click",r[9]),B(H,"click",r[6])],z=!0)},p(X,[J]){r=X,J&1&&!ot(o.src,l=kt.getIcon(r[0].icon))&&f(o,"src",l),J&1&&m!==(m=r[0].title+"")&&oe(g,m),r[0].version?te?te.p(r,J):(te=md(r),te.c(),te.m(u,w)):te&&(te.d(1),te=null),J&3&&T!==(T=r[1][r[0].id])&&(v.checked=T),r[0].author?q?q.p(r,J):(q=gd(r),q.c(),q.m(c,null)):q&&(q.d(1),q=null),J&1&&A!==(A=(r[0].description||"\u6682\u65E0\u63CF\u8FF0\u4FE1\u606F")+"")&&oe(Q,A)},i:ge,o:ge,d(X){X&&E(e),te&&te.d(),q&&q.d(),z=!1,ct(G)}}}function EP(r,e,t){let i;Si(r,Ai,g=>t(1,i=g));const s=Ss();let{item:n}=e;function a(g){Zi.confirm("\u786E\u8BA4\u5220\u9664\u5417?",()=>{li.remove(g),Ai.remove(g)})}function o(g){console.log("\u7F16\u8F91:",g),s("editScript",g)}function l(g){Ai.switch(g)}async function h(){Zi.confirm("\u786E\u8BA4\u5206\u4EAB\u8FD9\u4E2A\u811A\u672C\u5230\u5728\u7EBF\u811A\u672C\u5E93\u5417?",async()=>{try{await bi.createScript(n),xe.success("\u5206\u4EAB\u6210\u529F!")}catch(g){console.error("\u5206\u4EAB\u5931\u8D25:",g),xe.error("\u5206\u4EAB\u5931\u8D25:"+(g.message||"\u8BF7\u7A0D\u540E\u91CD\u8BD5"))}})}function c(){const g=JSON.stringify([n],null,2),b=new Blob([g],{type:"application/json"}),w=URL.createObjectURL(b),y=document.createElement("a");y.href=w,y.download=`ibox-script-${n.title}-${new Date().toISOString().split("T")[0]}.json`,y.click(),URL.revokeObjectURL(w),xe.success("\u5BFC\u51FA\u6210\u529F!")}const u=()=>{ztools.shellOpenExternal(n.home)},p=()=>o(n),m=()=>a(n.id);return r.$$set=g=>{"item"in g&&t(0,n=g.item)},[n,i,a,o,l,h,c,u,p,m]}class IP extends zt{constructor(e){super(),qt(this,e,EP,QP,Dt,{item:0})}}function bd(r,e,t){const i=r.slice();return i[22]=e[t][0],i[23]=e[t][1],i[24]=e,i[25]=t,i}function yd(r,e,t){const i=r.slice();return i[23]=e[t],i}function wd(r,e,t){const i=r.slice();return i[22]=e[t][0],i[23]=e[t][1],i}function vd(r){let e,t,i;return{c(){e=O("div"),e.innerHTML='<span class="tab-text svelte-19h3fq2">\u811A\u672C\u7BA1\u7406</span>',f(e,"class","tab-item group svelte-19h3fq2"),Ae(e,"active",r[1]==="list")},m(s,n){M(s,e,n),t||(i=B(e,"click",r[15]),t=!0)},p(s,n){n&2&&Ae(e,"active",s[1]==="list")},d(s){s&&E(e),t=!1,i()}}}function xd(r,e){let t,i,s=e[23].title+"",n,a,o,l,h,c;function u(){return e[16](e[22])}function p(){return e[17](e[23])}return{key:r,first:null,c(){t=O("div"),i=O("span"),n=U(s),a=k(),o=O("button"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" viewBox="0 0 20 20" fill="currentColor"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',l=k(),f(i,"class","tab-text svelte-19h3fq2"),f(o,"class","close-btn svelte-19h3fq2"),f(t,"class","tab-item group svelte-19h3fq2"),Ae(t,"active",e[1]==e[23].id),this.first=t},m(m,g){M(m,t,g),d(t,i),d(i,n),d(t,a),d(t,o),d(t,l),h||(c=[B(o,"click",ir(u)),B(t,"click",p)],h=!0)},p(m,g){e=m,g&4&&s!==(s=e[23].title+"")&&oe(n,s),g&6&&Ae(t,"active",e[1]==e[23].id)},d(m){m&&E(t),h=!1,ct(c)}}}function kd(r){let e,t,i;return{c(){e=O("button"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"></path></svg>',f(e,"class","new-tab-btn svelte-19h3fq2")},m(s,n){M(s,e,n),t||(i=B(e,"click",r[6]),t=!0)},p:ge,d(s){s&&E(e),t=!1,i()}}}function MP(r){let e,t=[],i=new Map,s,n=r[3];const a=o=>o[23].id;for(let o=0;o<n.length;o+=1){let l=yd(r,n,o),h=a(l);i.set(h,t[o]=Pd(h,l))}return{c(){e=O("div");for(let o=0;o<t.length;o+=1)t[o].c();f(e,"class","relative grid grid-cols-[repeat(auto-fit,minmax(24rem,1fr))] gap-4 p-4 bg-base-100")},m(o,l){M(o,e,l);for(let h=0;h<t.length;h+=1)t[h].m(e,null);s=!0},p(o,l){l&24&&(n=o[3],Nt(),t=os(t,l,a,1,o,n,i,e,Ur,Pd,null,yd),Lt())},i(o){if(!s){for(let l=0;l<n.length;l+=1)be(t[l]);s=!0}},o(o){for(let l=0;l<t.length;l+=1)ke(t[l]);s=!1},d(o){o&&E(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function $P(r){let e;return{c(){e=O("div"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> 
        <p class="mb-4">\u8FD8\u6CA1\u6709\u811A\u672C</p>`,f(e,"class","flex flex-col items-center justify-center py-16 text-base-content/60")},m(t,i){M(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function Pd(r,e){let t,i,s;return i=new IP({props:{item:e[23]}}),i.$on("editScript",e[19]),{key:r,first:null,c(){t=Li(),Qt(i.$$.fragment),this.first=t},m(n,a){M(n,t,a),Tt(i,n,a),s=!0},p(n,a){e=n;const o={};a&8&&(o.item=e[23]),i.$set(o)},i(n){s||(be(i.$$.fragment,n),s=!0)},o(n){ke(i.$$.fragment,n),s=!1},d(n){n&&E(t),Ct(i,n)}}}function NP(r){let e,t,i;function s(a){r[20](a,r[23],r[24],r[25])}let n={};return r[23]!==void 0&&(n.item=r[23]),e=new TP({props:n}),as.push(()=>hm(e,"item",s)),e.$on("closeTab",r[5]),e.$on("openDocs",r[12]),{c(){Qt(e.$$.fragment)},m(a,o){Tt(e,a,o),i=!0},p(a,o){r=a;const l={};!t&&o&4&&(t=!0,l.item=r[23],nm(()=>t=!1)),e.$set(l)},i(a){i||(be(e.$$.fragment,a),i=!0)},o(a){ke(e.$$.fragment,a),i=!1},d(a){Ct(e,a)}}}function LP(r){let e,t,i;return t=new km({}),{c(){e=O("div"),Qt(t.$$.fragment),f(e,"class","h-full overflow-auto")},m(s,n){M(s,e,n),Tt(t,e,null),i=!0},p:ge,i(s){i||(be(t.$$.fragment,s),i=!0)},o(s){ke(t.$$.fragment,s),i=!1},d(s){s&&E(e),Ct(t)}}}function Sd(r,e){let t,i,s,n,a;const o=[LP,NP],l=[];function h(c,u){return c[23].type==="docs"?0:1}return i=h(e),s=l[i]=o[i](e),{key:r,first:null,c(){t=O("div"),s.c(),n=k(),f(t,"class","h-full bg-base-100"),Ae(t,"hidden",e[1]!=e[22]),this.first=t},m(c,u){M(c,t,u),l[i].m(t,null),d(t,n),a=!0},p(c,u){e=c;let p=i;i=h(e),i===p?l[i].p(e,u):(Nt(),ke(l[p],1,1,()=>{l[p]=null}),Lt(),s=l[i],s?s.p(e,u):(s=l[i]=o[i](e),s.c()),be(s,1),s.m(t,n)),u&6&&Ae(t,"hidden",e[1]!=e[22])},i(c){a||(be(s),a=!0)},o(c){ke(s),a=!1},d(c){c&&E(t),l[i].d()}}}function DP(r){let e,t,i,s=Object.keys(r[2]).length>0,n,a=[],o=new Map,l,h=Object.keys(r[2]).length>0,c,u,p,m,g,b,w,y,v,T,x,P,S,A,Q,I,L,$,N,R,F,Z,K,ee,W,Y,H,z,G,te,q,X,J,ae,fe,Me,le=[],ce=new Map,Ze,Le,D,j=s&&vd(r),ie=Object.entries(r[2]);const ve=he=>he[22];for(let he=0;he<ie.length;he+=1){let pe=wd(r,ie,he),Ce=ve(pe);o.set(Ce,a[he]=xd(Ce,pe))}let Qe=h&&kd(r);const Ve=[$P,MP],$e=[];function Fe(he,pe){return!he[3]||he[3].length===0?0:1}ae=Fe(r),fe=$e[ae]=Ve[ae](r);let Pt=Object.entries(r[2]);const dt=he=>he[22];for(let he=0;he<Pt.length;he+=1){let pe=bd(r,Pt,he),Ce=dt(pe);ce.set(Ce,le[he]=Sd(Ce,pe))}return{c(){e=O("div"),t=O("div"),i=O("div"),j&&j.c(),n=k();for(let he=0;he<a.length;he+=1)a[he].c();l=k(),Qe&&Qe.c(),c=k(),u=O("div"),p=O("div"),m=O("div"),g=O("div"),b=O("input"),w=k(),y=V("svg"),v=V("path"),T=k(),x=O("div"),P=O("button"),P.innerHTML=`\u6279\u91CF\u64CD\u4F5C
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>`,S=k(),A=O("ul"),Q=O("li"),I=O("button"),I.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                \u5BFC\u51FA`,L=k(),$=O("li"),N=O("button"),N.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" transform="rotate(180 10 10)"></path></svg>
                \u5BFC\u5165`,R=k(),F=O("li"),Z=O("button"),Z.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>
                \u542F\u7528`,K=k(),ee=O("li"),W=O("button"),W.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                \u7981\u7528`,Y=k(),H=O("div"),z=k(),G=O("li"),te=O("button"),te.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>
                \u5220\u9664`,q=k(),X=O("button"),X.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"></path></svg>
          \u65B0\u5EFA\u811A\u672C`,J=k(),fe.c(),Me=k();for(let he=0;he<le.length;he+=1)le[he].c();f(i,"class","tabs tabs-modern svelte-19h3fq2"),f(t,"class","tabs-container border-b border-base-300 svelte-19h3fq2"),f(b,"type","text"),f(b,"placeholder","\u641C\u7D22\u811A\u672C..."),f(b,"class","input input-bordered w-full pr-10"),f(v,"stroke-linecap","round"),f(v,"stroke-linejoin","round"),f(v,"stroke-width","2"),f(v,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),f(y,"xmlns","http://www.w3.org/2000/svg"),f(y,"class","h-5 w-5 absolute right-3 top-1/2 -translate-y-1/2 text-base-content/50"),f(y,"fill","none"),f(y,"viewBox","0 0 24 24"),f(y,"stroke","currentColor"),f(g,"class","flex-1 relative"),f(P,"class","btn btn-outline btn-sm"),f(I,"class","flex items-center gap-1.5"),f(N,"class","flex items-center gap-2"),f(Z,"class","flex items-center gap-2"),f(W,"class","flex items-center gap-2"),f(H,"class","divider my-0.5"),f(te,"class","text-error flex items-center gap-2"),f(A,"class","dropdown-content menu p-1 shadow-lg bg-base-200 rounded-box min-w-[100%] text-sm"),f(x,"class","dropdown dropdown-end"),f(X,"class","btn btn-primary btn-sm gap-2"),f(m,"class","flex items-center gap-4 p-4"),f(p,"class","sticky top-0 z-40 bg-base-100 border-b border-base-300"),f(u,"class","h-full overflow-auto"),Ae(u,"hidden",r[1]!="list")},m(he,pe){M(he,e,pe),d(e,t),d(t,i),j&&j.m(i,null),d(i,n);for(let Ce=0;Ce<a.length;Ce+=1)a[Ce].m(i,null);d(i,l),Qe&&Qe.m(i,null),d(e,c),d(e,u),d(u,p),d(p,m),d(m,g),d(g,b),at(b,r[0]),d(g,w),d(g,y),d(y,v),d(m,T),d(m,x),d(x,P),d(x,S),d(x,A),d(A,Q),d(Q,I),d(A,L),d(A,$),d($,N),d(A,R),d(A,F),d(F,Z),d(A,K),d(A,ee),d(ee,W),d(A,Y),d(A,H),d(A,z),d(A,G),d(G,te),d(m,q),d(m,X),d(u,J),$e[ae].m(u,null),d(e,Me);for(let Ce=0;Ce<le.length;Ce+=1)le[Ce].m(e,null);Ze=!0,Le||(D=[B(b,"input",r[18]),B(I,"click",r[7]),B(N,"click",r[8]),B(Z,"click",r[9]),B(W,"click",r[10]),B(te,"click",r[11]),B(X,"click",r[6])],Le=!0)},p(he,[pe]){pe&4&&(s=Object.keys(he[2]).length>0),s?j?j.p(he,pe):(j=vd(he),j.c(),j.m(i,n)):j&&(j.d(1),j=null),pe&38&&(ie=Object.entries(he[2]),a=os(a,pe,ve,1,he,ie,o,i,Wa,xd,l,wd)),pe&4&&(h=Object.keys(he[2]).length>0),h?Qe?Qe.p(he,pe):(Qe=kd(he),Qe.c(),Qe.m(i,null)):Qe&&(Qe.d(1),Qe=null),pe&1&&b.value!==he[0]&&at(b,he[0]);let Ce=ae;ae=Fe(he),ae===Ce?$e[ae].p(he,pe):(Nt(),ke($e[Ce],1,1,()=>{$e[Ce]=null}),Lt(),fe=$e[ae],fe?fe.p(he,pe):(fe=$e[ae]=Ve[ae](he),fe.c()),be(fe,1),fe.m(u,null)),pe&2&&Ae(u,"hidden",he[1]!="list"),pe&4134&&(Pt=Object.entries(he[2]),Nt(),le=os(le,pe,dt,1,he,Pt,ce,e,Ur,Sd,null,bd),Lt())},i(he){if(!Ze){be(fe);for(let pe=0;pe<Pt.length;pe+=1)be(le[pe]);Ze=!0}},o(he){ke(fe);for(let pe=0;pe<le.length;pe+=1)ke(le[pe]);Ze=!1},d(he){he&&E(e),j&&j.d();for(let pe=0;pe<a.length;pe+=1)a[pe].d();Qe&&Qe.d(),$e[ae].d();for(let pe=0;pe<le.length;pe+=1)le[pe].d();Le=!1,ct(D)}}}function RP(r,e,t){let i,s,n;Si(r,li,I=>t(14,n=I));const{licia:a}=window.Preload;let o="list",l={},h="";function c(I){console.log("\u6536\u5230\u7F16\u8F91:",I),t(1,o=I.id),t(2,l[I.id]=I,l)}function u(I){console.log("\u5173\u95ED\u6807\u7B7E",I),t(1,o="list"),delete l[I.detail],t(2,l)}function p(){let I={id:a.uuid(),title:"\u65B0\u5EFA\u811A\u672C",code:`
export default {
  // \u83B7\u53D6\u5217\u8868\u6570\u636E
  async getData(ibox, {page, category}) {
    // const {ky, cheerio, licia, loadPage, toast, push} = ibox;
    if (page > 1) {
      return;
    }

    return [
      {
        url: 'https://picsum.photos/800',
      },
    ];
  },


  // \u83B7\u53D6\u5206\u7C7B\u8868(\u53EF\u9009)
  // async categories(ibox) {
  //   return [
  //     {id: 'latest', name: '\u6700\u65B0'},
  //     {id: 'landscape', name: '\u98CE\u666F'},
  //     {id: 'nature', name: '\u81EA\u7136'},
  //     {id: 'architecture', name: '\u5EFA\u7B51'},
  //   ];
  // },

  // \u641C\u7D22(\u53EF\u9009)
  // async search(ibox, {keyword, page, category}) {
  //   if (page > 1) {
  //     return;
  //   }

  //   return [
  //     {
  //       title: keyword,
  //       url: 'https://picsum.photos/800',
  //     },
  //   ];
  // },
};
      `};c(I)}async function m(){const I=JSON.stringify(Object.values(n),null,2),L=new Blob([I],{type:"application/json"}),$=URL.createObjectURL(L),N=document.createElement("a");N.href=$,N.download="ibox-scripts-"+new Date().toISOString().split("T")[0]+".json",N.click(),URL.revokeObjectURL($),xe.success("\u5BFC\u51FA\u6210\u529F!")}async function g(){const I=document.createElement("input");I.type="file",I.accept=".json",I.onchange=async L=>{try{const N=await L.target.files[0].text(),R=JSON.parse(N);if(!Array.isArray(R)&&typeof R!="object")throw new Error("\u65E0\u6548\u7684\u811A\u672C\u6570\u636E");const F=Array.isArray(R)?R:Object.values(R);Zi.confirm("\u786E\u8BA4\u5BFC\u5165\u8FD9\u4E9B\u811A\u672C\u5417\uFF1F\u73B0\u6709\u7684\u540C\u540D\u811A\u672C\u5C06\u88AB\u8986\u76D6\u3002",async()=>{await Promise.all(F.map(Z=>li.upsert(Z))),xe.success("\u5BFC\u5165\u529F!")})}catch($){xe.error("\u5BFC\u5165\u5931\u8D25: "+$.message)}},I.click()}async function b(){Zi.confirm("\u786E\u8BA4\u542F\u7528\u6240\u6709\u811A\u672C\u5417?",()=>{Ai.enableAll(),xe.success("\u5DF2\u542F\u7528\u6240\u6709\u811A\u672C")})}async function w(){Zi.confirm("\u786E\u8BA4\u7981\u7528\u6240\u6709\u811A\u672C\u5417?",()=>{Ai.disableAll(),xe.success("\u5DF2\u7981\u7528\u6240\u6709\u811A\u672C")})}async function y(){Zi.confirm("\u786E\u8BA4\u5220\u9664\u6240\u6709\u811A\u672C\u5417? \u6B64\u64CD\u4F5C\u4E0D\u53EF\u6062\u590D!",()=>{li.removeAll(),Ai.removeAll(),xe.success("\u5DF2\u5220\u9664\u6240\u6709\u811A\u672C")},{type:"danger",confirmText:"\u5220\u9664",cancelText:"\u53D6\u6D88"})}function v(I){const L=I.detail;t(1,o=L.id),t(2,l[L.id]=L,l)}const T=()=>t(1,o="list"),x=I=>u({detail:I}),P=I=>t(1,o=I.id);function S(){h=this.value,t(0,h)}const A=I=>c(I.detail);function Q(I,L,$,N){$[N][1]=I}return r.$$.update=()=>{r.$$.dirty&16384&&t(13,i=Object.values(n).sort((I,L)=>L.updated_at-I.updated_at)),r.$$.dirty&8192&&console.log(i),r.$$.dirty&8193&&t(3,s=i==null?void 0:i.filter(I=>{var L,$;return!h||((L=I.title)==null?void 0:L.toLowerCase().includes(h.toLowerCase()))||(($=I.description)==null?void 0:$.toLowerCase().includes(h.toLowerCase()))}))},[h,o,l,s,c,u,p,m,g,b,w,y,v,i,n,T,x,P,S,A,Q]}class ZP extends zt{constructor(e){super(),qt(this,e,RP,DP,Dt,{})}}var Vg={install:async r=>{if(!r.code){let t=(await bi.getScript(r.id)).script;r.code=t.script.code}await li.upsert(r),Ai.enable(r.id);try{await bi.addScriptDownload(r.id)}catch(e){console.error("\u589E\u52A0\u811A\u672C\u4E0B\u8F7D\u91CF\u9519\u8BEF:",e)}}};function Ad(r,e,t){const i=r.slice();return i[34]=e[t],i}function jP(r){var Ac,Tc;let e,t,i,s,n,a,o,l,h,c,u,p=r[1].script.title+"",m,g,b,w,y=r[1].script.version+"",v,T,x,P,S,A,Q,I=r[1].script.author+"",L,$,N,R,F,Z,K=ko(r[1].updated_at)+"",ee,W,Y,H,z,G,te,q=(r[1].script.downloads||0)+"",X,J,ae,fe,Me,le=r[1].script.description+"",ce,Ze,Le,D,j,ie,ve,Qe,Ve,$e,Fe,Pt,dt,he,pe,Ce,wt,_t,st=((Ac=r[1].upvotes)!=null?Ac:0)+"",si,vt,rt,Ft,lt,De,We,Ne,Se=((Tc=r[1].downvotes)!=null?Tc:0)+"",He,ri,Gt,Wt,je,Kt,vi,Ut=(r[2]?r[2].length:0)+"",ut,mt,Re,me,se,Be,Rt,Jt,Zt,_e,ft,hi,jo,Un,Vn=r[11]?"\u5DF2\u5B89\u88C5":"\u5B89\u88C5\u811A\u672C",Bo,xc,Fn,Wn=r[11]?"\u5DF2\u5B89\u88C5":"\u5B89\u88C5",Xo,Hn,Yn,qo,kc;function Pc(Xe,St){return Xe[0]?XP:qP}let Gn=Pc(r),Wi=Gn(r);function Sc(Xe,St){return Xe[2]&&Xe[2].length>0?UP:zP}let Kn=Sc(r),Hi=Kn(r),di=!r[10]&&_d(r);return{c(){e=O("div"),t=O("div"),i=O("div"),s=O("div"),n=O("div"),a=O("img"),l=k(),h=O("div"),c=O("h2"),u=O("span"),m=U(p),g=k(),b=O("div"),w=U("v"),v=U(y),T=k(),x=O("div"),P=O("div"),S=V("svg"),A=V("path"),Q=k(),L=U(I),$=k(),N=O("div"),R=V("svg"),F=V("path"),Z=U(`
              \u5206\u4EAB\u4E8E `),ee=U(K),W=k(),Y=O("div"),H=V("svg"),z=V("path"),G=k(),te=O("span"),X=U(q),J=k(),ae=O("span"),ae.textContent="\u4E0B\u8F7D",fe=k(),Me=O("p"),ce=U(le),Ze=k(),Le=O("button"),Le.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 svelte-ievqeq" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',D=k(),j=O("div"),ie=O("div"),ve=O("div"),Qe=O("h3"),Qe.textContent="\u811A\u672C\u4EE3\u7801",Ve=k(),$e=O("div"),Fe=O("button"),Fe.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 svelte-ievqeq" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg>
                \u590D\u5236`,Pt=k(),Wi.c(),dt=k(),he=O("div"),pe=O("button"),Ce=V("svg"),wt=V("path"),_t=U(`
            (`),si=U(st),vt=U(")"),Ft=k(),lt=O("button"),De=V("svg"),We=V("path"),Ne=U(`
            (`),He=U(Se),ri=U(")"),Wt=k(),je=O("div"),Kt=O("h3"),vi=U("\u53CD\u9988 ("),ut=U(Ut),mt=U(")"),Re=k(),me=O("div"),se=O("input"),Be=k(),Rt=O("button"),Rt.textContent="\u53D1\u8868\u53CD\u9988",Jt=k(),Zt=O("div"),Hi.c(),_e=k(),ft=O("div"),hi=O("button"),di&&di.c(),jo=k(),Un=O("span"),Bo=U(Vn),xc=k(),Fn=O("span"),Xo=U(Wn),ot(a.src,o=kt.getIcon(r[1].script.icon))||f(a,"src",o),f(a,"alt",""),f(n,"class","w-14 h-14 rounded-xl ring ring-base-300 ring-offset-base-100 ring-offset-2"),f(s,"class","avatar mr-3"),f(u,"class","truncate"),f(b,"class","badge badge-outline badge-sm ml-2"),f(c,"class","text-xl font-medium mb-1.5 flex items-center"),f(A,"stroke-linecap","round"),f(A,"stroke-linejoin","round"),f(A,"d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"),f(S,"xmlns","http://www.w3.org/2000/svg"),f(S,"class","w-4 h-4 mr-1 svelte-ievqeq"),f(S,"fill","none"),f(S,"viewBox","0 0 24 24"),f(S,"stroke","currentColor"),f(S,"stroke-width","2"),f(P,"class","flex items-center"),f(F,"stroke-linecap","round"),f(F,"stroke-linejoin","round"),f(F,"d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"),f(R,"xmlns","http://www.w3.org/2000/svg"),f(R,"class","w-4 h-4 mr-1 svelte-ievqeq"),f(R,"fill","none"),f(R,"viewBox","0 0 24 24"),f(R,"stroke","currentColor"),f(R,"stroke-width","2"),f(N,"class","flex items-center"),f(z,"stroke-linecap","round"),f(z,"stroke-linejoin","round"),f(z,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"),f(H,"xmlns","http://www.w3.org/2000/svg"),f(H,"class","w-4 h-4 mr-1 svelte-ievqeq"),f(H,"fill","none"),f(H,"viewBox","0 0 24 24"),f(H,"stroke","currentColor"),f(H,"stroke-width","2"),f(ae,"class","ml-1"),f(Y,"class","flex items-center"),f(x,"class","flex items-center gap-4 text-sm text-base-content/60 mb-1.5"),f(Me,"class","text-base-content/60 text-sm line-clamp-2"),f(h,"class","flex-1 min-w-0"),f(Le,"class","btn btn-ghost btn-sm btn-circle hover:bg-base-200 svelte-ievqeq"),f(i,"class","p-3 border-b border-base-300 flex items-start"),f(Qe,"class","text-lg font-medium"),f(Fe,"class","btn btn-ghost btn-sm gap-1.5 hover:bg-base-200 svelte-ievqeq"),f(Fe,"title","\u590D\u5236\u4EE3\u7801"),f($e,"class","flex items-center gap-1.5"),f(ve,"class","flex items-center justify-between mb-2"),f(ie,"class","mb-5"),f(wt,"stroke-linecap","round"),f(wt,"stroke-linejoin","round"),f(wt,"stroke-width","2"),f(wt,"d","M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"),f(Ce,"xmlns","http://www.w3.org/2000/svg"),f(Ce,"class","h-5 w-5 svelte-ievqeq"),f(Ce,"fill","none"),f(Ce,"viewBox","0 0 24 24"),f(Ce,"stroke","currentColor"),f(pe,"class",rt="btn btn-ghost btn-sm gap-2 hover:bg-base-200 transition-colors "+(r[4]===1?"text-primary":"")+" svelte-ievqeq"),f(We,"stroke-linecap","round"),f(We,"stroke-linejoin","round"),f(We,"stroke-width","2"),f(We,"d","M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5"),f(De,"xmlns","http://www.w3.org/2000/svg"),f(De,"class","h-5 w-5 svelte-ievqeq"),f(De,"fill","none"),f(De,"viewBox","0 0 24 24"),f(De,"stroke","currentColor"),f(lt,"class",Gt="btn btn-ghost btn-sm gap-2 hover:bg-base-200 transition-colors "+(r[4]===-1?"text-error":"")+" svelte-ievqeq"),f(he,"class","flex flex-wrap items-center justify-center gap-4 mb-6"),f(Kt,"class","text-lg font-medium mb-3"),f(se,"type","text"),f(se,"placeholder","\u5199\u4E0B\u4F60\u7684\u53CD\u9988..."),f(se,"class","input input-bordered input-sm flex-1 min-w-[200px] bg-base-200 focus:bg-base-100 svelte-ievqeq"),f(Rt,"class","btn btn-primary btn-sm gap-2 svelte-ievqeq"),f(me,"class","flex flex-wrap gap-2 mb-4"),f(Zt,"class","space-y-3 max-h-[400px] overflow-y-auto pr-2 relative svelte-ievqeq"),f(j,"class","flex-1 overflow-y-auto p-3 min-h-0 svelte-ievqeq"),f(Un,"class","hidden xs:inline"),f(Fn,"class","xs:hidden"),f(hi,"class",Hn="btn btn-sm gap-2 w-32 sm:w-28 "+(r[11]?"btn-ghost":"btn-primary")+" svelte-ievqeq"),hi.disabled=Yn=r[10]||r[11],Ae(hi,"loading",r[10]),f(ft,"class","border-t border-base-300 p-3 flex justify-end"),f(t,"class","bg-base-100 rounded-lg w-full max-w-3xl min-h-[30rem] max-h-[calc(100vh-2rem)] flex flex-col"),f(e,"class","fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4")},m(Xe,St){M(Xe,e,St),d(e,t),d(t,i),d(i,s),d(s,n),d(n,a),d(i,l),d(i,h),d(h,c),d(c,u),d(u,m),d(c,g),d(c,b),d(b,w),d(b,v),d(h,T),d(h,x),d(x,P),d(P,S),d(S,A),d(P,Q),d(P,L),d(x,$),d(x,N),d(N,R),d(R,F),d(N,Z),d(N,ee),d(x,W),d(x,Y),d(Y,H),d(H,z),d(Y,G),d(Y,te),d(te,X),d(Y,J),d(Y,ae),d(h,fe),d(h,Me),d(Me,ce),d(i,Ze),d(i,Le),d(t,D),d(t,j),d(j,ie),d(ie,ve),d(ve,Qe),d(ve,Ve),d(ve,$e),d($e,Fe),d(ie,Pt),Wi.m(ie,null),d(j,dt),d(j,he),d(he,pe),d(pe,Ce),d(Ce,wt),d(pe,_t),d(pe,si),d(pe,vt),d(he,Ft),d(he,lt),d(lt,De),d(De,We),d(lt,Ne),d(lt,He),d(lt,ri),d(j,Wt),d(j,je),d(je,Kt),d(Kt,vi),d(Kt,ut),d(Kt,mt),d(je,Re),d(je,me),d(me,se),at(se,r[3]),d(me,Be),d(me,Rt),d(je,Jt),d(je,Zt),Hi.m(Zt,null),d(t,_e),d(t,ft),d(ft,hi),di&&di.m(hi,null),d(hi,jo),d(hi,Un),d(Un,Bo),d(hi,xc),d(hi,Fn),d(Fn,Xo),qo||(kc=[B(Le,"click",r[15]),B(Fe,"click",r[16]),B(pe,"click",r[21]),B(lt,"click",r[22]),B(se,"input",r[23]),B(se,"keydown",r[24]),B(Rt,"click",r[13]),B(hi,"click",r[14])],qo=!0)},p(Xe,St){var Cc,_c;St[0]&2&&!ot(a.src,o=kt.getIcon(Xe[1].script.icon))&&f(a,"src",o),St[0]&2&&p!==(p=Xe[1].script.title+"")&&oe(m,p),St[0]&2&&y!==(y=Xe[1].script.version+"")&&oe(v,y),St[0]&2&&I!==(I=Xe[1].script.author+"")&&oe(L,I),St[0]&2&&K!==(K=ko(Xe[1].updated_at)+"")&&oe(ee,K),St[0]&2&&q!==(q=(Xe[1].script.downloads||0)+"")&&oe(X,q),St[0]&2&&le!==(le=Xe[1].script.description+"")&&oe(ce,le),Gn===(Gn=Pc(Xe))&&Wi?Wi.p(Xe,St):(Wi.d(1),Wi=Gn(Xe),Wi&&(Wi.c(),Wi.m(ie,null))),St[0]&2&&st!==(st=((Cc=Xe[1].upvotes)!=null?Cc:0)+"")&&oe(si,st),St[0]&16&&rt!==(rt="btn btn-ghost btn-sm gap-2 hover:bg-base-200 transition-colors "+(Xe[4]===1?"text-primary":"")+" svelte-ievqeq")&&f(pe,"class",rt),St[0]&2&&Se!==(Se=((_c=Xe[1].downvotes)!=null?_c:0)+"")&&oe(He,Se),St[0]&16&&Gt!==(Gt="btn btn-ghost btn-sm gap-2 hover:bg-base-200 transition-colors "+(Xe[4]===-1?"text-error":"")+" svelte-ievqeq")&&f(lt,"class",Gt),St[0]&4&&Ut!==(Ut=(Xe[2]?Xe[2].length:0)+"")&&oe(ut,Ut),St[0]&8&&se.value!==Xe[3]&&at(se,Xe[3]),Kn===(Kn=Sc(Xe))&&Hi?Hi.p(Xe,St):(Hi.d(1),Hi=Kn(Xe),Hi&&(Hi.c(),Hi.m(Zt,null))),Xe[10]?di&&(di.d(1),di=null):di?di.p(Xe,St):(di=_d(Xe),di.c(),di.m(hi,jo)),St[0]&2048&&Vn!==(Vn=Xe[11]?"\u5DF2\u5B89\u88C5":"\u5B89\u88C5\u811A\u672C")&&oe(Bo,Vn),St[0]&2048&&Wn!==(Wn=Xe[11]?"\u5DF2\u5B89\u88C5":"\u5B89\u88C5")&&oe(Xo,Wn),St[0]&2048&&Hn!==(Hn="btn btn-sm gap-2 w-32 sm:w-28 "+(Xe[11]?"btn-ghost":"btn-primary")+" svelte-ievqeq")&&f(hi,"class",Hn),St[0]&3072&&Yn!==(Yn=Xe[10]||Xe[11])&&(hi.disabled=Yn),St[0]&3072&&Ae(hi,"loading",Xe[10])},d(Xe){Xe&&E(e),Wi.d(),Hi.d(),di&&di.d(),qo=!1,ct(kc)}}}function BP(r){let e;return{c(){e=O("div"),e.innerHTML='<div class="w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"></div>',f(e,"class","fixed inset-0 bg-black/50 z-50 flex items-center justify-center")},m(t,i){M(t,e,i)},p:ge,d(t){t&&E(e)}}}function XP(r){let e,t,i,s,n,a,o;return{c(){e=O("div"),t=O("div"),i=O("div"),s=k(),n=O("button"),n.innerHTML=`\u6536\u8D77
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 rotate-180 svelte-ievqeq" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>`,f(i,"class","w-full h-full"),f(t,"class","bg-base-200 rounded-lg overflow-hidden transition-all duration-300"),em(t,"height","min(400px, 50vh)"),f(n,"class","btn btn-ghost btn-sm gap-1.5 absolute top-2 right-2 bg-base-200/80 hover:bg-base-300 svelte-ievqeq"),f(e,"class","relative")},m(l,h){M(l,e,h),d(e,t),d(t,i),r[19](i),d(e,s),d(e,n),a||(o=B(n,"click",r[20]),a=!0)},p:ge,d(l){l&&E(e),r[19](null),a=!1,o()}}}function qP(r){let e,t,i,s=Qd(r[1].script.code)+"",n,a,o=Ed(r[1].script.code),l,h,c=o&&Td();return{c(){e=O("div"),t=O("pre"),i=O("code"),n=U(s),a=k(),c&&c.c(),f(i,"class","svelte-ievqeq"),f(t,"class","text-sm font-mono whitespace-pre-wrap overflow-hidden svelte-ievqeq"),f(e,"class","bg-base-200 rounded-lg p-3 relative cursor-pointer group")},m(u,p){M(u,e,p),d(e,t),d(t,i),d(i,n),d(e,a),c&&c.m(e,null),l||(h=B(e,"click",r[18]),l=!0)},p(u,p){p[0]&2&&s!==(s=Qd(u[1].script.code)+"")&&oe(n,s),p[0]&2&&(o=Ed(u[1].script.code)),o?c||(c=Td(),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(u){u&&E(e),c&&c.d(),l=!1,h()}}}function Td(r){let e;return{c(){e=O("div"),e.innerHTML=`<div class="flex items-center gap-1 text-sm text-base-content/60 group-hover:text-primary transition-colors"><span>\u70B9\u51FB\u5C55\u5F00\u5B8C\u6574\u4EE3\u7801</span> 
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 svelte-ievqeq" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg></div>`,f(e,"class","absolute inset-x-0 bottom-0 h-12 bg-gradient-to-t from-base-200 to-transparent flex items-end justify-center pb-2")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function zP(r){let e;return{c(){e=O("div"),e.textContent="\u6682\u65E0\u53CD\u9988",f(e,"class","text-center text-base-content/50 py-4")},m(t,i){M(t,e,i)},p:ge,d(t){t&&E(e)}}}function UP(r){let e=[],t=new Map,i,s,n,a=r[2];const o=u=>u[34].id;for(let u=0;u<a.length;u+=1){let p=Ad(r,a,u),m=o(p);t.set(m,e[u]=Cd(m,p))}function l(u,p){return u[8]?WP:u[7]?FP:VP}let h=l(r),c=h(r);return{c(){for(let u=0;u<e.length;u+=1)e[u].c();i=k(),s=O("div"),c.c(),f(s,"class",n="py-4 text-center "+(r[8]||r[7]?"sticky bottom-0":""))},m(u,p){for(let m=0;m<e.length;m+=1)e[m].m(u,p);M(u,i,p),M(u,s,p),c.m(s,null),r[25](s)},p(u,p){p[0]&4&&(a=u[2],e=os(e,p,o,1,u,a,t,i.parentNode,Wa,Cd,i,Ad)),h!==(h=l(u))&&(c.d(1),c=h(u),c&&(c.c(),c.m(s,null))),p[0]&384&&n!==(n="py-4 text-center "+(u[8]||u[7]?"sticky bottom-0":""))&&f(s,"class",n)},d(u){for(let p=0;p<e.length;p+=1)e[p].d(u);u&&E(i),u&&E(s),c.d(),r[25](null)}}}function Cd(r,e){let t,i,s,n,a,o,l,h,c,u,p=e[34].user.nickname+"",m,g,b,w=ko(e[34].created_at)+"",y,v,T,x=e[34].content+"",P;return{key:r,first:null,c(){t=O("div"),i=O("div"),s=O("div"),n=O("div"),a=O("img"),l=k(),h=O("div"),c=O("div"),u=O("span"),m=U(p),g=k(),b=O("span"),y=U(w),v=k(),T=O("p"),P=U(x),ot(a.src,o=e[34].user.avatar)||f(a,"src",o),f(a,"alt",""),f(n,"class","w-8 h-8 rounded-full"),f(s,"class","avatar"),f(u,"class","font-medium text-sm"),f(b,"class","text-sm text-base-content/50"),f(c,"class","flex items-center justify-between mb-1.5"),f(T,"class","text-base-content/80 text-sm break-words"),f(h,"class","flex-1 min-w-0"),f(i,"class","flex items-start gap-3"),f(t,"class","bg-base-200 rounded-lg p-3 hover:bg-base-300 transition-colors"),this.first=t},m(S,A){M(S,t,A),d(t,i),d(i,s),d(s,n),d(n,a),d(i,l),d(i,h),d(h,c),d(c,u),d(u,m),d(c,g),d(c,b),d(b,y),d(h,v),d(h,T),d(T,P)},p(S,A){e=S,A[0]&4&&!ot(a.src,o=e[34].user.avatar)&&f(a,"src",o),A[0]&4&&p!==(p=e[34].user.nickname+"")&&oe(m,p),A[0]&4&&w!==(w=ko(e[34].created_at)+"")&&oe(y,w),A[0]&4&&x!==(x=e[34].content+"")&&oe(P,x)},d(S){S&&E(t)}}}function VP(r){let e;return{c(){e=O("span"),e.textContent="\u5DF2\u663E\u793A\u5168\u90E8\u8BC4\u8BBA",f(e,"class","text-base-content/50 text-sm")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function FP(r){let e;return{c(){e=O("span"),e.textContent="\u4E0A\u6ED1\u52A0\u8F7D\u66F4\u591A",f(e,"class","text-base-content/50 text-sm")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function WP(r){let e;return{c(){e=O("div"),f(e,"class","loading loading-spinner loading-sm text-primary")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function _d(r){let e;function t(n,a){return n[11]?YP:HP}let i=t(r),s=i(r);return{c(){e=V("svg"),s.c(),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"class","h-4 w-4 svelte-ievqeq"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke","currentColor"),f(e,"stroke-width","2")},m(n,a){M(n,e,a),s.m(e,null)},p(n,a){i!==(i=t(n))&&(s.d(1),s=i(n),s&&(s.c(),s.m(e,null)))},d(n){n&&E(e),s.d()}}}function HP(r){let e;return{c(){e=V("path"),f(e,"stroke-linecap","round"),f(e,"stroke-linejoin","round"),f(e,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function YP(r){let e;return{c(){e=V("path"),f(e,"stroke-linecap","round"),f(e,"stroke-linejoin","round"),f(e,"stroke-width","2"),f(e,"d","M5 13l4 4L19 7")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function GP(r){let e;function t(n,a){if(n[6])return BP;if(n[1])return jP}let i=t(r),s=i&&i(r);return{c(){s&&s.c(),e=Li()},m(n,a){s&&s.m(n,a),M(n,e,a)},p(n,a){i===(i=t(n))&&s?s.p(n,a):(s&&s.d(1),s=i&&i(n),s&&(s.c(),s.m(e.parentNode,e)))},i:ge,o:ge,d(n){s&&s.d(n),n&&E(e)}}}function ko(r){const e=Date.now()-r,t=Math.floor(e/(24*60*60*1e3));return t===0?"\u4ECA\u5929":t===1?"\u6628\u5929":t<30?`${t}\u5929\u524D`:new Date(r).toLocaleDateString()}function Qd(r,e=5){return r.split(`
`).slice(0,e).join(`
`)}function Ed(r){return r.split(`
`).length>5}function KP(r,e,t){const i=Ss();let{scriptId:s}=e,n=null,a=null,o="",l=null,h=!1,c=null,u,p=!0,m=1,g=!0,b=!1,w,y,v=!1,T=!1;function x(){w&&y&&(y.disconnect(),y.observe(w))}zr(async()=>{try{const z=await bi.getScript(s);t(1,n=z.script),t(4,l=z.current_user_vote);const G=await bi.getScriptComments(s,1);t(2,a=G||[]),t(7,g=G&&G.length>0),y=new IntersectionObserver(([te])=>{te.isIntersecting&&!b&&g&&N()}),x()}catch(z){console.error("\u83B7\u53D6\u811A\u672C\u8BE6\u60C5\u5931\u8D25:",z),xe.error("\u83B7\u53D6\u811A\u672C\u8BE6\u60C5\u5931\u8D25: "+z.message)}finally{t(6,p=!1)}}),Ao(()=>{x()});async function P(z){try{const G=z===l?0:z,te=await bi.voteScript(s,G);t(1,n.upvotes=te.upvotes,n),t(1,n.downvotes=te.downvotes,n),t(4,l=z===l?null:z)}catch(G){console.error("\u6295\u7968\u5931\u8D25:",G),xe.error("\u6295\u7968\u5931\u8D25: "+G.message)}}async function S(){if(!o.trim()){xe.error("\u8BF7\u8F93\u5165\u53CD\u9988\u5185\u5BB9");return}try{const z=await bi.createComment(s,o);t(2,a=a?[z,...a]:[z]),t(3,o=""),xe.success("\u53CD\u9988\u6210\u529F")}catch(z){console.error("\u53D1\u8868\u53CD\u9988\u5931\u8D25:",z),xe.error("\u53D1\u8868\u53CD\u9988\u5931\u8D25: "+z.message)}}async function A(){if(!T){t(10,v=!0);try{await Vg.install(n.script),t(11,T=!0),Fi.trackScriptInstall(n.script),xe.success("\u811A\u672C\u5B89\u88C5\u6210\u529F")}catch(z){console.error("\u5B89\u88C5\u5931\u8D25:",z),xe.error("\u5B89\u88C5\u5931\u8D25: "+z.message)}finally{t(10,v=!1)}}}function Q(){i("close")}function I(){navigator.clipboard.writeText(n.script.code),xe.success("\u4EE3\u7801\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F")}function L(){if(!h||!u)return;const z=et.create({doc:n.script.code,extensions:[j0(),mg(),gg,et.readOnly.of(!0),Te.lineWrapping,Te.theme({"&":{fontSize:"15px",height:"100%"},".cm-scroller":{overflow:"auto"},".cm-gutters":{backgroundColor:"transparent",border:"none",borderRight:"1px solid hsl(var(--b3))"},".cm-lineNumbers .cm-gutterElement":{padding:"0 0.5rem",color:"hsl(var(--b3) / 0.6)"}})]});c=new Te({state:z,parent:u})}function $(){c&&(c.destroy(),c=null)}or(()=>{$(),y&&y.disconnect()});async function N(){if(!(b||!g)){t(8,b=!0);try{const z=m+1,G=await bi.getScriptComments(s,z);!G||G.length===0?t(7,g=!1):(t(2,a=[...a,...G]),m=z)}catch(z){console.error("\u52A0\u8F7D\u66F4\u591A\u8BC4\u8BBA\u5931\u8D25:",z),xe.error("\u52A0\u8F7D\u66F4\u591A\u8BC4\u8BBA\u5931\u8D25: "+z.message),t(7,g=!1)}finally{t(8,b=!1)}}}const R=()=>t(0,h=!0);function F(z){as[z?"unshift":"push"](()=>{u=z,t(5,u)})}const Z=()=>t(0,h=!1),K=()=>P(1),ee=()=>P(-1);function W(){o=this.value,t(3,o)}const Y=z=>{z.key==="Enter"&&!z.shiftKey&&(z.preventDefault(),S())};function H(z){as[z?"unshift":"push"](()=>{w=z,t(9,w)})}return r.$$set=z=>{"scriptId"in z&&t(17,s=z.scriptId)},r.$$.update=()=>{r.$$.dirty[0]&1&&(h?setTimeout(L,0):$())},[h,n,a,o,l,u,p,g,b,w,v,T,P,S,A,Q,I,s,R,F,Z,K,ee,W,Y,H]}class Fg extends zt{constructor(e){super(),qt(this,e,KP,GP,Dt,{scriptId:17},null,[-1,-1])}}function JP(r){let e,t=r[0].script.author+"",i;return{c(){e=O("span"),i=U(t)},m(s,n){M(s,e,n),d(e,i)},p(s,n){n&1&&t!==(t=s[0].script.author+"")&&oe(i,t)},d(s){s&&E(e)}}}function e3(r){let e,t=r[0].script.author+"",i,s,n,a;return{c(){e=O("a"),i=U(t),f(e,"href",s=r[0].script.home),f(e,"class","hover:text-primary transition-colors duration-200")},m(o,l){M(o,e,l),d(e,i),n||(a=B(e,"click",ir(Ch(r[6]))),n=!0)},p(o,l){l&1&&t!==(t=o[0].script.author+"")&&oe(i,t),l&1&&s!==(s=o[0].script.home)&&f(e,"href",s)},d(o){o&&E(e),n=!1,a()}}}function Id(r){let e;function t(n,a){return n[3]?i3:t3}let i=t(r),s=i(r);return{c(){e=V("svg"),s.c(),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"class","h-4 w-4 mr-1"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke","currentColor")},m(n,a){M(n,e,a),s.m(e,null)},p(n,a){i!==(i=t(n))&&(s.d(1),s=i(n),s&&(s.c(),s.m(e,null)))},d(n){n&&E(e),s.d()}}}function t3(r){let e;return{c(){e=V("path"),f(e,"stroke-linecap","round"),f(e,"stroke-linejoin","round"),f(e,"stroke-width","2"),f(e,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function i3(r){let e;return{c(){e=V("path"),f(e,"stroke-linecap","round"),f(e,"stroke-linejoin","round"),f(e,"stroke-width","2"),f(e,"d","M5 13l4 4L19 7")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function Md(r){let e,t;return e=new Fg({props:{scriptId:r[0].script.id}}),e.$on("close",r[7]),{c(){Qt(e.$$.fragment)},m(i,s){Tt(e,i,s),t=!0},p(i,s){const n={};s&1&&(n.scriptId=i[0].script.id),e.$set(n)},i(i){t||(be(e.$$.fragment,i),t=!0)},o(i){ke(e.$$.fragment,i),t=!1},d(i){Ct(e,i)}}}function s3(r){let e,t,i,s,n,a,o,l,h,c,u,p=r[0].script.title+"",m,g,b,w,y=r[0].script.version+"",v,T,x,P,S,A,Q,I,L,$,N,R=$d(new Date(r[0].updated_at).getTime())+"",F,Z,K,ee,W,Y,H,z,G,te=r[0].upvotes+"",q,X,J,ae,fe,Me,le,ce,Ze,Le=r[0].comments_count+"",D,j,ie,ve,Qe,Ve,$e,Fe,Pt,dt=r[0].downloads+"",he,pe,Ce,wt=(r[0].script.description||"\u6682\u65E0\u63CF\u8FF0\u4FE1\u606F")+"",_t,st,si,vt,rt,Ft,lt,De,We,Ne=r[3]?"\u5DF2\u5B89\u88C5":"\u5B89\u88C5",Se,He,ri,Gt,Wt,je,Kt,vi;function Ut(se,Be){return se[0].script.home?e3:JP}let ut=Ut(r),mt=ut(r),Re=!r[2]&&Id(r),me=r[1]&&Md(r);return{c(){e=O("div"),t=O("div"),i=O("div"),s=O("div"),n=O("div"),a=O("img"),l=k(),h=O("div"),c=O("div"),u=O("h2"),m=U(p),g=k(),b=O("div"),w=U("v"),v=U(y),T=k(),x=O("div"),P=O("div"),S=V("svg"),A=V("path"),Q=k(),mt.c(),I=k(),L=O("span"),L.textContent="\u2022",$=k(),N=O("span"),F=U(R),Z=k(),K=O("span"),K.textContent="\u2022",ee=k(),W=O("div"),Y=V("svg"),H=V("path"),z=k(),G=O("span"),q=U(te),X=k(),J=O("span"),J.textContent="\u2022",ae=k(),fe=O("div"),Me=V("svg"),le=V("path"),ce=k(),Ze=O("span"),D=U(Le),j=k(),ie=O("span"),ie.textContent="\u2022",ve=k(),Qe=O("div"),Ve=V("svg"),$e=V("path"),Fe=k(),Pt=O("span"),he=U(dt),pe=k(),Ce=O("p"),_t=U(wt),st=k(),si=O("div"),vt=k(),rt=O("div"),Ft=O("button"),Ft.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>
        \u8BE6\u60C5`,lt=k(),De=O("button"),Re&&Re.c(),We=k(),Se=U(Ne),Gt=k(),me&&me.c(),Wt=Li(),ot(a.src,o=kt.getIcon(r[0].script.icon))||f(a,"src",o),f(a,"alt",""),f(a,"class","svelte-1jaqwy9"),f(n,"class","w-12 h-12 rounded-xl ring-1 ring-base-300 ring-offset-2 shadow-sm"),f(s,"class","avatar svelte-1jaqwy9"),f(u,"class","text-lg font-bold truncate"),f(b,"class","badge badge-sm badge-primary badge-outline font-mono"),f(c,"class","flex items-center gap-2 mb-1"),f(A,"d","M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"),f(S,"xmlns","http://www.w3.org/2000/svg"),f(S,"class","w-4 h-4"),f(S,"viewBox","0 0 20 20"),f(S,"fill","currentColor"),f(P,"class","flex items-center gap-1"),f(L,"class","text-base-content/30"),f(K,"class","text-base-content/30"),f(H,"d","M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"),f(Y,"xmlns","http://www.w3.org/2000/svg"),f(Y,"class","w-3.5 h-3.5"),f(Y,"viewBox","0 0 20 20"),f(Y,"fill","currentColor"),f(W,"class","flex items-center gap-1"),f(J,"class","text-base-content/30"),f(le,"fill-rule","evenodd"),f(le,"d","M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z"),f(le,"clip-rule","evenodd"),f(Me,"xmlns","http://www.w3.org/2000/svg"),f(Me,"class","w-3.5 h-3.5"),f(Me,"viewBox","0 0 20 20"),f(Me,"fill","currentColor"),f(fe,"class","flex items-center gap-1"),f(ie,"class","text-base-content/30"),f($e,"fill-rule","evenodd"),f($e,"d","M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"),f($e,"clip-rule","evenodd"),f(Ve,"xmlns","http://www.w3.org/2000/svg"),f(Ve,"class","w-3.5 h-3.5"),f(Ve,"viewBox","0 0 20 20"),f(Ve,"fill","currentColor"),f(Qe,"class","flex items-center gap-1"),f(x,"class","flex items-center gap-2 text-sm text-base-content/60"),f(h,"class","flex-1 min-w-0"),f(i,"class","flex gap-5"),f(Ce,"class","text-sm text-base-content/70 mt-3 line-clamp-2 svelte-1jaqwy9"),f(si,"class","divider my-2 svelte-1jaqwy9"),f(Ft,"class","btn btn-sm btn-ghost normal-case hover:bg-base-300"),f(De,"class",He="btn btn-sm normal-case "+(r[3]?"btn-ghost":"btn-primary hover:brightness-110")),De.disabled=ri=r[2]||r[3],Ae(De,"loading",r[2]),f(rt,"class","flex justify-end gap-3"),f(t,"class","card-body p-5"),f(e,"class","card bg-base-200 shadow-md hover:bg-base-300 hover:shadow-lg transition-all duration-300 cursor-pointer")},m(se,Be){M(se,e,Be),d(e,t),d(t,i),d(i,s),d(s,n),d(n,a),d(i,l),d(i,h),d(h,c),d(c,u),d(u,m),d(c,g),d(c,b),d(b,w),d(b,v),d(h,T),d(h,x),d(x,P),d(P,S),d(S,A),d(P,Q),mt.m(P,null),d(x,I),d(x,L),d(x,$),d(x,N),d(N,F),d(x,Z),d(x,K),d(x,ee),d(x,W),d(W,Y),d(Y,H),d(W,z),d(W,G),d(G,q),d(x,X),d(x,J),d(x,ae),d(x,fe),d(fe,Me),d(Me,le),d(fe,ce),d(fe,Ze),d(Ze,D),d(x,j),d(x,ie),d(x,ve),d(x,Qe),d(Qe,Ve),d(Ve,$e),d(Qe,Fe),d(Qe,Pt),d(Pt,he),d(t,pe),d(t,Ce),d(Ce,_t),d(t,st),d(t,si),d(t,vt),d(t,rt),d(rt,Ft),d(rt,lt),d(rt,De),Re&&Re.m(De,null),d(De,We),d(De,Se),M(se,Gt,Be),me&&me.m(se,Be),M(se,Wt,Be),je=!0,Kt||(vi=[B(Ft,"click",ir(r[5])),B(De,"click",ir(r[4])),B(e,"click",r[5])],Kt=!0)},p(se,[Be]){(!je||Be&1&&!ot(a.src,o=kt.getIcon(se[0].script.icon)))&&f(a,"src",o),(!je||Be&1)&&p!==(p=se[0].script.title+"")&&oe(m,p),(!je||Be&1)&&y!==(y=se[0].script.version+"")&&oe(v,y),ut===(ut=Ut(se))&&mt?mt.p(se,Be):(mt.d(1),mt=ut(se),mt&&(mt.c(),mt.m(P,null))),(!je||Be&1)&&R!==(R=$d(new Date(se[0].updated_at).getTime())+"")&&oe(F,R),(!je||Be&1)&&te!==(te=se[0].upvotes+"")&&oe(q,te),(!je||Be&1)&&Le!==(Le=se[0].comments_count+"")&&oe(D,Le),(!je||Be&1)&&dt!==(dt=se[0].downloads+"")&&oe(he,dt),(!je||Be&1)&&wt!==(wt=(se[0].script.description||"\u6682\u65E0\u63CF\u8FF0\u4FE1\u606F")+"")&&oe(_t,wt),se[2]?Re&&(Re.d(1),Re=null):Re?Re.p(se,Be):(Re=Id(se),Re.c(),Re.m(De,We)),(!je||Be&8)&&Ne!==(Ne=se[3]?"\u5DF2\u5B89\u88C5":"\u5B89\u88C5")&&oe(Se,Ne),(!je||Be&8&&He!==(He="btn btn-sm normal-case "+(se[3]?"btn-ghost":"btn-primary hover:brightness-110")))&&f(De,"class",He),(!je||Be&12&&ri!==(ri=se[2]||se[3]))&&(De.disabled=ri),Be&12&&Ae(De,"loading",se[2]),se[1]?me?(me.p(se,Be),Be&2&&be(me,1)):(me=Md(se),me.c(),be(me,1),me.m(Wt.parentNode,Wt)):me&&(Nt(),ke(me,1,1,()=>{me=null}),Lt())},i(se){je||(be(me),je=!0)},o(se){ke(me),je=!1},d(se){se&&E(e),mt.d(),Re&&Re.d(),se&&E(Gt),me&&me.d(se),se&&E(Wt),Kt=!1,ct(vi)}}}function $d(r){const e=Date.now()-r,t=Math.floor(e/(24*60*60*1e3));return t===0?"\u4ECA\u5929":t===1?"\u6628\u5929":t<30?`${t}\u5929\u524D`:new Date(r).toLocaleDateString()}function r3(r,e,t){let{script:i}=e;Ss();let s=!1,n=!1,a=!1;async function o(){if(!a){t(2,n=!0);try{await Vg.install(i.script),t(3,a=!0),Fi.trackScriptInstall(i.script),xe.success("\u811A\u672C\u5B89\u88C5\u6210\u529F")}catch(u){xe.error("\u5B89\u88C5\u5931\u8D25: "+u.message)}finally{t(2,n=!1)}}}function l(){t(1,s=!0)}const h=()=>{ztools.shellOpenExternal(i.script.home)},c=()=>t(1,s=!1);return r.$$set=u=>{"script"in u&&t(0,i=u.script)},[i,s,n,a,o,l,h,c]}class n3 extends zt{constructor(e){super(),qt(this,e,r3,s3,Dt,{script:0})}}function Nd(r,e,t){const i=r.slice();return i[17]=e[t],i[19]=t,i}function Ld(r,e,t){const i=r.slice();return i[20]=e[t],i}function a3(r){let e,t;return{c(){e=V("svg"),t=V("path"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"stroke-width","2"),f(t,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"class","h-5 w-5 absolute right-3 top-1/2 -translate-y-1/2 text-base-content/50"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke","currentColor")},m(i,s){M(i,e,s),d(e,t)},d(i){i&&E(e)}}}function o3(r){let e;return{c(){e=O("div"),e.innerHTML='<div class="w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"></div>',f(e,"class","absolute right-3 top-1/2 -translate-y-1/2")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function Dd(r){let e,t=r[20].name+"",i,s,n,a;function o(){return r[11](r[20])}return{c(){e=O("button"),i=U(t),s=k(),f(e,"class","btn btn-sm"),e.disabled=r[4],Ae(e,"btn-primary",r[0]===r[20].id),Ae(e,"btn-ghost",r[0]!==r[20].id)},m(l,h){M(l,e,h),d(e,i),d(e,s),n||(a=B(e,"click",o),n=!0)},p(l,h){r=l,h&16&&(e.disabled=r[4]),h&129&&Ae(e,"btn-primary",r[0]===r[20].id),h&129&&Ae(e,"btn-ghost",r[0]!==r[20].id)},d(l){l&&E(e),n=!1,a()}}}function l3(r){let e,t=[],i=new Map,s,n,a,o=r[1];const l=p=>p[19];for(let p=0;p<o.length;p+=1){let m=Nd(r,o,p),g=l(m);i.set(g,t[p]=Rd(g,m))}function h(p,m){return p[4]?p3:p[3]?f3:u3}let c=h(r),u=c(r);return{c(){e=O("div");for(let p=0;p<t.length;p+=1)t[p].c();s=k(),n=O("div"),u.c(),f(n,"class","py-4 text-center"),f(e,"class","grid grid-cols-1 gap-4 p-4")},m(p,m){M(p,e,m);for(let g=0;g<t.length;g+=1)t[g].m(e,null);d(e,s),d(e,n),u.m(n,null),r[12](n),a=!0},p(p,m){m&2&&(o=p[1],Nt(),t=os(t,m,l,1,p,o,i,e,Ur,Rd,s,Nd),Lt()),c!==(c=h(p))&&(u.d(1),u=c(p),u&&(u.c(),u.m(n,null)))},i(p){if(!a){for(let m=0;m<o.length;m+=1)be(t[m]);a=!0}},o(p){for(let m=0;m<t.length;m+=1)ke(t[m]);a=!1},d(p){p&&E(e);for(let m=0;m<t.length;m+=1)t[m].d();u.d(),r[12](null)}}}function h3(r){let e,t,i,s,n,a=r[6]?"\u672A\u627E\u5230\u76F8\u5173\u811A\u672C":"\u6682\u65E0\u5728\u7EBF\u811A\u672C",o,l,h,c=r[6]?"\u6362\u4E2A\u5173\u952E\u8BCD\u8BD5\u8BD5?":"\u76EE\u524D\u8FD8\u6CA1\u6709\u4EFB\u4F55\u5728\u7EBF\u811A\u672C\u3002\u8BF7\u7A0D\u540E\u518D\u6765\u67E5\u770B\uFF0C\u6216\u8005\u5148\u53BB\u521B\u5EFA\u4E00\u4E2A\u672C\u5730\u811A\u672C\u8BD5\u8BD5\u770B\u3002",u,p,m=r[6]&&Zd(r);return{c(){e=O("div"),t=V("svg"),i=V("path"),s=k(),n=O("p"),o=U(a),l=k(),h=O("p"),u=U(c),p=k(),m&&m.c(),f(i,"stroke-linecap","round"),f(i,"stroke-linejoin","round"),f(i,"d","M13 10V3L4 14h7v7l9-11h-7z"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"class","h-16 w-16 mb-4"),f(t,"fill","none"),f(t,"viewBox","0 0 24 24"),f(t,"stroke","currentColor"),f(t,"stroke-width","1"),f(n,"class","mb-2 text-lg"),f(h,"class","text-sm text-base-content/50 text-center max-w-sm"),f(e,"class","flex flex-col items-center justify-center py-16 text-base-content/60")},m(g,b){M(g,e,b),d(e,t),d(t,i),d(e,s),d(e,n),d(n,o),d(e,l),d(e,h),d(h,u),d(e,p),m&&m.m(e,null)},p(g,b){b&64&&a!==(a=g[6]?"\u672A\u627E\u5230\u76F8\u5173\u811A\u672C":"\u6682\u65E0\u5728\u7EBF\u811A\u672C")&&oe(o,a),b&64&&c!==(c=g[6]?"\u6362\u4E2A\u5173\u952E\u8BCD\u8BD5\u8BD5?":"\u76EE\u524D\u8FD8\u6CA1\u6709\u4EFB\u4F55\u5728\u7EBF\u811A\u672C\u3002\u8BF7\u7A0D\u540E\u518D\u6765\u67E5\u770B\uFF0C\u6216\u8005\u5148\u53BB\u521B\u5EFA\u4E00\u4E2A\u672C\u5730\u811A\u672C\u8BD5\u8BD5\u770B\u3002")&&oe(u,c),g[6]?m?m.p(g,b):(m=Zd(g),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i:ge,o:ge,d(g){g&&E(e),m&&m.d()}}}function c3(r){let e;return{c(){e=O("div"),e.innerHTML='<div class="w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"></div>',f(e,"class","flex items-center justify-center py-16")},m(t,i){M(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function Rd(r,e){let t,i,s;return i=new n3({props:{script:e[17]}}),{key:r,first:null,c(){t=Li(),Qt(i.$$.fragment),this.first=t},m(n,a){M(n,t,a),Tt(i,n,a),s=!0},p(n,a){e=n;const o={};a&2&&(o.script=e[17]),i.$set(o)},i(n){s||(be(i.$$.fragment,n),s=!0)},o(n){ke(i.$$.fragment,n),s=!1},d(n){n&&E(t),Ct(i,n)}}}function u3(r){let e;return{c(){e=O("span"),e.textContent="\u5DF2\u7ECF\u5230\u5E95\u5566",f(e,"class","text-base-content/50 text-sm")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function f3(r){let e;return{c(){e=O("span"),e.textContent="\u4E0A\u6ED1\u52A0\u8F7D\u66F4\u591A",f(e,"class","text-base-content/50 text-sm")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function p3(r){let e;return{c(){e=O("div"),f(e,"class","w-8 h-8 border-3 border-primary border-t-transparent rounded-full animate-spin mx-auto")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function Zd(r){let e,t,i;return{c(){e=O("button"),e.textContent="\u6E05\u9664\u641C\u7D22",f(e,"class","btn btn-primary btn-sm mt-6")},m(s,n){M(s,e,n),t||(i=B(e,"click",r[9]),t=!0)},p:ge,d(s){s&&E(e),t=!1,i()}}}function d3(r){let e,t,i,s,n,a,o,l,h,c,u,p,m,g;function b(A,Q){return A[4]?o3:a3}let w=b(r),y=w(r),v=r[7],T=[];for(let A=0;A<v.length;A+=1)T[A]=Dd(Ld(r,v,A));const x=[c3,h3,l3],P=[];function S(A,Q){return A[4]&&A[2]===1?0:!A[1]||A[1].length===0?1:2}return c=S(r),u=P[c]=x[c](r),{c(){e=O("div"),t=O("div"),i=O("div"),s=O("div"),n=O("input"),a=k(),y.c(),o=k(),l=O("div");for(let A=0;A<T.length;A+=1)T[A].c();h=k(),u.c(),f(n,"type","text"),f(n,"placeholder","\u641C\u7D22\u5728\u7EBF\u811A\u672C..."),f(n,"class","input input-bordered w-full pr-10"),n.disabled=r[4],f(s,"class","flex-1 relative"),f(l,"class","flex gap-2"),f(i,"class","flex items-center gap-4 p-4"),f(t,"class","sticky top-0 z-40 bg-base-100 border-b border-base-300")},m(A,Q){M(A,e,Q),d(e,t),d(t,i),d(i,s),d(s,n),at(n,r[6]),d(s,a),y.m(s,null),d(i,o),d(i,l);for(let I=0;I<T.length;I+=1)T[I].m(l,null);d(e,h),P[c].m(e,null),p=!0,m||(g=[B(n,"input",r[10]),B(n,"keydown",r[8])],m=!0)},p(A,[Q]){if((!p||Q&16)&&(n.disabled=A[4]),Q&64&&n.value!==A[6]&&at(n,A[6]),w!==(w=b(A))&&(y.d(1),y=w(A),y&&(y.c(),y.m(s,null))),Q&145){v=A[7];let L;for(L=0;L<v.length;L+=1){const $=Ld(A,v,L);T[L]?T[L].p($,Q):(T[L]=Dd($),T[L].c(),T[L].m(l,null))}for(;L<T.length;L+=1)T[L].d(1);T.length=v.length}let I=c;c=S(A),c===I?P[c].p(A,Q):(Nt(),ke(P[I],1,1,()=>{P[I]=null}),Lt(),u=P[c],u?u.p(A,Q):(u=P[c]=x[c](A),u.c()),be(u,1),u.m(e,null))},i(A){p||(be(u),p=!0)},o(A){ke(u),p=!1},d(A){A&&E(e),y.d(),qr(T,A),P[c].d(),m=!1,ct(g)}}}function m3(r,e,t){let i=[],s=1,n=!0,a=!1,o,l,h="",c="latest";const u=[{id:"latest",name:"\u6700\u65B0"},{id:"hot",name:"\u70ED\u95E8"}];function p(){l&&(l.disconnect(),l=null)}async function m(x=!1){if(!a){t(4,a=!0),x||(t(2,s=1),t(3,n=!0),t(1,i=[]),p());try{const P={page:s,limit:30,filter:c||"",keyword:h||""},S=await bi.getScripts(P);!S||S.length===0?t(3,n=!1):(t(1,i=x?[...i,...S]:S),t(2,s+=1))}catch(P){console.error("\u83B7\u53D6\u5728\u7EBF\u811A\u672C\u5931\u8D25:",P),xe.error("\u83B7\u53D6\u5728\u7EBF\u811A\u672C\u5931\u8D25: "+P.message),t(3,n=!1)}finally{t(4,a=!1)}}}function g(){o&&!l&&(l=new IntersectionObserver(([x])=>{console.log("IntersectionObserver..."),x.isIntersecting&&!a&&n&&m(!0)}),l.observe(o))}zr(()=>{m()}),Ao(()=>{console.log("afterUpdate..."),g()}),or(()=>{l&&l.disconnect()});function b(x){x.key==="Enter"&&m()}function w(){t(6,h=""),m()}function y(){h=this.value,t(6,h)}const v=x=>t(0,c=x.id);function T(x){as[x?"unshift":"push"](()=>{o=x,t(5,o)})}return r.$$.update=()=>{r.$$.dirty&1&&c&&m()},[c,i,s,n,a,o,h,u,b,w,y,v,T]}class g3 extends zt{constructor(e){super(),qt(this,e,m3,d3,Dt,{})}}function O3(r){let e,t=r[0].script.author+"",i;return{c(){e=O("span"),i=U(t)},m(s,n){M(s,e,n),d(e,i)},p(s,n){n&1&&t!==(t=s[0].script.author+"")&&oe(i,t)},d(s){s&&E(e)}}}function b3(r){let e,t=r[0].script.author+"",i,s,n,a;return{c(){e=O("a"),i=U(t),f(e,"href",s=r[0].script.home),f(e,"class","hover:text-primary transition-colors duration-200")},m(o,l){M(o,e,l),d(e,i),n||(a=B(e,"click",ir(Ch(r[4]))),n=!0)},p(o,l){l&1&&t!==(t=o[0].script.author+"")&&oe(i,t),l&1&&s!==(s=o[0].script.home)&&f(e,"href",s)},d(o){o&&E(e),n=!1,a()}}}function jd(r){let e,t;return e=new Fg({props:{scriptId:r[0].script.id}}),e.$on("close",r[5]),{c(){Qt(e.$$.fragment)},m(i,s){Tt(e,i,s),t=!0},p(i,s){const n={};s&1&&(n.scriptId=i[0].script.id),e.$set(n)},i(i){t||(be(e.$$.fragment,i),t=!0)},o(i){ke(e.$$.fragment,i),t=!1},d(i){Ct(e,i)}}}function y3(r){let e,t,i,s,n,a,o,l,h,c,u,p=r[0].script.title+"",m,g,b,w,y=r[0].script.version+"",v,T,x,P,S,A,Q,I,L,$=Bd(r[0].updated_at)+"",N,R,F,Z,K,ee,W,Y,H,z=r[0].upvotes+"",G,te,q,X,J,ae,fe,Me,le,ce=r[0].comments_count+"",Ze,Le,D,j,ie,ve,Qe,Ve,$e,Fe=r[0].downloads+"",Pt,dt,he,pe,Ce,wt,_t,st,si,vt,rt=(r[0].script.description||"\u6682\u65E0\u63CF\u8FF0\u4FE1\u606F")+"",Ft,lt,De,We,Ne,Se,He,ri,Gt,Wt,je,Kt,vi;function Ut(me,se){return me[0].script.home?b3:O3}let ut=Ut(r),mt=ut(r),Re=r[1]&&jd(r);return{c(){e=O("div"),t=O("div"),i=O("div"),s=O("div"),n=O("div"),a=O("img"),l=k(),h=O("div"),c=O("div"),u=O("h2"),m=U(p),g=k(),b=O("div"),w=U("v"),v=U(y),T=k(),x=O("div"),P=O("div"),S=V("svg"),A=V("path"),Q=k(),I=O("span"),L=U("\u5206\u4EAB\u4E8E "),N=U($),R=k(),F=O("span"),F.textContent="\u2022",Z=k(),K=O("div"),ee=V("svg"),W=V("path"),Y=k(),H=O("span"),G=U(z),te=k(),q=O("span"),q.textContent="\u2022",X=k(),J=O("div"),ae=V("svg"),fe=V("path"),Me=k(),le=O("span"),Ze=U(ce),Le=k(),D=O("span"),D.textContent="\u2022",j=k(),ie=O("div"),ve=V("svg"),Qe=V("path"),Ve=k(),$e=O("span"),Pt=U(Fe),dt=k(),he=O("span"),he.textContent="\u2022",pe=k(),Ce=O("div"),wt=V("svg"),_t=V("path"),st=k(),mt.c(),si=k(),vt=O("p"),Ft=U(rt),lt=k(),De=O("div"),We=k(),Ne=O("div"),Se=O("button"),Se.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>
        \u8BE6\u60C5`,He=k(),ri=O("button"),ri.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7a4 4 0 11-8 0 4 4 0 018 0zM9 14a6 6 0 00-6 6v1h12v-1a6 6 0 00-6-6zM21 12h-6"></path></svg>
        \u53D6\u6D88\u5206\u4EAB`,Gt=k(),Re&&Re.c(),Wt=Li(),ot(a.src,o=kt.getIcon(r[0].script.icon))||f(a,"src",o),f(a,"alt",""),f(a,"class","svelte-1jaqwy9"),f(n,"class","w-12 h-12 rounded-xl ring-1 ring-base-300 ring-offset-2 shadow-sm"),f(s,"class","avatar svelte-1jaqwy9"),f(u,"class","text-lg font-bold truncate"),f(b,"class","badge badge-sm badge-primary badge-outline font-mono"),f(c,"class","flex items-center gap-2 mb-1"),f(A,"d","M10 2a5 5 0 00-5 5v2a2 2 0 00-2 2v5a2 2 0 002 2h10a2 2 0 002-2v-5a2 2 0 00-2-2H7V7a3 3 0 015.905-.75 1 1 0 001.937-.5A5.002 5.002 0 0010 2z"),f(S,"xmlns","http://www.w3.org/2000/svg"),f(S,"class","w-4 h-4"),f(S,"viewBox","0 0 20 20"),f(S,"fill","currentColor"),f(P,"class","flex items-center gap-1"),f(F,"class","text-base-content/30"),f(W,"d","M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"),f(ee,"xmlns","http://www.w3.org/2000/svg"),f(ee,"class","w-3.5 h-3.5"),f(ee,"viewBox","0 0 20 20"),f(ee,"fill","currentColor"),f(K,"class","flex items-center gap-1"),f(q,"class","text-base-content/30"),f(fe,"fill-rule","evenodd"),f(fe,"d","M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z"),f(fe,"clip-rule","evenodd"),f(ae,"xmlns","http://www.w3.org/2000/svg"),f(ae,"class","w-3.5 h-3.5"),f(ae,"viewBox","0 0 20 20"),f(ae,"fill","currentColor"),f(J,"class","flex items-center gap-1"),f(D,"class","text-base-content/30"),f(Qe,"fill-rule","evenodd"),f(Qe,"d","M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"),f(Qe,"clip-rule","evenodd"),f(ve,"xmlns","http://www.w3.org/2000/svg"),f(ve,"class","w-3.5 h-3.5"),f(ve,"viewBox","0 0 20 20"),f(ve,"fill","currentColor"),f(ie,"class","flex items-center gap-1"),f(he,"class","text-base-content/30"),f(_t,"d","M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"),f(wt,"xmlns","http://www.w3.org/2000/svg"),f(wt,"class","w-4 h-4"),f(wt,"viewBox","0 0 20 20"),f(wt,"fill","currentColor"),f(Ce,"class","flex items-center gap-1"),f(x,"class","flex items-center gap-2 text-sm text-base-content/60"),f(h,"class","flex-1 min-w-0"),f(i,"class","flex gap-5"),f(vt,"class","text-sm text-base-content/70 mt-3 line-clamp-2 svelte-1jaqwy9"),f(De,"class","divider my-2 svelte-1jaqwy9"),f(Se,"class","btn btn-sm btn-ghost normal-case hover:bg-base-300"),f(ri,"class","btn btn-sm btn-error normal-case hover:brightness-110"),f(Ne,"class","flex justify-end gap-3"),f(t,"class","card-body p-5"),f(e,"class","card bg-base-200 shadow-md hover:bg-base-300 hover:shadow-lg transition-all duration-300 cursor-pointer")},m(me,se){M(me,e,se),d(e,t),d(t,i),d(i,s),d(s,n),d(n,a),d(i,l),d(i,h),d(h,c),d(c,u),d(u,m),d(c,g),d(c,b),d(b,w),d(b,v),d(h,T),d(h,x),d(x,P),d(P,S),d(S,A),d(P,Q),d(P,I),d(I,L),d(I,N),d(x,R),d(x,F),d(x,Z),d(x,K),d(K,ee),d(ee,W),d(K,Y),d(K,H),d(H,G),d(x,te),d(x,q),d(x,X),d(x,J),d(J,ae),d(ae,fe),d(J,Me),d(J,le),d(le,Ze),d(x,Le),d(x,D),d(x,j),d(x,ie),d(ie,ve),d(ve,Qe),d(ie,Ve),d(ie,$e),d($e,Pt),d(x,dt),d(x,he),d(x,pe),d(x,Ce),d(Ce,wt),d(wt,_t),d(Ce,st),mt.m(Ce,null),d(t,si),d(t,vt),d(vt,Ft),d(t,lt),d(t,De),d(t,We),d(t,Ne),d(Ne,Se),d(Ne,He),d(Ne,ri),M(me,Gt,se),Re&&Re.m(me,se),M(me,Wt,se),je=!0,Kt||(vi=[B(Se,"click",ir(r[3])),B(ri,"click",ir(r[2])),B(e,"click",r[3])],Kt=!0)},p(me,[se]){(!je||se&1&&!ot(a.src,o=kt.getIcon(me[0].script.icon)))&&f(a,"src",o),(!je||se&1)&&p!==(p=me[0].script.title+"")&&oe(m,p),(!je||se&1)&&y!==(y=me[0].script.version+"")&&oe(v,y),(!je||se&1)&&$!==($=Bd(me[0].updated_at)+"")&&oe(N,$),(!je||se&1)&&z!==(z=me[0].upvotes+"")&&oe(G,z),(!je||se&1)&&ce!==(ce=me[0].comments_count+"")&&oe(Ze,ce),(!je||se&1)&&Fe!==(Fe=me[0].downloads+"")&&oe(Pt,Fe),ut===(ut=Ut(me))&&mt?mt.p(me,se):(mt.d(1),mt=ut(me),mt&&(mt.c(),mt.m(Ce,null))),(!je||se&1)&&rt!==(rt=(me[0].script.description||"\u6682\u65E0\u63CF\u8FF0\u4FE1\u606F")+"")&&oe(Ft,rt),me[1]?Re?(Re.p(me,se),se&2&&be(Re,1)):(Re=jd(me),Re.c(),be(Re,1),Re.m(Wt.parentNode,Wt)):Re&&(Nt(),ke(Re,1,1,()=>{Re=null}),Lt())},i(me){je||(be(Re),je=!0)},o(me){ke(Re),je=!1},d(me){me&&E(e),mt.d(),me&&E(Gt),Re&&Re.d(me),me&&E(Wt),Kt=!1,ct(vi)}}}function Bd(r){const e=new Date(r),t=Date.now()-e.getTime(),i=Math.floor(t/(24*60*60*1e3));return i===0?"\u4ECA\u5929":i===1?"\u6628\u5929":i<30?`${i}\u5929\u524D`:e.toLocaleDateString()}function w3(r,e,t){let{script:i}=e;const s=Ss();let n=!1;function a(){Zi.confirm(`\u786E\u8BA4\u53D6\u6D88\u5206\u4EAB\u8FD9\u4E2A\u811A\u672C\u5417?

\u6CE8\u610F:\u7531\u4E8E\u6570\u636E\u7F13\u5B58\u7684\u539F\u56E0,\u53D6\u6D88\u5206\u4EAB\u540E\u811A\u672C\u53EF\u80FD\u9700\u8981\u51E0\u5206\u949F\u624D\u4F1A\u5B8C\u5168\u4ECE\u5E02\u573A\u4E0B\u67B6,\u8BF7\u8010\u5FC3\u7B49\u5F85\u3002`,()=>{s("unshare",i.script.id)})}function o(){t(1,n=!0)}const l=()=>{ztools.shellOpenExternal(i.script.home)},h=()=>t(1,n=!1);return r.$$set=c=>{"script"in c&&t(0,i=c.script)},[i,n,a,o,l,h]}class v3 extends zt{constructor(e){super(),qt(this,e,w3,y3,Dt,{script:0})}}function Xd(r,e,t){const i=r.slice();return i[14]=e[t],i}function x3(r){let e=[],t=new Map,i,s,n,a=r[0];const o=u=>u[14].id;for(let u=0;u<a.length;u+=1){let p=Xd(r,a,u),m=o(p);t.set(m,e[u]=qd(m,p))}function l(u,p){return u[3]?T3:u[2]?A3:S3}let h=l(r),c=h(r);return{c(){for(let u=0;u<e.length;u+=1)e[u].c();i=k(),s=O("div"),c.c(),f(s,"class","py-4 text-center")},m(u,p){for(let m=0;m<e.length;m+=1)e[m].m(u,p);M(u,i,p),M(u,s,p),c.m(s,null),r[9](s),n=!0},p(u,p){p&33&&(a=u[0],Nt(),e=os(e,p,o,1,u,a,t,i.parentNode,Ur,qd,i,Xd),Lt()),h!==(h=l(u))&&(c.d(1),c=h(u),c&&(c.c(),c.m(s,null)))},i(u){if(!n){for(let p=0;p<a.length;p+=1)be(e[p]);n=!0}},o(u){for(let p=0;p<e.length;p+=1)ke(e[p]);n=!1},d(u){for(let p=0;p<e.length;p+=1)e[p].d(u);u&&E(i),u&&E(s),c.d(),r[9](null)}}}function k3(r){let e,t,i,s,n,a,o,l,h;return{c(){e=O("div"),t=V("svg"),i=V("path"),s=k(),n=O("p"),n.textContent="\u8FD8\u6CA1\u6709\u5206\u4EAB\u4EFB\u4F55\u811A\u672C",a=k(),o=O("button"),o.textContent="\u53BB\u5206\u4EAB\u811A\u672C",f(i,"stroke-linecap","round"),f(i,"stroke-linejoin","round"),f(i,"d","M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"class","h-16 w-16 mb-4"),f(t,"fill","none"),f(t,"viewBox","0 0 24 24"),f(t,"stroke","currentColor"),f(t,"stroke-width","1"),f(n,"class","mb-4"),f(o,"class","btn btn-primary btn-sm"),f(e,"class","flex flex-col items-center justify-center py-16 text-base-content/60 col-span-full")},m(c,u){M(c,e,u),d(e,t),d(t,i),d(e,s),d(e,n),d(e,a),d(e,o),l||(h=B(o,"click",r[7]),l=!0)},p:ge,i:ge,o:ge,d(c){c&&E(e),l=!1,h()}}}function P3(r){let e;return{c(){e=O("div"),e.innerHTML='<div class="w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"></div>',f(e,"class","flex items-center justify-center py-16")},m(t,i){M(t,e,i)},p:ge,i:ge,o:ge,d(t){t&&E(e)}}}function qd(r,e){let t,i,s;return i=new v3({props:{script:e[14]}}),i.$on("unshare",e[8]),{key:r,first:null,c(){t=Li(),Qt(i.$$.fragment),this.first=t},m(n,a){M(n,t,a),Tt(i,n,a),s=!0},p(n,a){e=n;const o={};a&1&&(o.script=e[14]),i.$set(o)},i(n){s||(be(i.$$.fragment,n),s=!0)},o(n){ke(i.$$.fragment,n),s=!1},d(n){n&&E(t),Ct(i,n)}}}function S3(r){let e;return{c(){e=O("span"),e.textContent="\u5DF2\u7ECF\u5230\u5E95\u5566",f(e,"class","text-base-content/50 text-sm")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function A3(r){let e;return{c(){e=O("span"),e.textContent="\u4E0A\u6ED1\u52A0\u8F7D\u66F4\u591A",f(e,"class","text-base-content/50 text-sm")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function T3(r){let e;return{c(){e=O("div"),f(e,"class","w-8 h-8 border-3 border-primary border-t-transparent rounded-full animate-spin mx-auto")},m(t,i){M(t,e,i)},d(t){t&&E(e)}}}function C3(r){let e,t,i,s;const n=[P3,k3,x3],a=[];function o(l,h){return l[3]&&l[1]===1?0:!l[0]||l[0].length===0?1:2}return t=o(r),i=a[t]=n[t](r),{c(){e=O("div"),i.c(),f(e,"class","h-full overflow-auto flex flex-col gap-4 p-4 bg-base-100")},m(l,h){M(l,e,h),a[t].m(e,null),s=!0},p(l,[h]){let c=t;t=o(l),t===c?a[t].p(l,h):(Nt(),ke(a[c],1,1,()=>{a[c]=null}),Lt(),i=a[t],i?i.p(l,h):(i=a[t]=n[t](l),i.c()),be(i,1),i.m(e,null))},i(l){s||(be(i),s=!0)},o(l){ke(i),s=!1},d(l){l&&E(e),a[t].d()}}}function _3(r,e,t){let{key:i}=e,s=[],n=1,a=!0,o=!1,l,h;function c(){h&&(h.disconnect(),h=null)}async function u(y=!1){if(!o){t(3,o=!0),y||(t(1,n=1),t(2,a=!0),t(0,s=[]),c());try{const v={page:n,limit:30},T=await bi.getMyScripts(v);!T||T.length===0?t(2,a=!1):(t(0,s=y?[...s,...T]:T),t(1,n+=1))}catch(v){console.error("\u83B7\u53D6\u6211\u7684\u5206\u4EAB\u811A\u672C\u5931\u8D25:",v),xe.error("\u83B7\u53D6\u6211\u7684\u5206\u4EAB\u811A\u672C\u5931\u8D25: "+v.message),t(2,a=!1)}finally{t(3,o=!1)}}}function p(){l&&!h&&(h=new IntersectionObserver(([y])=>{y.isIntersecting&&!o&&a&&u(!0)}),h.observe(l))}async function m(y){try{await bi.deleteScript(y),await u(),xe.success("\u53D6\u6D88\u5206\u4EAB\u6210\u529F!")}catch(v){console.error("\u53D6\u6D88\u5206\u4EAB\u5931\u8D25:",v),xe.error("\u53D6\u6D88\u5206\u4EAB\u5931\u8D25: "+v.message)}}zr(()=>{u()}),Ao(()=>{p()}),or(()=>{h&&h.disconnect()});const g=()=>currentTab="list",b=y=>m(y.detail);function w(y){as[y?"unshift":"push"](()=>{l=y,t(4,l)})}return r.$$set=y=>{"key"in y&&t(6,i=y.key)},r.$$.update=()=>{r.$$.dirty&64&&i&&u()},[s,n,a,o,l,m,i,g,b,w]}class Q3 extends zt{constructor(e){super(),qt(this,e,_3,C3,Dt,{key:6})}}function E3(r){let e,t,i,s,n,a,o,l,h,c,u,p,m,g,b,w,y,v,T,x,P,S,A,Q,I,L,$,N,R,F,Z,K,ee;return v=new ZP({}),P=new g3({}),Q=new Q3({props:{key:r[1]}}),$=new km({}),F=new wb({}),{c(){e=O("div"),t=O("div"),i=O("div"),i.innerHTML='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>',s=k(),n=O("div"),n.innerHTML='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path></svg>',a=k(),o=O("div"),o.innerHTML='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg>',l=k(),h=O("div"),h.innerHTML='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg>',c=k(),u=O("div"),u.innerHTML='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',p=k(),m=O("div"),m.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',g=k(),b=O("div"),w=O("div"),y=O("div"),Qt(v.$$.fragment),T=k(),x=O("div"),Qt(P.$$.fragment),S=k(),A=O("div"),Qt(Q.$$.fragment),I=k(),L=O("div"),Qt($.$$.fragment),N=k(),R=O("div"),Qt(F.$$.fragment),f(i,"class","p-4 hover:bg-base-200 cursor-pointer flex justify-center tooltip tooltip-right"),f(i,"data-tip","\u8FD4\u56DE\u9996\u9875"),f(n,"class","p-4 hover:bg-base-200 cursor-pointer flex justify-center tooltip tooltip-right"),f(n,"data-tip","\u811A\u672C\u7BA1\u7406"),Ae(n,"bg-base-200",r[0]=="list"),f(o,"class","p-4 hover:bg-base-200 cursor-pointer flex justify-center tooltip tooltip-right"),f(o,"data-tip","\u5728\u7EBF\u811A\u672C"),Ae(o,"bg-base-200",r[0]=="online"),f(h,"class","p-4 hover:bg-base-200 cursor-pointer flex justify-center tooltip tooltip-right"),f(h,"data-tip","\u6211\u7684\u5206\u4EAB"),Ae(h,"bg-base-200",r[0]=="myShares"),f(u,"class","p-4 hover:bg-base-200 cursor-pointer flex justify-center tooltip tooltip-right"),f(u,"data-tip","\u5F00\u53D1\u6587\u6863"),Ae(u,"bg-base-200",r[0]=="docs"),f(m,"class","p-4 hover:bg-base-200 cursor-pointer flex justify-center tooltip tooltip-right mt-auto"),f(m,"data-tip","\u5173\u4E8E"),Ae(m,"bg-base-200",r[0]=="about"),f(t,"class","w-16 border-r border-base-300 flex flex-col"),f(y,"class","h-full overflow-auto"),Ae(y,"hidden",r[0]!=="list"),f(x,"class","h-full overflow-auto flex flex-col gap-4 p-4 bg-base-100"),Ae(x,"hidden",r[0]!="online"),f(A,"class","h-full overflow-auto flex flex-col gap-4 p-4 bg-base-100"),Ae(A,"hidden",r[0]!="myShares"),f(L,"class","h-full overflow-auto"),Ae(L,"hidden",r[0]!="docs"),Ae(R,"hidden",r[0]!="about"),f(w,"class","flex-1 overflow-hidden"),f(b,"class","flex-1 flex flex-col overflow-hidden"),f(e,"class","w-screen h-screen overflow-hidden bg-base-100 flex")},m(W,Y){M(W,e,Y),d(e,t),d(t,i),d(t,s),d(t,n),d(t,a),d(t,o),d(t,l),d(t,h),d(t,c),d(t,u),d(t,p),d(t,m),d(e,g),d(e,b),d(b,w),d(w,y),Tt(v,y,null),d(w,T),d(w,x),Tt(P,x,null),d(w,S),d(w,A),Tt(Q,A,null),d(w,I),d(w,L),Tt($,L,null),d(w,N),d(w,R),Tt(F,R,null),Z=!0,K||(ee=[B(i,"click",r[2]),B(n,"click",r[4]),B(o,"click",r[5]),B(h,"click",r[6]),B(u,"click",r[7]),B(m,"click",r[8])],K=!0)},p(W,[Y]){Y&1&&Ae(n,"bg-base-200",W[0]=="list"),Y&1&&Ae(o,"bg-base-200",W[0]=="online"),Y&1&&Ae(h,"bg-base-200",W[0]=="myShares"),Y&1&&Ae(u,"bg-base-200",W[0]=="docs"),Y&1&&Ae(m,"bg-base-200",W[0]=="about"),Y&1&&Ae(y,"hidden",W[0]!=="list"),Y&1&&Ae(x,"hidden",W[0]!="online");const H={};Y&2&&(H.key=W[1]),Q.$set(H),Y&1&&Ae(A,"hidden",W[0]!="myShares"),Y&1&&Ae(L,"hidden",W[0]!="docs"),Y&1&&Ae(R,"hidden",W[0]!="about")},i(W){Z||(be(v.$$.fragment,W),be(P.$$.fragment,W),be(Q.$$.fragment,W),be($.$$.fragment,W),be(F.$$.fragment,W),Z=!0)},o(W){ke(v.$$.fragment,W),ke(P.$$.fragment,W),ke(Q.$$.fragment,W),ke($.$$.fragment,W),ke(F.$$.fragment,W),Z=!1},d(W){W&&E(e),Ct(v),Ct(P),Ct(Q),Ct($),Ct(F),K=!1,ct(ee)}}}function I3(r,e,t){let i="list",s=i,n=0;function a(){fm("/")}const o=()=>t(0,i="list"),l=()=>{t(0,i="online")},h=()=>{t(0,i="myShares")},c=()=>{t(0,i="docs")},u=()=>{t(0,i="about")};return r.$$.update=()=>{r.$$.dirty&11&&i!==s&&(i==="myShares"&&t(1,n++,n),Fi.trackScriptCategoryChange(i),t(3,s=i))},[i,n,a,s,o,l,h,c,u]}class M3 extends zt{constructor(e){super(),qt(this,e,I3,E3,Dt,{})}}var $3={"/":mb,"/scripts":M3};function zd(r){let e,t,i,s,n,a,o=r[0].text+"",l;return{c(){e=O("div"),t=O("div"),i=V("svg"),s=V("path"),n=k(),a=O("span"),l=U(o),f(s,"stroke-linecap","round"),f(s,"stroke-linejoin","round"),f(s,"stroke-width","2"),f(s,"d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),f(i,"xmlns","http://www.w3.org/2000/svg"),f(i,"fill","none"),f(i,"viewBox","0 0 24 24"),f(i,"class","stroke-current flex-shrink-0 w-6 h-6"),f(e,"class","alert alert-info shadow-lg max-w-sm fixed bottom-7 right-7 z-[100] animate__animated animate__fadeInRight")},m(h,c){M(h,e,c),d(e,t),d(t,i),d(i,s),d(t,n),d(t,a),d(a,l)},p(h,c){c&1&&o!==(o=h[0].text+"")&&oe(l,o)},d(h){h&&E(e)}}}function Ud(r){let e,t,i,s,n,a,o=r[0].text+"",l;return{c(){e=O("div"),t=O("div"),i=V("svg"),s=V("path"),n=k(),a=O("span"),l=U(o),f(s,"stroke-linecap","round"),f(s,"stroke-linejoin","round"),f(s,"stroke-width","2"),f(s,"d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"),f(i,"xmlns","http://www.w3.org/2000/svg"),f(i,"class","stroke-current flex-shrink-0 h-6 w-6"),f(i,"fill","none"),f(i,"viewBox","0 0 24 24"),f(e,"class","alert alert-success shadow-lg max-w-sm fixed bottom-7 right-7 z-[100] animate__animated animate__fadeInRight")},m(h,c){M(h,e,c),d(e,t),d(t,i),d(i,s),d(t,n),d(t,a),d(a,l)},p(h,c){c&1&&o!==(o=h[0].text+"")&&oe(l,o)},d(h){h&&E(e)}}}function Vd(r){let e,t,i,s,n,a,o=r[0].text+"",l;return{c(){e=O("div"),t=O("div"),i=V("svg"),s=V("path"),n=k(),a=O("span"),l=U(o),f(s,"stroke-linecap","round"),f(s,"stroke-linejoin","round"),f(s,"stroke-width","2"),f(s,"d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"),f(i,"xmlns","http://www.w3.org/2000/svg"),f(i,"class","stroke-current flex-shrink-0 h-6 w-6"),f(i,"fill","none"),f(i,"viewBox","0 0 24 24"),f(e,"class","alert alert-warning shadow-lg max-w-sm fixed bottom-7 right-7 z-[100] animate__animated animate__fadeInRight")},m(h,c){M(h,e,c),d(e,t),d(t,i),d(i,s),d(t,n),d(t,a),d(a,l)},p(h,c){c&1&&o!==(o=h[0].text+"")&&oe(l,o)},d(h){h&&E(e)}}}function Fd(r){let e,t,i,s,n,a,o=r[0].text+"",l;return{c(){e=O("div"),t=O("div"),i=V("svg"),s=V("path"),n=k(),a=O("span"),l=U(o),f(s,"stroke-linecap","round"),f(s,"stroke-linejoin","round"),f(s,"stroke-width","2"),f(s,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),f(i,"xmlns","http://www.w3.org/2000/svg"),f(i,"class","stroke-current flex-shrink-0 h-6 w-6"),f(i,"fill","none"),f(i,"viewBox","0 0 24 24"),f(e,"class","alert alert-error shadow-lg max-w-sm fixed bottom-7 right-7 z-[100] animate__animated animate__fadeInRight")},m(h,c){M(h,e,c),d(e,t),d(t,i),d(i,s),d(t,n),d(t,a),d(a,l)},p(h,c){c&1&&o!==(o=h[0].text+"")&&oe(l,o)},d(h){h&&E(e)}}}function N3(r){let e,t,i,s,n=r[0].type=="info"&&zd(r),a=r[0].type=="success"&&Ud(r),o=r[0].type=="warning"&&Vd(r),l=r[0].type=="error"&&Fd(r);return{c(){n&&n.c(),e=k(),a&&a.c(),t=k(),o&&o.c(),i=k(),l&&l.c(),s=Li()},m(h,c){n&&n.m(h,c),M(h,e,c),a&&a.m(h,c),M(h,t,c),o&&o.m(h,c),M(h,i,c),l&&l.m(h,c),M(h,s,c)},p(h,[c]){h[0].type=="info"?n?n.p(h,c):(n=zd(h),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),h[0].type=="success"?a?a.p(h,c):(a=Ud(h),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),h[0].type=="warning"?o?o.p(h,c):(o=Vd(h),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null),h[0].type=="error"?l?l.p(h,c):(l=Fd(h),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},i:ge,o:ge,d(h){n&&n.d(h),h&&E(e),a&&a.d(h),h&&E(t),o&&o.d(h),h&&E(i),l&&l.d(h),h&&E(s)}}}function L3(r,e,t){let i;return Si(r,xe,s=>t(0,i=s)),[i]}class D3 extends zt{constructor(e){super(),qt(this,e,L3,N3,Dt,{})}}function R3(r){let e,t,i,s,n,a=r[0].text+"",o,l,h,c,u,p,m,g;return{c(){e=O("div"),t=O("div"),i=O("h3"),i.textContent="\u63D0\u793A",s=k(),n=O("div"),o=U(a),l=k(),h=O("div"),c=O("button"),c.textContent="\u53D6\u6D88",u=k(),p=O("button"),p.textContent="\u786E\u5B9A",f(i,"class","font-bold text-lg"),f(n,"class","my-3"),f(c,"class","btn btn-ghost"),f(p,"class","btn"),f(h,"class","modal-action"),f(t,"class","modal-box"),f(e,"class","modal"),Ae(e,"modal-open",r[0].open)},m(b,w){M(b,e,w),d(e,t),d(t,i),d(t,s),d(t,n),d(n,o),d(t,l),d(t,h),d(h,c),d(h,u),d(h,p),m||(g=[B(c,"click",r[2]),B(p,"click",r[1])],m=!0)},p(b,[w]){w&1&&a!==(a=b[0].text+"")&&oe(o,a),w&1&&Ae(e,"modal-open",b[0].open)},i:ge,o:ge,d(b){b&&E(e),m=!1,ct(g)}}}function Z3(r,e,t){let i,s;Si(r,Zi,o=>t(3,s=o));function n(){Zi.confirmClose(),i.ok()}function a(){Zi.confirmClose(),i.cancel()}return r.$$.update=()=>{r.$$.dirty&8&&t(0,i=s.confirm)},[i,n,a,s]}class j3 extends zt{constructor(e){super(),qt(this,e,Z3,R3,Dt,{})}}function B3(r){let e,t,i,s,n,a;return e=new D3({}),i=new j3({}),n=new p1({props:{routes:$3}}),n.$on("routeLoaded",r[0]),{c(){Qt(e.$$.fragment),t=k(),Qt(i.$$.fragment),s=k(),Qt(n.$$.fragment)},m(o,l){Tt(e,o,l),M(o,t,l),Tt(i,o,l),M(o,s,l),Tt(n,o,l),a=!0},p:ge,i(o){a||(be(e.$$.fragment,o),be(i.$$.fragment,o),be(n.$$.fragment,o),a=!0)},o(o){ke(e.$$.fragment,o),ke(i.$$.fragment,o),ke(n.$$.fragment,o),a=!1},d(o){Ct(e,o),o&&E(t),Ct(i,o),o&&E(s),Ct(n,o)}}}function X3(r){return[t=>{let i=window.location.hash;Fi.trackRouteChange(i)}]}class q3 extends zt{constructor(e){super(),qt(this,e,X3,B3,Dt,{})}}window.ztools&&bn.init().catch(r=>{console.error("\u81EA\u52A8\u58C1\u7EB8\u670D\u52A1\u521D\u59CB\u5316\u5931\u8D25:",r)});new q3({target:document.getElementById("app")});
