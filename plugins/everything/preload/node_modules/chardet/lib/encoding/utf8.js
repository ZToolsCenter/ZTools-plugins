"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const match_1=__importDefault(require("../match"));class Utf8{name(){return"UTF-8"}match(e){let t,r=!1,f=0,i=0,l=0;const s=e.rawInput;e.rawLen>=3&&239==(255&s[0])&&187==(255&s[1])&&191==(255&s[2])&&(r=!0);for(let t=0;t<e.rawLen;t++){const r=s[t];if(128&r){if(192==(224&r))l=1;else if(224==(240&r))l=2;else if(240==(248&r))l=3;else{if(i++,i>5)break;l=0}for(;t++,!(t>=e.rawLen);){if(128!=(192&s[t])){i++;break}if(0==--l){f++;break}}}}if(t=0,r&&0==i)t=100;else if(r&&f>10*i)t=80;else if(f>3&&0==i)t=100;else if(f>0&&0==i)t=80;else if(0==f&&0==i)t=10;else{if(!(f>10*i))return null;t=25}return(0,match_1.default)(e,this,t)}}exports.default=Utf8;